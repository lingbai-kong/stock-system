(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"00c0":function(t,e,a){"use strict";a.r(e);var i=a("4618"),r=a("c6da");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"6509c646",null,!1,i["a"],s);e["default"]=h.exports},"017e":function(t,e,a){"use strict";a.r(e);var i=a("e25c"),r=a("283d");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},"023e":function(t,e){t.exports="/static/search.png"},"067f":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(a("df12")),r=o(a("9416")),n=o(a("1a14")),s=o(a("57dc"));function o(t){return t&&t.__esModule?t:{default:t}}var h={components:{uniPopup:i.default,uniPopupMessage:r.default,uniPopupDialog:n.default,api:s.default},data:function(){return{search_value:"",tab_index:0,tab_list:[],kind:"",uid:"",jwt:"",people_list:[],choose_people_uid:"",stock_list:[],change_grade_text:"",change_status_text:"",new_pw:"",new_repw:"",self_msg:[]}},onShow:function(){this.kind=getApp().globalData.kind,this.uid=getApp().globalData.uid,this.jwt=getApp().globalData.jwt,"normal"==this.kind?(this.tab_list=["\u7528\u6237"],this.getPeople()):(this.tab_list=["\u7ba1\u7406\u5458"],this.getPeople())},methods:{checkpw:function(){var t=this.new_pw;return""==t?(uni.showToast({title:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1):!(t.length<4||t.length>32)||(uni.showToast({title:"\u5bc6\u7801\u957f\u5ea6\u4e3a4-32\u4f4d\uff01",duration:800,icon:"none",position:"bottom"}),!1)},checkrepw:function(){var t=this.new_pw,e=this.new_repw;return""==t?(uni.showToast({title:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1):t==e||(uni.showToast({title:"\u786e\u8ba4\u5bc6\u7801\u4e0e\u5bc6\u7801\u4e0d\u4e00\u81f4\uff01",duration:800,icon:"none",position:"bottom"}),!1)},checkname:function(){var t=this.self_msg[2];return 0!=t.length||(uni.showToast({title:"\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1)},checktelno:function(){var t=this.self_msg[3];return 0==t.length?(uni.showToast({title:"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1):11==t.length||(uni.showToast({title:"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e\uff01",duration:800,icon:"none",position:"bottom"}),!1)},getPeople:function(){var e=this,a={kind:this.kind,uid:this.uid,jwt:this.jwt};s.default.getPeopleList({data:a}).then((function(a){t("log","\u83b7\u53d6\u4eba\u5458\u5217\u8868",a," at pages/manage/manage.vue:236"),200==a.statusCode?("OK"==a.data.msg?e.people_list=a.data.data:uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}}),t("log","\u6210\u529f\u83b7\u53d6\u4eba\u5458\u5217\u8868"," at pages/manage/manage.vue:257")):t("log","\u83b7\u53d6\u4eba\u5458\u5217\u8868\u5931\u8d25"," at pages/manage/manage.vue:259")}))},getStock:function(){},changeTab:function(t){this.tab_index=t,0==this.tab_index&&this.getPeople()},choosePeople:function(t){this.choose_people_uid=t[0],"\u9884\u5907\u7ba1\u7406\u5458"==t[2]?this.change_grade_text="\u5347\u7ea7\u4e3a\u6b63\u5f0f\u7ba1\u7406\u5458":this.change_grade_text="\u964d\u7ea7\u4e3a\u9884\u5907\u7ba1\u7406\u5458","\u6b63\u5e38"==t[2]?this.change_status_text="\u6ce8\u9500\u7528\u6237":this.change_status_text="\u6062\u590d\u7528\u6237",this.$refs.popup.open()},changeMGd:function(){var e=this,a={uid:this.uid,jwt:this.jwt,opid:this.choose_people_uid,method:this.change_grade_text};s.default.changeManagerGrade({data:a}).then((function(a){t("log","\u66f4\u6539\u7ba1\u7406\u5458\u7b49\u7ea7",a," at pages/manage/manage.vue:293"),200==a.statusCode?("OK"==a.data?(e.$refs.popup.close(),e.getPeople()):uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}}),t("log","\u6210\u529f\u66f4\u6539\u7ba1\u7406\u5458\u7b49\u7ea7"," at pages/manage/manage.vue:315")):t("log","\u66f4\u6539\u7ba1\u7406\u5458\u7b49\u7ea7\u5931\u8d25"," at pages/manage/manage.vue:317")}))},changeUst:function(){var e=this,a={uid:this.uid,jwt:this.jwt,opid:this.choose_people_uid,method:this.change_status_text};s.default.changeUserStatus({data:a}).then((function(a){t("log","\u66f4\u6539\u7528\u6237\u72b6\u6001",a," at pages/manage/manage.vue:326"),200==a.statusCode?("OK"==a.data?(e.$refs.popup.close(),e.getPeople()):uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}}),t("log","\u6210\u529f\u66f4\u6539\u7528\u6237\u72b6\u6001"," at pages/manage/manage.vue:348")):t("log","\u66f4\u6539\u7528\u6237\u72b6\u6001\u5931\u8d25"," at pages/manage/manage.vue:350")}))},changePw:function(){this.$refs.popself.close(),this.$refs.popcenter.open()},deleteM:function(){var e=this;uni.showModal({title:"\u786e\u5b9a\u5220\u9664\u7ba1\u7406\u5458"+this.choose_people_uid+"?",content:"",success:function(a){if(a.confirm){t("log","\u7528\u6237\u70b9\u51fb\u786e\u5b9a"," at pages/manage/manage.vue:365");var i={uid:e.uid,jwt:e.jwt,opid:e.choose_people_uid};s.default.deleteManager({data:i}).then((function(a){t("log","\u5220\u9664\u7ba1\u7406\u5458",a," at pages/manage/manage.vue:370"),200==a.statusCode?("OK"==a.data?(e.$refs.popup.close(),e.getPeople()):uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}}),t("log","\u6210\u529f\u66f4\u6539\u7ba1\u7406\u5458\u7b49\u7ea7"," at pages/manage/manage.vue:392")):t("log","\u66f4\u6539\u7ba1\u7406\u5458\u7b49\u7ea7\u5931\u8d25"," at pages/manage/manage.vue:394")}))}}})},submitNewPw:function(){var e=this;if(this.checkpw()&&this.checkrepw()){var a={};a=this.uid==this.choose_people_uid?{kind:"super",uid:this.uid,jwt:this.jwt,opid:this.choose_people_uid,newpw:this.new_pw}:{kind:this.kind,uid:this.uid,jwt:this.jwt,opid:this.choose_people_uid,newpw:this.new_pw},s.default.changePw({data:a}).then((function(a){t("log","\u4fee\u6539\u5bc6\u7801",a," at pages/manage/manage.vue:413"),200==a.statusCode?("OK"==a.data?(e.$refs.popcenter.close(),e.$refs.popup.close(),e.new_pw="",e.new_repw="",e.getPeople()):uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}}),t("log","\u6210\u529f\u4fee\u6539\u5bc6\u7801"," at pages/manage/manage.vue:438")):t("log","\u4fee\u6539\u5bc6\u7801\u5931\u8d25"," at pages/manage/manage.vue:440")}))}},setme:function(){var e=this,a={uid:this.uid,jwt:this.jwt};s.default.getManagerMsg({data:a}).then((function(a){t("log","\u7ba1\u7406\u5458\u4e2a\u4eba\u4fe1\u606f",a," at pages/manage/manage.vue:450"),200==a.statusCode?("OK"==a.data.msg?(e.self_msg=a.data.data,e.choose_people_uid=a.data.data[0]):uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}}),t("log","\u6210\u529f\u83b7\u53d6\u7ba1\u7406\u5458\u4e2a\u4eba\u4fe1\u606f"," at pages/manage/manage.vue:472")):t("log","\u83b7\u53d6\u7ba1\u7406\u5458\u4e2a\u4eba\u4fe1\u606f\u5931\u8d25"," at pages/manage/manage.vue:474")})),this.$refs.popself.open()},updateMsg:function(){var e=this;if(this.checkname()&&this.checktelno()){var a={uid:this.uid,jwt:this.jwt,name:this.self_msg[2],telno:this.self_msg[3]};s.default.updateManagerMsg({data:a}).then((function(a){t("log","\u66f4\u65b0\u7ba1\u7406\u5458\u4e2a\u4eba\u4fe1\u606f",a," at pages/manage/manage.vue:485"),200==a.statusCode?("OK"==a.data?(e.$refs.popself.close(),e.getPeople()):uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}}),t("log","\u6210\u529f\u66f4\u65b0\u7ba1\u7406\u5458\u4e2a\u4eba\u4fe1\u606f"," at pages/manage/manage.vue:507")):t("log","\u66f4\u65b0\u7ba1\u7406\u5458\u4e2a\u4eba\u4fe1\u606f\u5931\u8d25"," at pages/manage/manage.vue:509")}))}}}};e.default=h}).call(this,a("0de9")["default"])},"078a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniPopupMessage",props:{type:{type:String,default:"success"},message:{type:String,default:""},duration:{type:Number,default:3e3}},inject:["popup"],data:function(){return{}},created:function(){this.popup.childrenMsg=this},methods:{open:function(){var t=this;0!==this.duration&&(clearTimeout(this.popuptimer),this.popuptimer=setTimeout((function(){t.popup.close()}),this.duration))},close:function(){clearTimeout(this.popuptimer)}}};e.default=i},"0de9":function(t,e,a){"use strict";function i(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function r(){return"string"===typeof __channelId__&&__channelId__}function n(t,e){switch(i(e)){case"Function":return"function() { [native code] }";default:return e}}function s(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];console[t].apply(console,a)}function o(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var s=e.shift();if(r())return e.push(e.pop().replace("at ","uni-app:///")),console[s].apply(console,e);var o=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,n)+"---END:JSON---"}catch(r){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var a=i(t).toUpperCase();t="NUMBER"===a||"BOOLEAN"===a?"---BEGIN:"+a+"---"+t+"---END:"+a+"---":String(t)}return t})),h="";if(o.length>1){var l=o.pop();h=o.join("---COMMA---"),0===l.indexOf(" at ")?h+=l:h+="---COMMA---"+l}else h=o[0];console[s](h)}a.r(e),a.d(e,"log",(function(){return s})),a.d(e,"default",(function(){return o}))},"10c7":function(t,e,a){"use strict";a.r(e);var i=a("b505"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},1456:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("image",{staticClass:t._$s(1,"sc","backimg"),attrs:{src:t._$s(1,"a-src",t.backimg_url),_i:1}}),a("view"),a("view",[a("view",[a("text",{attrs:{_i:5},on:{click:function(e){return t.tap()}}})]),a("view",[a("form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:t._$s(8,"sc","input"),attrs:{disabled:t._$s(8,"a-disabled",t.lock),_i:8},domProps:{value:t._$s(8,"v-model",t.email)},on:{blur:function(e){return t.checkemail()},input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pw,expression:"pw"}],staticClass:t._$s(9,"sc","input"),attrs:{disabled:t._$s(9,"a-disabled",t.lock),_i:9},domProps:{value:t._$s(9,"v-model",t.pw)},on:{blur:function(e){return t.checkpw()},input:function(e){e.target.composing||(t.pw=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.repw,expression:"repw"}],staticClass:t._$s(10,"sc","input"),attrs:{disabled:t._$s(10,"a-disabled",t.lock),_i:10},domProps:{value:t._$s(10,"v-model",t.repw)},on:{blur:function(e){return t.checkrepw()},input:function(e){e.target.composing||(t.repw=e.target.value)}}}),a("view",{staticClass:t._$s(11,"sc","auth_box"),attrs:{_i:11}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.auth,expression:"auth"}],staticClass:t._$s(12,"sc","auth_code"),attrs:{_i:12},domProps:{value:t._$s(12,"v-model",t.auth)},on:{blur:function(e){return t.checkauth()},input:function(e){e.target.composing||(t.auth=e.target.value)}}}),a("button",{staticClass:t._$s(13,"sc","auth_btn"),attrs:{_i:13},on:{click:function(e){return t.sendauth()}}})])])]),a("view",[a("button",{staticClass:t._$s(15,"sc","button"),attrs:{_i:15},on:{click:function(e){return t.submit()}}})])])])},n=[]},"14b9":function(t,e,a){"use strict";a.r(e);var i=a("d6a8"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"1a14":function(t,e,a){"use strict";a.r(e);var i=a("36da"),r=a("bf8f");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"0682f294",null,!1,i["a"],s);e["default"]=h.exports},"1a3b":function(t,e,a){"use strict";a.r(e);var i=a("d004"),r=a("75e1");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},"1abd":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("b52b"));function r(t){return t&&t.__esModule?t:{default:t}}var n={components:{api:i.default},data:function(){return{assert:[],position:[],detail:[],stock_assert:0,Piedata:{series:[{data:[]}]},ringOpts:{color:["#4ccfff","#f9273f"],legend:{show:!1}}}},onShow:function(){this.Piedata.series[0].data=[],this.get_assert(),this.get_position(),this.get_detail()},methods:{get_assert:function(){var e=this,a={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt};i.default.get_assert({data:a}).then((function(a){if(t("log","\u83b7\u53d6\u8d44\u4ea7\u4fe1\u606f",a," at pages/deal/deal.vue:108"),200==a.statusCode)if(t("log","\u6210\u529f\u83b7\u53d6\u8d44\u4ea7\u4fe1\u606f"," at pages/deal/deal.vue:110"),"OK"==a.data.msg){e.assert=a.data.data;var i=e.Piedata;i.series[0].data.push({name:"\u53ef\u7528\u8d44\u4ea7",value:a.data.data[0].toFixed(2)}),e.Piedata=i}else uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}});else t("log","\u83b7\u53d6\u8d44\u4ea7\u4fe1\u606f\u5931\u8d25"," at pages/deal/deal.vue:136")}))},get_position:function(){var e=this,a={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt};i.default.get_position({data:a}).then((function(a){if(t("log","\u83b7\u53d6\u6301\u4ed3\u4fe1\u606f",a," at pages/deal/deal.vue:145"),200==a.statusCode)if(t("log","\u6210\u529f\u83b7\u53d6\u6301\u4ed3\u4fe1\u606f"," at pages/deal/deal.vue:147"),"OK"==a.data.msg){e.position=a.data.data,e.stock_assert=0;for(var i=0;i<a.data.data.length;i++)e.stock_assert=e.stock_assert+a.data.data[i][1]*a.data.data[i][4];var r=e.Piedata;r.series[0].data.push({name:"\u80a1\u7968\u8d44\u4ea7",value:e.stock_assert.toFixed(2)}),e.Piedata=r}else uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}});else t("log","\u83b7\u53d6\u6301\u4ed3\u4fe1\u606f\u5931\u8d25"," at pages/deal/deal.vue:178")}))},get_detail:function(){var e=this,a={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt};i.default.get_detail({data:a}).then((function(a){t("log","\u83b7\u53d6\u4ea4\u6613\u660e\u7ec6",a," at pages/deal/deal.vue:187"),200==a.statusCode?(t("log","\u6210\u529f\u83b7\u53d6\u4ea4\u6613\u660e\u7ec6"," at pages/deal/deal.vue:189"),"OK"==a.data.msg?e.detail=a.data.data:uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}})):t("log","\u83b7\u53d6\u4ea4\u6613\u660e\u7ec6\u5931\u8d25"," at pages/deal/deal.vue:212")}))},choose_Stock:function(e){t("log","\u9009\u4e2d\u4e86",e[0]," at pages/deal/deal.vue:217"),uni.navigateTo({url:"../Kline/Kline?symbol="+e[0]+"&name="+e[3]})}}};e.default=n}).call(this,a("0de9")["default"])},"1e22":function(t,e,a){"use strict";a.r(e);var i=a("b99d"),r=a("44f4");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"6b39400e",null,!1,i["a"],s);e["default"]=h.exports},"20e0":function(t,e,a){"use strict";a.r(e);var i=a("1456"),r=a("5a1f");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},"21fd":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","container loading2"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","shape shape1"),attrs:{_i:1}}),a("view",{staticClass:t._$s(2,"sc","shape shape2"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","shape shape3"),attrs:{_i:3}}),a("view",{staticClass:t._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},"23c8":function(t,e,a){"use strict";a.r(e);var i=a("66d9"),r=a("e00d");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},2608:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{value:{type:Number,default:0},tabs:{type:Array,default:function(){return[]}},bgColor:{type:String,default:"#fff"},padding:{type:String,default:"0"},color:{type:String,default:"#333"},activeColor:{type:String,default:"#2979ff"},fontSize:{type:String,default:"28rpx"},activeFontSize:{type:String,default:"32rpx"},bold:{type:Boolean,default:!0},scroll:{type:Boolean,default:!0},height:{type:String,default:"70rpx"},lineColor:{type:String,default:"#2979ff"},lineHeight:{type:String,default:"10rpx"},lineScale:{type:Number,default:.5},lineRadius:{type:String,default:"10rpx"},pills:{type:Boolean,deafult:!1},pillsColor:{type:String,default:"#2979ff"},pillsBorderRadius:{type:String,default:"10rpx"},field:{type:String,default:""},fixed:{type:Boolean,default:!1},paddingItem:{type:String,default:"0 22rpx"}},data:function(){return{elId:"",lineWidth:30,currentWidth:0,lineLeft:0,pillsLeft:0,scrollLeft:0,containerWidth:0,current:0}},watch:{value:function(t){var e=this;this.current=t,this.$nextTick((function(){e.getTabItemWidth()}))},current:function(t){this.$emit("input",t)},tabs:function(t){var e=this;this.$nextTick((function(){e.getTabItemWidth()}))}},methods:{randomString:function(t){t=t||32;for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",a=e.length,i="",r=0;r<t;r++)i+=e.charAt(Math.floor(Math.random()*a));return i},change:function(t){this.current!==t&&(this.current=t,this.$emit("change",t))},getTabItemWidth:function(){var t=this,e=uni.createSelectorQuery().in(this);e.select("#scrollContainer").boundingClientRect((function(e){!t.containerWidth&&e&&(t.containerWidth=e.width)})).exec(),e.selectAll(".v-tabs__container-item").boundingClientRect((function(e){if(e){var a=0,i=0;if(e)for(var r=0;r<e.length;r++)if(r<t.current)a+=e[r].width;else{if(r!=t.current)break;i=e[r].width}t.currentWidth=i,t.lineWidth=i*t.lineScale*1,t.lineLeft=a+i/2,t.pillsLeft=a,t.scroll&&(t.scrollLeft=t.lineLeft-t.containerWidth/2)}})).exec()}},mounted:function(){var t=this;this.elId="xfjpeter_"+this.randomString(),this.current=this.value,this.$nextTick((function(){t.getTabItemWidth()}))}};e.default=i},"267e":function(t,e,a){"use strict";a.r(e);var i=a("cecd"),r=a("aecb");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},"27c2":function(t,e,a){"use strict";a.r(e);var i=a("68f0"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},2806:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("a391")),r=s(a("b52b")),n=s(a("6876"));function s(t){return t&&t.__esModule?t:{default:t}}var o={components:{hqapi:i.default,dealapi:r.default,userapi:n.default},data:function(){return{TJdata:[],position:[],stock_assert:0,assert:[],user_msg:[]}},onShow:function(){this.get_TJ_list(),this.get_position(),this.get_assert(),this.get_user_message()},methods:{get_TJ_list:function(){var e=this;i.default.get_TJ_list({data:{}}).then((function(a){t("log","\u83b7\u53d6\u63a8\u8350\u884c\u60c5\u5217\u8868",a," at pages/home/home.vue:87"),200==a.statusCode?(t("log","\u6210\u529f\u83b7\u53d6\u63a8\u8350\u884c\u60c5\u5217\u8868"," at pages/home/home.vue:89"),e.TJdata=a.data.data):t("log","\u83b7\u53d6\u63a8\u8350\u884c\u60c5\u5217\u8868\u5931\u8d25"," at pages/home/home.vue:92")}))},get_position:function(){var e=this,a={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt};r.default.get_position({data:a}).then((function(a){if(t("log","\u83b7\u53d6\u6301\u4ed3\u4fe1\u606f",a," at pages/home/home.vue:101"),200==a.statusCode)if(t("log","\u6210\u529f\u83b7\u53d6\u6301\u4ed3\u4fe1\u606f"," at pages/home/home.vue:103"),"OK"==a.data.msg){e.position=a.data.data,e.stock_assert=0;for(var i=0;i<a.data.data.length;i++)e.stock_assert=e.stock_assert+a.data.data[i][1]*a.data.data[i][4]}else uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}});else t("log","\u83b7\u53d6\u6301\u4ed3\u4fe1\u606f\u5931\u8d25"," at pages/home/home.vue:131")}))},get_assert:function(){var e=this,a={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt};r.default.get_assert({data:a}).then((function(a){t("log","\u83b7\u53d6\u8d44\u4ea7\u4fe1\u606f",a," at pages/home/home.vue:140"),200==a.statusCode?(t("log","\u6210\u529f\u83b7\u53d6\u8d44\u4ea7\u4fe1\u606f"," at pages/home/home.vue:142"),"OK"==a.data.msg?e.assert=a.data.data:uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}})):t("log","\u83b7\u53d6\u8d44\u4ea7\u4fe1\u606f\u5931\u8d25"," at pages/home/home.vue:165")}))},get_user_message:function(){var e=this,a={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt};n.default.get_user_message({data:a}).then((function(a){t("log","\u83b7\u53d6\u7528\u6237\u4fe1\u606f",a," at pages/home/home.vue:174"),200==a.statusCode?(t("log","\u6210\u529f\u83b7\u53d6\u7528\u6237\u4fe1\u606f"," at pages/home/home.vue:176"),"OK"==a.data.msg?e.user_msg=a.data.data:uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}})):t("log","\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25"," at pages/home/home.vue:199")}))},choose_Stock:function(e){t("log","\u9009\u4e2d\u4e86",e[0]," at pages/home/home.vue:204"),uni.navigateTo({url:"../Kline/Kline?symbol="+e[0]+"&name="+e[3]})},changepw:function(){uni.navigateTo({url:"../changepw/changepw"})},logout:function(){getApp().globalData.kind="",getApp().globalData.uid="",getApp().globalData.jwt="",uni.navigateTo({url:"../login/login"})}}};e.default=o}).call(this,a("0de9")["default"])},"283d":function(t,e,a){"use strict";a.r(e);var i=a("a037"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"290c":function(t,e,a){(function(e){var a={MINUTE_ID:101,MULTIDAY_MINUTE_ID:102,HISTORY_MINUTE_ID:103,KLINE_DAY_ID:0,KLINE_WEEK_ID:1,KLINE_MONTH_ID:2,KLINE_YEAR_ID:3,KLINE_MINUTE_ID:4,KLINE_5_MINUTE_ID:5,KLINE_15_MINUTE_ID:6,KLINE_30_MINUTE_ID:7,KLINE_60_MINUTE_ID:8};function i(){this.DataMap=new Map,this.Get=function(t){return this.DataMap.has(t)?this.DataMap.get(t):null},this.Add=function(t){this.DataMap.set(t.ID,t)}}var r=new i;function n(){this.DataMap=new Map([["MA",this.MA],["\u5747\u7ebf",this.MA],["BOLL",this.BOLL],["BBI",this.BBI],["MA4",this.MA4],["MA5",this.MA5],["MA6",this.MA6],["MA7",this.MA7],["MA8",this.MA8],["DKX",this.DKX],["MIKE",this.MIKE],["PBX",this.PBX],["ENE",this.ENE],["MACD",this.MACD],["KDJ",this.KDJ],["MACD2",this.MACD2],["VOL",this.VOL],["\u6210\u4ea4\u91cf",this.VOL],["RSI",this.RSI],["BRAR",this.BRAR],["WR",this.WR],["BIAS",this.BIAS],["OBV",this.OBV],["DMI",this.DMI],["CR",this.CR],["PSY",this.PSY],["CCI",this.CCI],["DMA",this.DMA],["TRIX",this.TRIX],["VR",this.VR],["EMV",this.EMV],["ROC",this.ROC],["MIM",this.MIM],["FSL",this.FSL],["CYR",this.CYR],["MASS",this.MASS],["WAD",this.WAD],["CHO",this.CHO],["ADTM",this.ADTM],["HSL",this.HSL],["BIAS36",this.BIAS36],["BIAS_QL",this.BIAS_QL],["DPO",this.DPO],["OSC",this.OSC],["ATR",this.ATR],["NVI",this.NVI],["PVI",this.PVI],["UOS",this.UOS],["CYW",this.CYW],["LON",this.LON],["NDB",this.NDB],["SKDJ",this.SKDJ],["KD",this.KD],["FKX",this.FKX],["DKCOL",this.DKCOL],["UDL",this.UDL],["MFI",this.MFI],["LWR",this.LWR],["MARSI",this.MARSI],["CYD",this.CYD],["CYF",this.CYF],["TAPI",this.TAPI],["VMACD",this.VMACD],["QACD",this.QACD],["VPT",this.VPT],["WVAD",this.WVAD],["DBQR",this.DBQR],["JS",this.JS],["CYE",this.CYE],["QR",this.QR],["GDX",this.GDX],["JLHB",this.JLHB],["PCNT",this.PCNT],["BTX",this.BTX],["AMO",this.AMO],["VRSI",this.VRSI],["HSCOL",this.HSCOL],["DBQRV",this.DBQRV],["DBLB",this.DBLB],["ACD",this.ACD],["EXPMA",this.EXPMA],["EXPMA_S",this.EXPMA_S],["HMA",this.HMA],["LMA",this.LMA],["VMA",this.VMA],["AMV",this.AMV],["BBIBOLL",this.BBIBOLL],["ALLIGAT",this.ALLIGAT],["ZX",this.ZX],["XS",this.XS],["XS2",this.XS2],["SG-XDT",this.SG_XDT],["SG-SMX",this.SG_SMX],["SG-LB",this.SG_LB],["SG-PF",this.SG_PF],["RAD",this.RAD],["SHT",this.SHT],["ZLJC",this.ZLJC],["ZLMM",this.ZLMM],["SLZT",this.SLZT],["ADVOL",this.ADVOL],["CYC",this.CYC],["CYS",this.CYS],["CYQKL",this.CYQKL],["SQJZ",this.SQJZ],["XT",this.XT],["CFJT",this.CFJT],["CYX",this.CYX],["WAVE",this.WAVE],["SCR",this.SCR],["ASR",this.ASR],["SAR",this.SAR],["TJCJL",this.TJCJL],["\u91cf\u6bd4",this.VOLRate],["EMPTY",this.EMPTY],["\u64cd\u76d8BS\u70b9",this.FXG_BSPoint],["CJL2",this.CJL],["Zealink-\u8d44\u91d1\u5438\u7b79",this.Zealink_Index1],["Zealink-\u725b\u718a\u533a\u95f4",this.Zealink_Index2],["Zealink-\u6301\u4ed3\u4fe1\u53f7",this.Zealink_Index3],["Zealink-\u589e\u51cf\u6301",this.Zealink_Index4],["Zealink-\u5927\u5b97\u4ea4\u6613",this.Zealink_Index5],["Zealink-\u4fe1\u6258\u6301\u80a1",this.Zealink_Index6],["Zealink-\u5b98\u7f51\u65b0\u95fb",this.Zealink_Index7],["Zealink-\u9ad8\u7ba1\u8981\u95fb",this.Zealink_Index8],["Zealink-\u80a1\u6743\u8d28\u62bc",this.Zealink_Index9],["\u98de\u9f99\u56db\u5f0f",this.Dragon4_Main],["\u98de\u9f99\u56db\u5f0f-\u9644\u56fe",this.Dragon4_Fig],["\u8d44\u91d1\u5206\u6790",this.FundsAnalysis],["\u878d\u8d44\u5360\u6bd4",this.MarginProportion],["\u8d1f\u9762\u65b0\u95fb",this.NewsNegative],["\u673a\u6784\u8c03\u7814",this.NewsResearch],["\u8463\u79d8\u8fde\u7ebf",this.NewsInteract],["\u6da8\u8dcc\u8d8b\u52bf",this.UpDownAnalyze],["\u653e\u5fc3\u80a1-\u64cd\u76d8BS\u70b9",this.FXG_BSPoint],["\u653e\u5fc3\u80a1-\u6da8\u505c\u591a\u7a7a\u7ebf",this.FXG_INDEX],["\u653e\u5fc3\u80a1-\u6da8\u505c\u5438\u7b79\u533a",this.FXG_INDEX2],["\u653e\u5fc3\u80a1-\u91cf\u80fd\u9ec4\u91d1\u70b9",this.FXG_INDEX3],["\u4e94\u5f69K\u7ebf-\u5341\u5b57\u661f",this.COLOR_KSTAR1],["\u4e94\u5f69K\u7ebf-\u65e9\u6668\u4e4b\u661f",this.COLOR_KSTAR2],["\u4e94\u5f69K\u7ebf-\u9ec4\u660f\u4e4b\u661f",this.COLOR_KSTAR3],["\u4e94\u5f69K\u7ebf-\u957f\u5341\u5b57",this.COLOR_SHI1],["\u4e94\u5f69K\u7ebf-\u8eab\u6000\u516d\u7532",this.COLOR_K220],["\u4e94\u5f69K\u7ebf-\u4e09\u4e2a\u767d\u6b66\u58eb",this.COLOR_K300],["\u4e94\u5f69K\u7ebf-\u4e09\u53ea\u4e4c\u9e26",this.COLOR_K310],["\u4e94\u5f69K\u7ebf-\u5149\u5934\u9633\u7ebf",this.COLOR_K380],["\u4e94\u5f69K\u7ebf-\u5149\u811a\u9634\u7ebf",this.COLOR_K390],["\u4e94\u5f69K\u7ebf-\u5782\u6b7b\u5341\u5b57",this.COLOR_K134],["\u4e94\u5f69K\u7ebf-\u65e9\u6668\u5341\u5b57\u661f",this.COLOR_K140],["\u4e94\u5f69K\u7ebf-\u9ec4\u660f\u5341\u5b57\u661f",this.COLOR_K150],["\u4e94\u5f69K\u7ebf-\u5c04\u51fb\u4e4b\u661f",this.COLOR_K160],["\u4e94\u5f69K\u7ebf-\u5012\u8f6c\u9524\u5934",this.COLOR_K165],["\u4e94\u5f69K\u7ebf-\u9524\u5934",this.COLOR_K170],["\u4e94\u5f69K\u7ebf-\u540a\u9888",this.COLOR_K180],["\u4e94\u5f69K\u7ebf-\u7a7f\u5934\u7834\u811a",this.COLOR_K190],["\u4e94\u5f69K\u7ebf-\u51fa\u6c34\u8299\u84c9",this.COLOR_CSFR],["\u4e94\u5f69K\u7ebf-\u4e4c\u4e91\u76d6\u9876",this.COLOR_WYGD],["\u4e94\u5f69K\u7ebf-\u66d9\u5149\u521d\u73b0",this.COLOR_SGCJ],["\u4e94\u5f69K\u7ebf-\u5341\u5b57\u80ce",this.COLOR_SZTAI],["\u4e94\u5f69K\u7ebf-\u5251",this.COLOR_SWORD],["\u4e94\u5f69K\u7ebf-\u5e73\u9876",this.COLOR_PINGDING],["\u4e94\u5f69K\u7ebf-\u5e73\u5e95",this.COLOR_PINGDI],["\u4e94\u5f69K\u7ebf-\u5927\u9633\u70db",this.COLOR_DAYANZHU],["\u4e94\u5f69K\u7ebf-\u5927\u9634\u70db",this.COLOR_DAYINGZHU],["\u4e94\u5f69K\u7ebf-\u597d\u53cb\u53cd\u653b",this.COLOR_HYFG],["\u4e94\u5f69K\u7ebf-\u8df3\u7a7a\u7f3a\u53e3",this.COLOR_TKQK],["\u4e94\u5f69K\u7ebf-\u53cc\u98de\u4e4c\u9e26",this.COLOR_SFWY],["\u4e94\u5f69K\u7ebf-\u4e0a\u5347\u4e09\u90e8\u66f2",this.COLOR_SSSBQ],["\u4e94\u5f69K\u7ebf-\u4e0b\u8dcc\u4e09\u90e8\u66f2",this.COLOR_XDSBQ],["\u4e94\u5f69K\u7ebf-\u957f\u4e0b\u5f71",this.COLOR_CHXY],["\u4e94\u5f69K\u7ebf-\u957f\u4e0a\u5f71",this.COLOR_CHSY],["\u4e94\u5f69K\u7ebf-\u5206\u79bb",this.COLOR_FENLI],["\u4ea4\u6613\u7cfb\u7edf-BIAS",this.TRADE_BIAS],["\u4ea4\u6613\u7cfb\u7edf-CCI",this.TRADE_CCI],["\u4ea4\u6613\u7cfb\u7edf-DMI",this.TRADE_DMI],["\u4ea4\u6613\u7cfb\u7edf-KD",this.TRADE_KD],["\u4ea4\u6613\u7cfb\u7edf-BOLL",this.TRADE_BOLL],["\u4ea4\u6613\u7cfb\u7edf-KDJ",this.TRADE_KDJ],["\u4ea4\u6613\u7cfb\u7edf-MA",this.TRADE_MA],["\u4ea4\u6613\u7cfb\u7edf-MACD",this.TRADE_MACD],["\u4ea4\u6613\u7cfb\u7edf-MTM",this.TRADE_MTM],["\u4ea4\u6613\u7cfb\u7edf-PSY",this.TRADE_PSY],["\u4ea4\u6613\u7cfb\u7edf-ROC",this.TRADE_ROC],["\u4ea4\u6613\u7cfb\u7edf-RSI",this.TRADE_RSI],["\u4ea4\u6613\u7cfb\u7edf-VR",this.TRADE_VR],["\u4ea4\u6613\u7cfb\u7edf-DPSJ",this.TRADE_DPSJ],["TEST",this.TEST]])}n.AddIndex=function(t){for(var e in t)r.Add(t[e])},n.prototype.Get=function(t){var a=r.Get(t);if(a)return a;var i=this.DataMap.get(t);return i?i():(e("log","[JSIndexScript::Get] can't find index by id=".concat(t)," at umychart.uniapp/umychart.index.data.wechat.js:160"),null)},n.prototype.MA=function(){var t={Name:"MA",Description:"\u5747\u7ebf",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);"};return t},n.prototype.MA4=function(){var t={Name:"MA",Description:"\u5747\u7ebf",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);"};return t},n.prototype.MA5=function(){var t={Name:"MA",Description:"\u5747\u7ebf",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);"};return t},n.prototype.MA6=function(){var t={Name:"MA",Description:"\u5747\u7ebf",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);"};return t},n.prototype.MA7=function(){var t={Name:"MA",Description:"\u5747\u7ebf",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0},{Name:"M7",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"},{Name:"MA7",DynamicName:"MA{M7}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);\nMA7:MA(CLOSE,M7);"};return t},n.prototype.MA8=function(){var t={Name:"MA",Description:"\u5747\u7ebf",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0},{Name:"M7",Value:0},{Name:"M8",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"},{Name:"MA7",DynamicName:"MA{M7}"},{Name:"MA8",DynamicName:"MA{M8}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);\nMA7:MA(CLOSE,M7);\nMA8:MA(CLOSE,M8);"};return t},n.prototype.BOLL=function(){var t={Name:"BOLL",Description:"\u5e03\u6797\u7ebf",IsMainIndex:!0,KLineType:2,Args:[{Name:"M",Value:20}],Script:"BOLL:MA(CLOSE,M);\nUB:BOLL+2*STD(CLOSE,M);\nLB:BOLL-2*STD(CLOSE,M);"};return t},n.prototype.BBI=function(){var t={Name:"BBI",Description:"\u591a\u7a7a\u5747\u7ebf",IsMainIndex:!0,Args:[{Name:"M1",Value:3},{Name:"M2",Value:6},{Name:"M3",Value:12},{Name:"M4",Value:24}],Script:"BBI:(MA(CLOSE,M1)+MA(CLOSE,M2)+MA(CLOSE,M3)+MA(CLOSE,M4))/4;"};return t},n.prototype.DKX=function(){var t={Name:"DKX",Description:"\u591a\u7a7a\u7ebf",IsMainIndex:!1,Args:[{Name:"M",Value:10}],Script:"MID:=(3*CLOSE+LOW+OPEN+HIGH)/6;\nDKX:(20*MID+19*REF(MID,1)+18*REF(MID,2)+17*REF(MID,3)+\n16*REF(MID,4)+15*REF(MID,5)+14*REF(MID,6)+\n13*REF(MID,7)+12*REF(MID,8)+11*REF(MID,9)+\n10*REF(MID,10)+9*REF(MID,11)+8*REF(MID,12)+\n7*REF(MID,13)+6*REF(MID,14)+5*REF(MID,15)+\n4*REF(MID,16)+3*REF(MID,17)+2*REF(MID,18)+REF(MID,20))/210;\nMADKX:MA(DKX,M);"};return t},n.prototype.MIKE=function(){var t={Name:"MIKE",Description:"\u9ea6\u514b\u652f\u6491\u538b\u529b",IsMainIndex:!0,Args:[{Name:"N",Value:10}],Script:"HLC:=REF(MA((HIGH+LOW+CLOSE)/3,N),1);\nHV:=EMA(HHV(HIGH,N),3);\nLV:=EMA(LLV(LOW,N),3);\nSTOR:EMA(2*HV-LV,3);\nMIDR:EMA(HLC+HV-LV,3);\nWEKR:EMA(HLC*2-LV,3);\nWEKS:EMA(HLC*2-HV,3);\nMIDS:EMA(HLC-HV+LV,3);\nSTOS:EMA(2*LV-HV,3);"};return t},n.prototype.PBX=function(){var t={Name:"PBX",Description:"\u7011\u5e03\u7ebf",IsMainIndex:!0,Args:[{Name:"M1",Value:4},{Name:"M2",Value:6},{Name:"M3",Value:9},{Name:"M4",Value:13},{Name:"M5",Value:18},{Name:"M6",Value:24}],Script:"PBX1:(EMA(CLOSE,M1)+MA(CLOSE,M1*2)+MA(CLOSE,M1*4))/3;\nPBX2:(EMA(CLOSE,M2)+MA(CLOSE,M2*2)+MA(CLOSE,M2*4))/3;\nPBX3:(EMA(CLOSE,M3)+MA(CLOSE,M3*2)+MA(CLOSE,M3*4))/3;\nPBX4:(EMA(CLOSE,M4)+MA(CLOSE,M4*2)+MA(CLOSE,M4*4))/3;\nPBX5:(EMA(CLOSE,M5)+MA(CLOSE,M5*2)+MA(CLOSE,M5*4))/3;\nPBX6:(EMA(CLOSE,M6)+MA(CLOSE,M6*2)+MA(CLOSE,M6*4))/3;"};return t},n.prototype.ENE=function(){var t={Name:"ENE",Description:"\u8f68\u9053\u7ebf",IsMainIndex:!0,Args:[{Name:"N",Value:25},{Name:"M1",Value:6},{Name:"M2",Value:6}],Script:"UPPER:(1+M1/100)*MA(CLOSE,N);\nLOWER:(1-M2/100)*MA(CLOSE,N);\nENE:(UPPER+LOWER)/2;"};return t},n.prototype.MACD=function(){var t={Name:"MACD",Description:"\u5e73\u6ed1\u5f02\u540c\u5e73\u5747",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF:EMA(CLOSE,SHORT)-EMA(CLOSE,LONG);\nDEA:EMA(DIF,MID);\nMACD:(DIF-DEA)*2,COLORSTICK;"};return t},n.prototype.MACD2=function(){var t={Name:"MACD",Description:"\u5e73\u6ed1\u5f02\u540c\u5e73\u5747",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF2:=EMA(CLOSE,SHORT)-EMA(CLOSE,LONG);\nDEA2:=EMA(DIF2,MID);\nMACD:(DIF2-DEA2)*2,COLORSTICK,LINETHICK50;\nDIF:DIF2;\nDEA:DEA2;"};return t},n.prototype.KDJ=function(){var t={Name:"KDJ",Description:"\u968f\u673a\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:SMA(RSV,M1,1);\nD:SMA(K,M2,1);\nJ:3*K-2*D;"};return t},n.prototype.VOL=function(){var t={Name:"VOL",Description:"\u6210\u4ea4\u91cf",IsMainIndex:!1,FloatPrecision:0,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"}],Script:"VOLUME:=VOL;\nVOL:VOL,VOLSTICK;\nMA1:MA(VOLUME,M1);\nMA2:MA(VOLUME,M2);"};return t},n.prototype.RSI=function(){var t={Name:"RSI",Description:"\u76f8\u5bf9\u5f3a\u5f31\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"LC:=REF(CLOSE,1);\nRSI1:SMA(MAX(CLOSE-LC,0),N1,1)/SMA(ABS(CLOSE-LC),N1,1)*100;\nRSI2:SMA(MAX(CLOSE-LC,0),N2,1)/SMA(ABS(CLOSE-LC),N2,1)*100;\nRSI3:SMA(MAX(CLOSE-LC,0),N3,1)/SMA(ABS(CLOSE-LC),N3,1)*100;"};return t},n.prototype.BRAR=function(){var t={Name:"BRAR",Description:"\u60c5\u7eea\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:26}],Script:"BR:SUM(MAX(0,HIGH-REF(CLOSE,1)),N)/SUM(MAX(0,REF(CLOSE,1)-LOW),N)*100;\nAR:SUM(HIGH-OPEN,N)/SUM(OPEN-LOW,N)*100;"};return t},n.prototype.WR=function(){var t={Name:"WR",Description:"\u5a01\u5ec9\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:10},{Name:"N1",Value:6}],Script:"WR1:100*(HHV(HIGH,N)-CLOSE)/(HHV(HIGH,N)-LLV(LOW,N));\nWR2:100*(HHV(HIGH,N1)-CLOSE)/(HHV(HIGH,N1)-LLV(LOW,N1));"};return t},n.prototype.BIAS=function(){var t={Name:"BIAS",Description:"\u4e56\u79bb\u7387",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"BIAS1 :(CLOSE-MA(CLOSE,N1))/MA(CLOSE,N1)*100;\nBIAS2 :(CLOSE-MA(CLOSE,N2))/MA(CLOSE,N2)*100;\nBIAS3 :(CLOSE-MA(CLOSE,N3))/MA(CLOSE,N3)*100;"};return t},n.prototype.OBV=function(){var t={Name:"OBV",Description:"\u7d2f\u79ef\u80fd\u91cf\u7ebf",IsMainIndex:!1,Args:[{Name:"M",Value:30}],Script:"VA:=IF(CLOSE>REF(CLOSE,1),VOL,-VOL);\nOBV:SUM(IF(CLOSE==REF(CLOSE,1),0,VA),0);\nMAOBV:MA(OBV,M);"};return t},n.prototype.DMI=function(){var t={Name:"DMI",Description:"\u8d8b\u5411\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"MM",Value:6}],Script:"MTR:=EXPMEMA(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(REF(CLOSE,1)-LOW)),N);\nHD :=HIGH-REF(HIGH,1);\nLD :=REF(LOW,1)-LOW;\nDMP:=EXPMEMA(IF(HD>0&&HD>LD,HD,0),N);\nDMM:=EXPMEMA(IF(LD>0&&LD>HD,LD,0),N);\nPDI: DMP*100/MTR;\nMDI: DMM*100/MTR;\nADX: EXPMEMA(ABS(MDI-PDI)/(MDI+PDI)*100,MM);\nADXR:EXPMEMA(ADX,MM);"};return t},n.prototype.CR=function(){var t={Name:"CR",Description:"\u5e26\u72b6\u80fd\u91cf\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:26},{Name:"M1",Value:10},{Name:"M2",Value:20},{Name:"M3",Value:40},{Name:"M4",Value:62}],Script:"MID:=REF(HIGH+LOW,1)/2;\nCR:SUM(MAX(0,HIGH-MID),N)/SUM(MAX(0,MID-LOW),N)*100;\nMA1:REF(MA(CR,M1),M1/2.5+1);\nMA2:REF(MA(CR,M2),M2/2.5+1);\nMA3:REF(MA(CR,M3),M3/2.5+1);\nMA4:REF(MA(CR,M4),M4/2.5+1);"};return t},n.prototype.PSY=function(){var t={Name:"PSY",Description:"\u5fc3\u7406\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"PSY:COUNT(CLOSE>REF(CLOSE,1),N)/N*100;\rPSYMA:MA(PSY,M);"};return t},n.prototype.CCI=function(){var t={Name:"CCI",Description:"\u5546\u54c1\u8def\u5f84\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:14}],Script:"TYP:=(HIGH+LOW+CLOSE)/3;\nCCI:(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N));"};return t},n.prototype.DMA=function(){var t={Name:"DMA",Description:"\u5e73\u5747\u5dee",IsMainIndex:!1,Args:[{Name:"N1",Value:10},{Name:"N2",Value:50},{Name:"M",Value:10}],Script:"DIF:MA(CLOSE,N1)-MA(CLOSE,N2);\nDIFMA:MA(DIF,M);"};return t},n.prototype.TRIX=function(){var t={Name:"TRIX",Description:"\u4e09\u91cd\u6307\u6570\u5e73\u5747\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:9}],Script:"MTR:=EMA(EMA(EMA(CLOSE,N),N),N);\nTRIX:(MTR-REF(MTR,1))/REF(MTR,1)*100;\nMATRIX:MA(TRIX,M) ;"};return t},n.prototype.VR=function(){var t={Name:"VR",Description:"\u6210\u4ea4\u91cf\u53d8\u5f02\u7387",IsMainIndex:!1,Args:[{Name:"N",Value:26},{Name:"M",Value:6}],Script:"TH:=SUM(IF(CLOSE>REF(CLOSE,1),VOL,0),N);\nTL:=SUM(IF(CLOSE<REF(CLOSE,1),VOL,0),N);\nTQ:=SUM(IF(CLOSE==REF(CLOSE,1),VOL,0),N);\nVR:100*(TH*2+TQ)/(TL*2+TQ);\nMAVR:MA(VR,M);"};return t},n.prototype.EMV=function(){var t={Name:"EMV",Description:"\u7b80\u6613\u6ce2\u52a8\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"M",Value:9}],Script:"VOLUME:=MA(VOL,N)/VOL;\nMID:=100*(HIGH+LOW-REF(HIGH+LOW,1))/(HIGH+LOW);\nEMV:MA(MID*VOLUME*(HIGH-LOW)/MA(HIGH-LOW,N),N);\nMAEMV:MA(EMV,M);"};return t},n.prototype.ROC=function(){var t={Name:"ROC",Description:"\u53d8\u52a8\u7387\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"ROC:100*(CLOSE-REF(CLOSE,N))/REF(CLOSE,N);\nMAROC:MA(ROC,M);"};return t},n.prototype.MIM=function(){var t={Name:"MIM",Description:"\u52a8\u91cf\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"MTM:CLOSE-REF(CLOSE,N);\nMAMTM:MA(MTM,M);"};return t},n.prototype.FSL=function(){var t={Name:"FSL",Description:"\u5206\u6c34\u5cad",IsMainIndex:!1,Args:[],Script:"SWL:(EMA(CLOSE,5)*7+EMA(CLOSE,10)*3)/10;\nSWS:DMA(EMA(CLOSE,12),MAX(1,100*(SUM(VOL,5)/(3*CAPITAL))));"};return t},n.prototype.CYR=function(){var t={Name:"CYR",Description:"\u5e02\u573a\u5f3a\u5f31",IsMainIndex:!1,Args:[{Name:"N",Value:13},{Name:"M",Value:5}],Script:"DIVE:=0.01*EMA(AMOUNT,N)/EMA(VOL,N);\nCYR:(DIVE/REF(DIVE,1)-1)*100;\nMACYR:MA(CYR,M);"};return t},n.prototype.MASS=function(){var t={Name:"MASS",Description:"\u5e02\u573a\u5f3a\u5f31",IsMainIndex:!1,Args:[{Name:"N1",Value:9},{Name:"N2",Value:25},{Name:"M",Value:6}],Script:"MASS:SUM(MA(HIGH-LOW,N1)/MA(MA(HIGH-LOW,N1),N1),N2);\nMAMASS:MA(MASS,M);"};return t},n.prototype.WAD=function(){var t={Name:"WAD",Description:"\u5a01\u5ec9\u591a\u7a7a\u529b\u5ea6\u7ebf",IsMainIndex:!1,Args:[{Name:"M",Value:30}],Script:"MIDA:=CLOSE-MIN(REF(CLOSE,1),LOW);\nMIDB:=IF(CLOSE<REF(CLOSE,1),CLOSE-MAX(REF(CLOSE,1),HIGH),0);\nWAD:SUM(IF(CLOSE>REF(CLOSE,1),MIDA,MIDB),0);\nMAWAD:MA(WAD,M);"};return t},n.prototype.CHO=function(){var t={Name:"CHO",Description:"\u4f73\u5e86\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N1",Value:10},{Name:"N2",Value:20},{Name:"M",Value:6}],Script:"MID:=SUM(VOL*(2*CLOSE-HIGH-LOW)/(HIGH+LOW),0);\nCHO:MA(MID,N1)-MA(MID,N2);\nMACHO:MA(CHO,M);"};return t},n.prototype.ADTM=function(){var t={Name:"ADTM",Description:"\u52a8\u6001\u4e70\u5356\u6c14\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:23},{Name:"M",Value:8}],Script:"DTM:=IF(OPEN<=REF(OPEN,1),0,MAX((HIGH-OPEN),(OPEN-REF(OPEN,1))));\nDBM:=IF(OPEN>=REF(OPEN,1),0,MAX((OPEN-LOW),(OPEN-REF(OPEN,1))));\nSTM:=SUM(DTM,N);\nSBM:=SUM(DBM,N);\nADTM:IF(STM>SBM,(STM-SBM)/STM,IF(STM==SBM,0,(STM-SBM)/SBM));\nMAADTM:MA(ADTM,M);"};return t},n.prototype.HSL=function(){var t={Name:"HSL",Description:"\u6362\u624b\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"HSL:IF((SETCODE==0||SETCODE==1),100*VOL,VOL)/(FINANCE(7)/100);\nMAHSL:MA(HSL,N);"};return t},n.prototype.BIAS36=function(){var t={Name:"BIAS36",Description:"\u4e09\u516d\u4e56\u79bb",IsMainIndex:!1,Args:[{Name:"M",Value:6}],Script:"BIAS36:MA(CLOSE,3)-MA(CLOSE,6);\nBIAS612:MA(CLOSE,6)-MA(CLOSE,12);\nMABIAS:MA(BIAS36,M);"};return t},n.prototype.BIAS_QL=function(){var t={Name:"BIAS_QL",Description:"\u4e56\u79bb\u7387-\u4f20\u7edf\u7248",IsMainIndex:!1,Args:[{Name:"N",Value:6},{Name:"M",Value:6}],Script:"BIAS :(CLOSE-MA(CLOSE,N))/MA(CLOSE,N)*100;\nBIASMA :MA(BIAS,M);"};return t},n.prototype.DPO=function(){var t={Name:"DPO",Description:"\u533a\u95f4\u9707\u8361\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:20},{Name:"M",Value:6}],Script:"DPO:CLOSE-REF(MA(CLOSE,N),N/2+1);\nMADPO:MA(DPO,M);"};return t},n.prototype.OSC=function(){var t={Name:"OSC",Description:"\u53d8\u52a8\u901f\u7387\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:20},{Name:"M",Value:6}],Script:"OSC:100*(CLOSE-MA(CLOSE,N));\nMAOSC:EXPMEMA(OSC,M);"};return t},n.prototype.ATR=function(){var t={Name:"ATR",Description:"\u771f\u5b9e\u6ce2\u5e45",IsMainIndex:!1,Args:[{Name:"N",Value:14}],Script:"MTR:MAX(MAX((HIGH-LOW),ABS(REF(CLOSE,1)-HIGH)),ABS(REF(CLOSE,1)-LOW));\nATR:MA(MTR,N);"};return t},n.prototype.NVI=function(){var t={Name:"ATR",Description:"\u8d1f\u6210\u4ea4\u91cf",IsMainIndex:!1,Args:[{Name:"N",Value:72}],Script:"NVI:100*MULAR(IF(V<REF(V,1),C/REF(C,1),1),0);\nMANVI:MA(NVI,N);"};return t},n.prototype.PVI=function(){var t={Name:"PVI",Description:"\u6b63\u6210\u4ea4\u91cf",IsMainIndex:!1,Args:[{Name:"N",Value:72}],Script:"NVI:100*MULAR(IF(V>REF(V,1),C/REF(C,1),1),0);\nMANVI:MA(NVI,N);"};return t},n.prototype.UOS=function(){var t={Name:"UOS",Description:"\u7ec8\u6781\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N1",Value:7},{Name:"N2",Value:14},{Name:"N3",Value:28},{Name:"M",Value:6}],Script:"TH:=MAX(HIGH,REF(CLOSE,1));\nTL:=MIN(LOW,REF(CLOSE,1));\nACC1:=SUM(CLOSE-TL,N1)/SUM(TH-TL,N1);\nACC2:=SUM(CLOSE-TL,N2)/SUM(TH-TL,N2);\nACC3:=SUM(CLOSE-TL,N3)/SUM(TH-TL,N3);\nUOS:(ACC1*N2*N3+ACC2*N1*N3+ACC3*N1*N2)*100/(N1*N2+N1*N3+N2*N3);\nMAUOS:EXPMEMA(UOS,M);"};return t},n.prototype.CYW=function(){var t={Name:"CYW",Description:"\u4e3b\u529b\u63a7\u76d8",IsMainIndex:!1,Args:[],Script:"VAR1:=CLOSE-LOW;\nVAR2:=HIGH-LOW;\nVAR3:=CLOSE-HIGH;\nVAR4:=IF(HIGH>LOW,(VAR1/VAR2+VAR3/VAR2)*VOL,0);\nCYW: SUM(VAR4,10)/10000, COLORSTICK;"};return t},n.prototype.LON=function(){var t={Name:"LON",Description:"\u9f99\u7cfb\u957f\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:10}],Script:"LC := REF(CLOSE,1);\nVID := SUM(VOL,2)/(((HHV(HIGH,2)-LLV(LOW,2)))*100);\nRC := (CLOSE-LC)*VID;\nLONG := SUM(RC,0);\nDIFF := SMA(LONG,10,1);\nDEA := SMA(LONG,20,1);\nLON : DIFF-DEA;\nLONMA : MA(LON,10);\nLONT : LON, COLORSTICK;"};return t},n.prototype.NDB=function(){var t={Name:"NDB",Description:"\u8111\u7535\u6ce2",IsMainIndex:!1,Args:[{Name:"P1",Value:5},{Name:"P2",Value:10}],Script:"HH:=IF(C/REF(C,1)>1.098 AND L>REF(H,1),2*C-REF(C,1)-H,2*C-H-L);\nV1:= BARSCOUNT(C) - 1;\nV2:= 2 * REF(C, V1) - REF(H, V1) - REF(L, V1);\nDK: SUM(HH, 0) + V2;\nMDK5: MA(DK, P1);\nMDK10: MA(DK, P2);"};return t},n.prototype.SKDJ=function(){var t={Name:"SKDJ",Description:"\u6162\u901f\u968f\u673a\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M",Value:3}],Script:"LOWV:=LLV(LOW,N);\nHIGHV:=HHV(HIGH,N);\nRSV:=EMA((CLOSE-LOWV)/(HIGHV-LOWV)*100,M);\nK:EMA(RSV,M);\nD:MA(K,M);"};return t},n.prototype.KD=function(){var t={Name:"KD",Description:"\u968f\u673a\u6307\u6807KD",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:SMA(RSV,M1,1);\nD:SMA(K,M2,1);"};return t},n.prototype.FKX=function(){var t={Name:"FKX",Description:"\u53cdK\u7ebf",IsMainIndex:!0,Args:[],Script:"DRAWKLINE(-LOW, -OPEN, -HIGH, -CLOSE);"};return t},n.prototype.DKCOL=function(){var t={Name:"DKCOL",Description:"\u591a\u7a7a\u80fd\u91cf\u67f1(\u9002\u7528\u4e8e\u5206\u65f6\u4e3b\u56fe)",IsMainIndex:!0,Args:[{Name:"N",Value:5}],Script:"FF:=(C-REF(C,N))/REF(C,N);\nSTICKLINE(FF>0,DYNAINFO(3),DYNAINFO(3)*(1+FF),0.5,0),COLORRED;\nSTICKLINE(FF<0,DYNAINFO(3),DYNAINFO(3)*(1+FF),0.5,0),COLORGREEN;"};return t},n.prototype.UDL=function(){var t={Name:"UDL",Description:"\u5f15\u529b\u7ebf",IsMainIndex:!1,Args:[{Name:"N1",Value:3},{Name:"N2",Value:5},{Name:"N3",Value:10},{Name:"N4",Value:20},{Name:"M",Value:6}],Script:"UDL:(MA(CLOSE,N1)+MA(CLOSE,N2)+MA(CLOSE,N3)+MA(CLOSE,N4))/4;\nMAUDL:MA(UDL,M);"};return t},n.prototype.MFI=function(){var t={Name:"MFI",Description:"\u8d44\u91d1\u6d41\u91cf\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"N2",Value:6}],Script:"TYP := (HIGH + LOW + CLOSE)/3;\nV1:=SUM(IF(TYP>REF(TYP,1),TYP*VOL,0),N)/SUM(IF(TYP<REF(TYP,1),TYP*VOL,0),N);\nMFI:100-(100/(1+V1));"};return t},n.prototype.LWR=function(){var t={Name:"LWR",Description:"LWR\u5a01\u5ec9\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:= (HHV(HIGH,N)-CLOSE)/(HHV(HIGH,N)-LLV(LOW,N))*100;\nLWR1:SMA(RSV,M1,1);\nLWR2:SMA(LWR1,M2,1);"};return t},n.prototype.MARSI=function(){var t={Name:"MARSI",Description:"\u76f8\u5bf9\u5f3a\u5f31\u5e73\u5747\u7ebf",IsMainIndex:!1,Args:[{Name:"M1",Value:10},{Name:"M2",Value:6}],Script:"DIF:=CLOSE-REF(CLOSE,1);\nVU:=IF(DIF>=0,DIF,0);\nVD:=IF(DIF<0,-DIF,0);\nMAU1:=MEMA(VU,M1);\nMAD1:=MEMA(VD,M1);\nMAU2:=MEMA(VU,M2);\nMAD2:=MEMA(VD,M2);\nRSI10:MA(100*MAU1/(MAU1+MAD1),M1);\nRSI6:MA(100*MAU2/(MAU2+MAD2),M2);"};return t},n.prototype.CYD=function(){var t={Name:"CYD",Description:"\u627f\u63a5\u56e0\u5b50",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"CYDS:WINNER(CLOSE)/(VOL/CAPITAL);\nCYDN:WINNER(CLOSE)/MA(VOL/CAPITAL,N);"};return t},n.prototype.CYF=function(){var t={Name:"CYF",Description:"\u5e02\u573a\u80fd\u91cf",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"CYF:100-100/(1+EMA(HSL,N));"};return t},n.prototype.TAPI=function(){var t={Name:"TAPI",Description:"\u52a0\u6743\u6307\u6570\u6210\u4ea4\u503c",IsMainIndex:!1,Args:[{Name:"M",Value:6}],Script:"TAPI:AMOUNT/INDEXC;\nMATAIP:MA(TAPI,M);"};return t},n.prototype.VMACD=function(){var t={Name:"VMACD",Description:"\u91cf\u5e73\u6ed1\u5f02\u540c\u5e73\u5747",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF:EMA(VOL,SHORT)-EMA(VOL,LONG);\nDEA:EMA(DIF,MID);\nMACD:DIF-DEA,COLORSTICK;"};return t},n.prototype.QACD=function(){var t={Name:"QACD",Description:"\u5feb\u901f\u5f02\u540c\u5e73\u5747",IsMainIndex:!1,Args:[{Name:"N1",Value:12},{Name:"N2",Value:26},{Name:"M",Value:9}],Script:"DIF:EMA(CLOSE,N1)-EMA(CLOSE,N2);\nMACD:EMA(DIF,M);\nDDIF:DIF-MACD;"};return t},n.prototype.VPT=function(){var t={Name:"VPT",Description:"\u91cf\u4ef7\u66f2\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:51},{Name:"M",Value:6}],Script:"VPT:SUM(VOL*(CLOSE-REF(CLOSE,1))/REF(CLOSE,1),N);\nMAVPT:MA(VPT,M);"};return t},n.prototype.WVAD=function(){var t={Name:"WVAD",Description:"\u5a01\u5ec9\u53d8\u5f02\u79bb\u6563\u91cf",IsMainIndex:!1,Args:[{Name:"N",Value:24},{Name:"M",Value:6}],Script:"WVAD:SUM((CLOSE-OPEN)/(HIGH-LOW)*VOL,N)/10000;\nMAWVAD:MA(WVAD,M);"};return t},n.prototype.DBQR=function(){var t={Name:"WVAD",Description:"\u5bf9\u6bd4\u5f3a\u5f31",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M1",Value:10},{Name:"M2",Value:20},{Name:"M3",Value:60}],Script:"ZS:(INDEXC-REF(INDEXC,N))/REF(INDEXC,N);\nGG:(CLOSE-REF(CLOSE,N))/REF(CLOSE,N);\nMADBQR1:MA(GG,M1);\nMADBQR2:MA(GG,M2);\nMADBQR3:MA(GG,M3);"};return t},n.prototype.JS=function(){var t={Name:"JS",Description:"\u52a0\u901f\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20}],Script:"JS:100*(CLOSE-REF(CLOSE,N))/(N*REF(CLOSE,N));\nMAJS1:MA(JS,M1);\nMAJS2:MA(JS,M2);\nMAJS3:MA(JS,M3);"};return t},n.prototype.CYE=function(){var t={Name:"CYE",Description:"\u5e02\u573a\u8d8b\u52bf",IsMainIndex:!1,Args:[],Script:"MAL:=MA(CLOSE,5);\nMAS:=MA(MA(CLOSE,20),5);\nCYEL:(MAL-REF(MAL,1))/REF(MAL,1)*100;\nCYES:(MAS-REF(MAS,1))/REF(MAS,1)*100;"};return t},n.prototype.QR=function(){var t={Name:"QR",Description:"\u5f3a\u5f31\u6307\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"\u4e2a\u80a1: (CLOSE-REF(CLOSE,N))/REF(CLOSE,N)*100; \n\u5927\u76d8: (INDEXC-REF(INDEXC,N))/REF(INDEXC,N)*100; \n\u5f3a\u5f31\u503c:EMA(\u4e2a\u80a1-\u5927\u76d8,2),COLORSTICK;"};return t},n.prototype.GDX=function(){var t={Name:"GDX",Description:"\u8f68\u9053\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:30},{Name:"M",Value:9}],Script:"AA:=ABS((2*CLOSE+HIGH+LOW)/4-MA(CLOSE,N))/MA(CLOSE,N); \n\u8f68\u9053:DMA(CLOSE,AA);\n\u538b\u529b\u7ebf:(1+M/100)*\u8f68\u9053; \n\u652f\u6491\u7ebf:(1-M/100)*\u8f68\u9053;"};return t},n.prototype.JLHB=function(){var t={Name:"JLHB",Description:"\u7edd\u8def\u822a\u6807",IsMainIndex:!1,Args:[{Name:"N",Value:7},{Name:"M",Value:5}],Script:"VAR1:=(CLOSE-LLV(LOW,60))/(HHV(HIGH,60)-LLV(LOW,60))*80; \nB:SMA(VAR1,N,1); \nVAR2:SMA(B,M,1); \n\u7edd\u8def\u822a\u6807:IF(CROSS(B,VAR2) AND B<40,50,0);"};return t},n.prototype.PCNT=function(){var t={Name:"PCNT",Description:"\u5e45\u5ea6\u6bd4",IsMainIndex:!1,Args:[{Name:"M",Value:5}],Script:"PCNT:(CLOSE-REF(CLOSE,1))/CLOSE*100;\nMAPCNT:EXPMEMA(PCNT,M);"};return t},n.prototype.AMO=function(){var t={Name:"AMO",Description:"\u6210\u4ea4\u91d1\u989d",IsMainIndex:!1,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10}],Script:"AMOW:AMOUNT/10000.0,VOLSTICK;\nAMO1:MA(AMOW,M1);\nAMO2:MA(AMOW,M2);"};return t},n.prototype.VRSI=function(){var t={Name:"VRSI",Description:"\u76f8\u5bf9\u5f3a\u5f31\u91cf",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"LC:=REF(VOL,1);\nRSI1:SMA(MAX(VOL-LC,0),N1,1)/SMA(ABS(VOL-LC),N1,1)*100;\nRSI2:SMA(MAX(VOL-LC,0),N2,1)/SMA(ABS(VOL-LC),N2,1)*100;\nRSI3:SMA(MAX(VOL-LC,0),N3,1)/SMA(ABS(VOL-LC),N3,1)*100;"};return t},n.prototype.HSCOL=function(){var t={Name:"HSCOL",Description:"\u6362\u624b\u67f1",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"HSCOL:IF((SETCODE==0||SETCODE==1),100*VOL,VOL)/(FINANCE(7)/100),VOLSTICK;\nMAHSL:MA(HSCOL,N);"};return t},n.prototype.DBQRV=function(){var t={Name:"DBQRV",Description:"\u5bf9\u6bd4\u5f3a\u5f31\u91cf(\u9700\u4e0b\u8f7d\u65e5\u7ebf)",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"ZS:(INDEXV-REF(INDEXV,N))/REF(INDEXV,N);\nGG:(VOL-REF(VOL,N))/REF(VOL,N);"};return t},n.prototype.DBLB=function(){var t={Name:"DBLB",Description:"\u5bf9\u6bd4\u91cf\u6bd4(\u9700\u4e0b\u8f7d\u65e5\u7ebf)",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M",Value:5}],Script:"GG:=VOL/SUM(REF(VOL,1),N);\nZS:=INDEXV/SUM(REF(INDEXV,1),N);\nDBLB:GG/ZS;\nMADBLB:MA(DBLB,M);"};return t},n.prototype.ACD=function(){var t={Name:"ACD",Description:"\u5347\u964d\u7ebf",IsMainIndex:!1,Args:[{Name:"M",Value:20}],Script:"LC:=REF(CLOSE,1);\nDIF:=CLOSE-IF(CLOSE>LC,MIN(LOW,LC),MAX(HIGH,LC));\nACD:SUM(IF(CLOSE==LC,0,DIF),0);\nMAACD:EXPMEMA(ACD,M);"};return t},n.prototype.EXPMA=function(){var t={Name:"EXPMA",Description:"\u6307\u6570\u5e73\u5747\u7ebf",IsMainIndex:!0,Args:[{Name:"M1",Value:12},{Name:"M2",Value:50}],Script:"EXP1:EMA(CLOSE,M1);\nEXP2:EMA(CLOSE,M2);"};return t},n.prototype.EXPMA_S=function(){var t={Name:"EXPMA_S",Description:"\u6307\u6570\u5e73\u5747\u7ebf-\u526f\u56fe",IsMainIndex:!1,Args:[{Name:"M1",Value:12},{Name:"M2",Value:50}],Script:"EXP1:EMA(CLOSE,M1);\nEXP2:EMA(CLOSE,M2);"};return t},n.prototype.HMA=function(){var t={Name:"HMA",Description:"\u9ad8\u4ef7\u5e73\u5747\u7ebf",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"HMA1:MA(HIGH,M1);\nHMA2:MA(HIGH,M2);\nHMA3:MA(HIGH,M3);\nHMA4:MA(HIGH,M4);\nHMA5:MA(HIGH,M5);"};return t},n.prototype.LMA=function(){var t={Name:"LMA",Description:"\u4f4e\u4ef7\u5e73\u5747\u7ebf",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"LMA1:MA(LOW,M1);\nLMA2:MA(LOW,M2);\nLMA3:MA(LOW,M3);\nLMA4:MA(LOW,M4);\nLMA5:MA(LOW,M5);"};return t},n.prototype.VMA=function(){var t={Name:"VMA",Description:"\u53d8\u5f02\u5e73\u5747\u7ebf",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"VV:=(HIGH+OPEN+LOW+CLOSE)/4;\nVMA1:MA(VV,M1);\nVMA2:MA(VV,M2);\nVMA3:MA(VV,M3);\nVMA4:MA(VV,M4);\nVMA5:MA(VV,M5);"};return t},n.prototype.AMV=function(){var t={Name:"AMV",Description:"\u6210\u672c\u4ef7\u5747\u7ebf",IsMainIndex:!1,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"AMOV:=VOL*(OPEN+CLOSE)/2;\nAMV1:SUM(AMOV,M1)/SUM(VOL,M1);\nAMV2:SUM(AMOV,M2)/SUM(VOL,M2);\nAMV3:SUM(AMOV,M3)/SUM(VOL,M3);\nAMV4:SUM(AMOV,M4)/SUM(VOL,M4);"};return t},n.prototype.BBIBOLL=function(){var t={Name:"BBIBOLL",Description:"\u591a\u7a7a\u5e03\u6797\u7ebf",IsMainIndex:!0,Args:[{Name:"N",Value:11},{Name:"M",Value:6}],Script:"CV:=CLOSE;\nBBIBOLL:(MA(CV,3)+MA(CV,6)+MA(CV,12)+MA(CV,24))/4;\nUPR:BBIBOLL+M*STD(BBIBOLL,N);\nDWN:BBIBOLL-M*STD(BBIBOLL,N);"};return t},n.prototype.ALLIGAT=function(){var t={Name:"ALLIGAT",Description:"\u9cc4\u9c7c\u7ebf",IsMainIndex:!0,Args:[],Script:"NN:=(H+L)/2;\n\u4e0a\u5507:REF(MA(NN,5),3),COLOR40FF40;\n\u7259\u9f7f:REF(MA(NN,8),5),COLOR0000C0;\n\u4e0b\u989a:REF(MA(NN,13),8),COLORFF4040;"};return t},n.prototype.ZX=function(){var t={Name:"ZX",Description:"\u91cd\u5fc3\u7ebf",IsMainIndex:!1,Args:[],Script:"AV:0.01*AMOUNT/VOL;"};return t},n.prototype.XS=function(){var t={Name:"XS",Description:"\u859b\u65af\u901a\u9053",IsMainIndex:!0,Args:[{Name:"N",Value:13}],Script:"VAR2:=CLOSE*VOL;\nVAR3:=EMA((EMA(VAR2,3)/EMA(VOL,3)+EMA(VAR2,6)/EMA(VOL,6)+EMA(VAR2,12)/EMA(VOL,12)+EMA(VAR2,24)/EMA(VOL,24))/4,N);\nSUP:1.06*VAR3;\nSDN:VAR3*0.94;\nVAR4:=EMA(CLOSE,9);\nLUP:EMA(VAR4*1.14,5);\nLDN:EMA(VAR4*0.86,5);"};return t},n.prototype.XS2=function(){var t={Name:"XS2",Description:"\u859b\u65af\u901a\u9053II",IsMainIndex:!0,Args:[{Name:"N",Value:102},{Name:"M",Value:7}],Script:"AA:=MA((2*CLOSE+HIGH+LOW)/4,5); \n\u901a\u90531:AA*N/100; \n\u901a\u90532:AA*(200-N)/100; \nCC:=ABS((2*CLOSE+HIGH+LOW)/4-MA(CLOSE,20))/MA(CLOSE,20); \nDD:=DMA(CLOSE,CC); \n\u901a\u90533:(1+M/100)*DD; \n\u901a\u90534:(1-M/100)*DD;"};return t},n.prototype.SG_XDT=function(){var t={Name:"SG-XDT",Description:"\u5fc3\u7535\u56fe(\u9700\u4e0b\u8f7d\u65e5\u7ebf)",IsMainIndex:!1,Args:[{Name:"P1",Value:5},{Name:"P2",Value:10}],Script:"QR:CLOSE/INDEXC*1000;\nMQR1:MA(QR,5);\nMQR2:MA(QR,10);"};return t},n.prototype.SG_SMX=function(){var t={Name:"SG-SMX",Description:"\u751f\u547d\u7ebf(\u9700\u4e0b\u8f7d\u65e5\u7ebf)",IsMainIndex:!1,Args:[{Name:"N",Value:50}],Script:"H1:=HHV(HIGH,N);\nL1:=LLV(LOW,N);\nH2:=HHV(INDEXH,N);\nL2:=LLV(INDEXL,N);\nZY:=CLOSE/INDEXC*2000;\nZY1:EMA(ZY,3);\nZY2:EMA(ZY,17);\nZY3:EMA(ZY,34);"};return t},n.prototype.SG_LB=function(){var t={Name:"SG-LB",Description:"\u91cf\u6bd4(\u9700\u4e0b\u8f7d\u65e5\u7ebf)",IsMainIndex:!1,Args:[],Script:"ZY2:=VOL/INDEXV*1000;\n\u91cf\u6bd4:ZY2;\nMA5:MA(ZY2,5);\nMA10:MA(ZY2,10);"};return t},n.prototype.SG_PF=function(){var t={Name:"SG-PF",Description:"\u5f3a\u52bf\u80a1\u8bc4\u5206(\u9700\u4e0b\u8f7d\u65e5\u7ebf)",IsMainIndex:!1,Args:[],Script:"ZY1:=CLOSE/INDEXC*1000;\nA1:=IF(ZY1>HHV(ZY1,3),10,0);\nA2:=IF(ZY1>HHV(ZY1,5),15,0);\nA3:=IF(ZY1>HHV(ZY1,10),20,0);\nA4:=IF(ZY1>HHV(ZY1,2),10,0);\nA5:=COUNT(ZY1>REF(ZY1,1) ,9)*5;\n\u5f3a\u52bf\u80a1\u8bc4\u5206:A1+A2+A3+A4+A5;"};return t},n.prototype.RAD=function(){var t={Name:"RAD",Description:"\u5a01\u529b\u96f7\u8fbe(\u9700\u4e0b\u8f7d\u65e5\u7ebf)",IsMainIndex:!1,Args:[{Name:"D",Value:3},{Name:"S",Value:30},{Name:"M",Value:30}],Script:"SM:=(OPEN+HIGH+CLOSE+LOW)/4;\nSMID:=MA(SM,D);\nIM:=(INDEXO+INDEXH+INDEXL+INDEXC)/4;\nIMID:=MA(IM,D);\nSI1:=(SMID-REF(SMID,1))/SMID;\nII:=(IMID-REF(IMID,1))/IMID;\nRADER1:SUM((SI1-II)*2,S)*1000;\nRADERMA:SMA(RADER1,M,1);"};return t},n.prototype.SHT=function(){var t={Name:"SHT",Description:"\u9f99\u7cfb\u77ed\u7ebf",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"VAR1:=MA((VOL-REF(VOL,1))/REF(VOL,1),5);\nVAR2:=(CLOSE-MA(CLOSE,24))/MA(CLOSE,24)*100;\nMY: VAR2*(1+VAR1);\nSHT: MY, COLORSTICK;\nSHTMA: MA(SHT,N);"};return t},n.prototype.ZLJC=function(){var t={Name:"ZLJC",Description:"\u4e3b\u529b\u8fdb\u51fa",IsMainIndex:!1,Args:[],Script:"VAR1:=(CLOSE+LOW+HIGH)/3; \nVAR2:=SUM(((VAR1-REF(LOW,1))-(HIGH-VAR1))*VOL/100000/(HIGH-LOW),0); \nVAR3:=EMA(VAR2,1); \nJCS:VAR3; \nJCM:MA(VAR3,12); \nJCL:MA(VAR3,26);"};return t},n.prototype.ZLMM=function(){var t={Name:"ZLMM",Description:"\u4e3b\u529b\u4e70\u5356",IsMainIndex:!1,Args:[],Script:"LC :=REF(CLOSE,1);\nRSI2:=SMA(MAX(CLOSE-LC,0),12,1)/SMA(ABS(CLOSE-LC),12,1)*100;\nRSI3:=SMA(MAX(CLOSE-LC,0),18,1)/SMA(ABS(CLOSE-LC),18,1)*100;\nMMS:MA(3*RSI2-2*SMA(MAX(CLOSE-LC,0),16,1)/SMA(ABS(CLOSE-LC),16,1)*100,3);\nMMM:EMA(MMS,8);\nMML:MA(3*RSI3-2*SMA(MAX(CLOSE-LC,0),12,1)/SMA(ABS(CLOSE-LC),12,1)*100,5);"};return t},n.prototype.SLZT=function(){var t={Name:"SLZT",Description:"\u795e\u9f99\u5728\u5929",IsMainIndex:!1,Args:[],Script:"\u767d\u9f99: MA(CLOSE,125);\n\u9ec4\u9f99: \u767d\u9f99+2*STD(CLOSE,170);\n\u7d2b\u9f99: \u767d\u9f99-2*STD(CLOSE,145);\n\u9752\u9f99: SAR(125,1,7), LINESTICK;\nVAR2:=HHV(HIGH,70);\nVAR3:=HHV(HIGH,20);\n\u7ea2\u9f99: VAR2*0.83;\n\u84dd\u9f99: VAR3*0.91;"};return t},n.prototype.ADVOL=function(){var t={Name:"ADVOL",Description:"\u9f99\u7cfb\u79bb\u6563\u91cf",IsMainIndex:!1,Args:[],Script:"A:=SUM(((CLOSE-LOW)-(HIGH-CLOSE))*VOL/10000/(HIGH-LOW),0);\nADVOL:A;\nMA1:MA(A,30);\nMA2:MA(MA1,100);"};return t},n.prototype.CYC=function(){var t={Name:"CYC",Description:"\u6210\u672c\u5747\u7ebf",IsMainIndex:!0,Args:[{Name:"P1",Value:5},{Name:"P2",Value:13},{Name:"P3",Value:34}],Script:"JJJ:=IF(DYNAINFO(8)>0.01,0.01*DYNAINFO(10)/DYNAINFO(8),DYNAINFO(3));\nDDD:=(DYNAINFO(5)<0.01 || DYNAINFO(6)<0.01);\nJJJT:=IF(DDD,1,(JJJ<(DYNAINFO(5)+0.01) && JJJ>(DYNAINFO(6)-0.01)));\nCYC1:IF(JJJT,0.01*EMA(AMOUNT,P1)/EMA(VOL,P1),EMA((HIGH+LOW+CLOSE)/3,P1));\nCYC2:IF(JJJT,0.01*EMA(AMOUNT,P2)/EMA(VOL,P2),EMA((HIGH+LOW+CLOSE)/3,P2));\nCYC3:IF(JJJT,0.01*EMA(AMOUNT,P3)/EMA(VOL,P3),EMA((HIGH+LOW+CLOSE)/3,P3));\nCYC4:IF(JJJT,DMA(AMOUNT/(100*VOL),100*VOL/FINANCE(7)),EMA((HIGH+LOW+CLOSE)/3,120));"};return t},n.prototype.CYS=function(){var t={Name:"CYS",Description:"\u5e02\u573a\u76c8\u4e8f",IsMainIndex:!1,Args:[],Script:"CYC13:EMA(AMOUNT,13)/EMA(VOL,13);\nCYS:(CLOSE-CYC13)/CYC13*100;"};return t},n.prototype.CYQKL=function(){var t={Name:"CYQKL",Description:"\u535a\u5f08K\u7ebf\u957f\u5ea6",IsMainIndex:!1,Args:[],Script:"KL:100*(WINNER(CLOSE)-WINNER(OPEN));"};return t},n.prototype.SCR=function(){var t={Name:"SCR",Description:"\u7b79\u7801\u96c6\u4e2d\u5ea6",IsMainIndex:!1,Args:[{Name:"P1",Value:90}],Script:"A:=P1+(100-P1)/2;\nB:=(100-P1)/2;\nCC:=COST(A);\nDD:=COST(B);\nSCR:(CC-DD)/(CC+DD)*100/2;"};return t},n.prototype.ASR=function(){var t={Name:"ASR",Description:"\u6d6e\u7b79\u6bd4\u4f8b",IsMainIndex:!1,Args:[],Script:"ASR:(WINNER(C*1.1)-WINNER(C*0.9))/WINNER(HHV(H,0))*100;"};return t},n.prototype.SAR=function(){var t={Name:"SAR",Description:"\u629b\u7269\u8f6c\u5411",IsMainIndex:!0,Args:[{Name:"P",Value:10},{Name:"STEP",Value:2},{Name:"MAXP",Value:20}],Script:"S:SAR(P,STEP,MAXP),CIRCLEDOT;"};return t},n.prototype.TJCJL=function(){var t={Name:"\u592a\u6781\u6210\u4ea4\u91cf",Description:"\u592a\u6781\u6210\u4ea4\u91cf",IsMainIndex:!0,Args:[],Script:"\u603b\u624b:VOL,NODRAW;\nZZ:=IF(REF(C,1)>REF(O,1) AND O>REF(C,1)*1.014 AND C<O*1.02,1,3);\nV5:=MA(V,5);\nV12:=MA(V,12);\nV34:=MA(V,34);\nC6:=MA(C,6);\nSTICKLINE(VOL,0,VOL,10,0),COLORLIGRAY;\nSTICKLINE(CROSS(C,C6) AND V>V5*1.2 AND V>V12*1.2 AND ZZ>2 AND C>H*0.975,0,VOL,10,0),COLORRED;\nSTICKLINE(CROSS(C6,C) AND V>V5*1.2 AND V>V12*1.2,0,VOL,10,0),COLORGREEN;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05,0,VOL,10,0),COLORYELLOW;\nSTICKLINE(VOL<MA(VOL,5)/2 AND V<V12/2,0,VOL,10,0),COLORBLUE;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05 AND CROSS(C,C6) AND V>V5*1.2 AND V>V12*1.2 AND ZZ>2 AND C>H*0.975,VOL*0.5,0,10,0),COLORRED;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05 AND CROSS(C6,C) AND V>V5*1.2 AND V>V12*1.2,VOL*0.5,0,10,0),COLORRED;"};return t},n.prototype.VOLRate=function(){var t={Name:"\u91cf\u6bd4",Description:"\u91cf\u6bd4",IsMainIndex:!1,Condition:{Period:[a.MINUTE_ID,a.MULTIDAY_MINUTE_ID]},Args:[],Script:"LIANGBI:VOLR;"};return t},n.prototype.Dragon4_Main=function(){var t={Name:"\u98de\u9f99\u56db\u5f0f",Description:"\u98de\u9f99\u56db\u5f0f",IsMainIndex:!0,Args:[{Name:"N1",Value:5},{Name:"N2",Value:10},{Name:"N3",Value:50},{Name:"N4",Value:60}],Script:"\u873b\u8713\u70b9\u6c34:=EMA(CLOSE,N1),COLORGRAY;\n\u9b54\u754c:=EMA(CLOSE,N2),COLORGREEN;\n\u6c34:=EMA(CLOSE,N3),COLORRED;\nDRAWKLINE(HIGH,OPEN,LOW,CLOSE);\n\u751f\u547d\u7ebf:MA(CLOSE,N4),COLORBLUE,LINETHICK2;\nDRAWBAND(\u9b54\u754c,'RGB(186,225,250)',\u6c34,'RGB(253,194,124)');\nDRAWBAND(\u873b\u8713\u70b9\u6c34,'RGB(128,138,135)',\u9b54\u754c,'RGB(0,0,255)');"};return t},n.prototype.Dragon4_Fig=function(){var t={Name:"\u98de\u9f99\u56db\u5f0f",Description:"\u98de\u9f99\u56db\u5f0f",IsMainIndex:!1,Args:[],Script:"\u500d:VOL>=REF(V,1)*1.90 AND C>REF(C,1),COLORYELLOW;\n\u4f4e:VOL<REF(LLV(VOL,13),1),COLORGREEN;\n\u5730:VOL<REF(LLV(VOL,100),1),COLORMAGENTA; \n\u5e73:=ABS(VOL-HHV(REF(VOL,1),5))/HHV(REF(VOL,1),5)<=0.03 OR ABS(VOL-REF(VOL,1))/REF(VOL,1)<=0.03,NODRAW,COLORWHITE;\n\u500d\u7f29:VOL<=REF(V,1)*0.5,COLORFF8000;\n\u68af\u91cf:COUNT(V>REF(V,1),3)==3 AND COUNT(C>O,3)==3,COLORBROWN;\n\u7f29\u91cf\u6da8:COUNT(C>REF(C,1),2)==2 AND COUNT(V<REF(V,1),2)==2,COLORBLUE;\nSTICKLINE(C>=REF(C,1),V,0,2,0),COLORRED;\nSTICKLINE(C<REF(C,1),V,0,2,0),COLORGREEN;\nSTICKLINE(\u500d,0,V,2,0),COLORYELLOW;\nSTICKLINE(\u4f4e,0,V,2,0),COLORGREEN;\nSTICKLINE(\u5730,0,V,2,0),COLORLIMAGENTA;\nSTICKLINE(\u5e73,0,V,2,0),COLORGRAY;\nSTICKLINE(\u500d\u7f29,0,V,2,0),COLORFF8000;\nSTICKLINE(\u68af\u91cf,0,V,2,0),COLORBROWN;\nSTICKLINE(\u7f29\u91cf\u6da8,0,V,2,0),COLORBLUE;"};return t},n.prototype.FundsAnalysis=function(){var t={Name:"\u8d44\u91d1\u5206\u6790",Description:"\u8d44\u91d1\u5206\u6790",IsMainIndex:!1,Args:[{Name:"M",Value:55},{Name:"N",Value:34}],Script:"LC:=REF(CLOSE,1);\nRSI:=((SMA(MAX((CLOSE - LC),0),3,1) / SMA(ABS((CLOSE - LC)),3,1)) * 100);\nFF:=EMA(CLOSE,3);\nMA15:=EMA(CLOSE,21); DRAWTEXT(CROSS(85,RSI),75,'\u25bc'),COLORGREEN;\nVAR1:=IF(YEAR>=2038 AND MONTH>=1,0,1);\nVAR2:=REF(LOW,1)*VAR1;\nVAR3:=SMA(ABS(LOW-VAR2),3,1)/SMA(MAX(LOW-VAR2,0),3,1)*100*VAR1;\nVAR4:=EMA(IF(CLOSE*1.3,VAR3*10,VAR3/10),3)*VAR1;\nVAR5:=LLV(LOW,30)*VAR1;\nVAR6:=HHV(VAR4,30)*VAR1;\nVAR7:=IF(MA(CLOSE,58),1,0)*VAR1;\nVAR8:=EMA(IF(LOW<=VAR5,(VAR4+VAR6*2)/2,0),3)/618*VAR7*VAR1;\n\u5438\u7b79A:IF(VAR8>100,100,VAR8)*VAR1,COLORFB2F3B;\n{\u5438\u7b79B}STICKLINE(\u5438\u7b79A>-150,0,\u5438\u7b79A,8,0),COLORFB2F3B;\n\n\u6563\u6237\u7ebf: 100*(HHV(HIGH,M)-CLOSE)/(HHV(HIGH,M)-LLV(LOW,M)),COLORAA89BD,LINETHICK2;\nRSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:=SMA(RSV,3,1);\nD:=SMA(K,3,1);\nJ:=3*K-2*D;\n\u4e3b\u529b\u7ebf:EMA(J,5),COLORF39800,LINETHICK2;\nDRAWICON(CROSS(\u4e3b\u529b\u7ebf,\u6563\u6237\u7ebf),\u4e3b\u529b\u7ebf,1);\nDRAWICON(CROSS(\u6563\u6237\u7ebf,\u4e3b\u529b\u7ebf),\u4e3b\u529b\u7ebf,2);"};return t},n.prototype.MarginProportion=function(){var t={Name:"\u878d\u8d44\u5360\u6bd4(%)",Description:"\u878d\u8d44\u5360\u6bd4",IsMainIndex:!1,Args:[],Script:"\u5360\u6bd4:MARGIN(2);"};return t},n.prototype.BTX=function(){var t={Name:"BTX",Description:"\u5b9d\u5854\u7ebf",IsMainIndex:!1,Args:[],Script:"B1:=REF(C,1);\nB2:= REF(C, 2);\nSS:= IF(C > REF(C, 1) AND REF(C, 1) >= REF(C, 2), 1, IF(C < REF(C, 1) AND REF(C, 1) <= REF(C, 2), -1, IF(C > REF(C, 2) AND REF(C, 2) > REF(C, 1), 2, IF(C < REF(C, 2) AND REF(C, 2) < REF(C, 1), -2, 0))));\nSM:= IF(REF(SS, 1) <> 0, REF(SS, 1), IF(REF(SS, 2) <> 0, REF(SS, 2), IF(REF(SS, 3) <> 0, REF(SS, 3), IF(REF(SS, 5) <> 0, REF(SS, 5), IF(REF(SS, 6) <> 0, REF(SS, 6), IF(REF(SS, 7) <> 0, REF(SS, 7), 0))))));\nMC:= IF(REF(SS, 1) <> 0, B2, IF(SM > 0, MIN(B1, B2), MAX(B1, B2)));\nTOW1:= IF(C > REF(C, 1), C, REF(C, 1));\nTOW2:= IF((SS == -1 OR SS == -2) AND SM > 0, B2, TOW1);\nTOWER:= IF(TOW1 > TOW2, TOW1, TOW2);\nSTICKLINE(SS == 1 OR SM >= 1 AND SS == 0, B1, C, 10, 1), COLORRED;\nSTICKLINE(SS == -1 OR SM <= -1 AND SS == 0, B1, C, 10, 0), COLORCYAN;\nSTICKLINE(SS == 2, B2, C, 10, 1), COLORRED;\nSTICKLINE(SS == -2, B2, C, 10, 0), COLORCYAN;\nSTICKLINE((SS == -1 OR SS == -2) AND SM > 0, B2, B1, 10, 1), COLORRED;\nSTICKLINE((SS == 1 OR SS == 2) AND SM < 0, B2, B1, 10, 0), COLORCYAN;"};return t},n.prototype.EMPTY=function(){var t={Name:"",Description:"\u7a7a\u6307\u6807",IsMainIndex:!0,Args:[],Script:"VAR2:=C;"};return t},n.prototype.FXG_BSPoint=function(){var t={Name:"\u64cd\u76d8BS\u70b9",Description:"\u64cd\u76d8BS\u70b9",IsMainIndex:!0,Args:[],Script:"MA5:MA(CLOSE,5);\n        MA13:MA(CLOSE,13);\n        MA21:MA(CLOSE,21);\n        MA34:MA(CLOSE,34);\n        {MA55:MA(CLOSE,55),COLOR0000FF;}\n        {MA120:=MA(CLOSE,120),COLORFFFF00;}\n        \u5929\u4f7f:=EMA(C,2),COLOR000000;\n        \u9b54\u9b3c:=EMA(SLOPE(C,21)*20+C,42),COLOR000000;\n        \u4e70:=CROSS(\u5929\u4f7f,\u9b54\u9b3c);\n        \u5356:=CROSS(\u9b54\u9b3c,\u5929\u4f7f);\n        DRAWICON(\u4e70,L*0.99,13),COLORYELLOW;\n        DRAWICON(\u5356,H*1.01,14),COLORGREEN;\n        DRAWKLINE_IF(\u5929\u4f7f>=\u9b54\u9b3c,HIGH,CLOSE,LOW,OPEN),COLORRED;\n        DRAWKLINE_IF(\u5929\u4f7f<\u9b54\u9b3c,HIGH,CLOSE,LOW,OPEN),COLORBLUE;\n        DRAWKLINE_IF(CROSS(\u5929\u4f7f,\u9b54\u9b3c),HIGH,CLOSE,LOW,OPEN),COLORYELLOW;\n        DRAWKLINE_IF(CROSS(\u9b54\u9b3c,\u5929\u4f7f),HIGH,CLOSE,LOW,OPEN),COLORBLACK;"};return t},n.prototype.NewsNegative=function(){var t={Name:"\u8d1f\u9762\u65b0\u95fb",Description:"\u8d1f\u9762\u65b0\u95fb\u7edf\u8ba1",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"N2",Value:10}],Script:"\u8d1f\u9762:NEWS(1);\n                MA1:MA(\u8d1f\u9762,N);\n                MA2:MA(\u8d1f\u9762,N2);"};return t},n.prototype.NewsResearch=function(){var t={Name:"\u673a\u6784\u8c03\u7814",Description:"\u673a\u6784\u8c03\u7814\u7edf\u8ba1",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"N2",Value:10}],Script:"\u6b21\u6570:NEWS(2);\n                MA1:MA(\u6b21\u6570,N);\n                MA2:MA(\u6b21\u6570,N2);"};return t},n.prototype.NewsInteract=function(){var t={Name:"\u8463\u79d8\u8fde\u7ebf",Description:"\u4e92\u52a8\u6613\u7edf\u8ba1",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"N2",Value:10}],Script:"\u4e2a\u6570:NEWS(3);\n                MA1:MA(\u4e2a\u6570,N);\n                MA2:MA(\u4e2a\u6570,N2);"};return t},n.prototype.UpDownAnalyze=function(){var t={Name:"\u6da8\u8dcc\u8d8b\u52bf",Description:"\u6da8\u8dcc\u8d8b\u52bf",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"\u4e0a\u6da8\u5bb6\u6570:UPCOUNT('CNA.CI'),COLORRED;\n\u4e0b\u8dcc\u5bb6\u6570:DOWNCOUNT('CNA.CI'),COLORGREEN;"};return t},n.prototype.FXG_BSPoint=function(){var t={Name:"\u64cd\u76d8BS\u70b9",Description:"\u64cd\u76d8BS\u70b9",IsMainIndex:!0,Args:[],Script:'MA5:MA(CLOSE,5);\n        MA13:MA(CLOSE,13);\n        MA21:MA(CLOSE,21);\n        MA34:MA(CLOSE,34);\n        {MA55:MA(CLOSE,55),COLOR0000FF;}\n        {MA120:=MA(CLOSE,120),COLORFFFF00;}\n        \u5929\u4f7f:=EMA(C,2),COLOR000000;\n        \u9b54\u9b3c:=EMA(SLOPE(C,21)*20+C,42),COLOR000000;\n        \u4e70:=CROSS(\u5929\u4f7f,\u9b54\u9b3c);\n        \u5356:=CROSS(\u9b54\u9b3c,\u5929\u4f7f);\n        SUPERDRAWTEXT(\u4e70,L,"B",2,5),COLORYELLOW;\n        SUPERDRAWTEXT(\u5356,L,"S",1,5),COLORGREEN;\n        DRAWKLINE_IF(\u5929\u4f7f>=\u9b54\u9b3c,HIGH,CLOSE,LOW,OPEN),COLORRED;\n        DRAWKLINE_IF(\u5929\u4f7f<\u9b54\u9b3c,HIGH,CLOSE,LOW,OPEN),COLORBLUE;\n        DRAWKLINE_IF(CROSS(\u5929\u4f7f,\u9b54\u9b3c),HIGH,CLOSE,LOW,OPEN),COLORYELLOW;\n        DRAWKLINE_IF(CROSS(\u9b54\u9b3c,\u5929\u4f7f),HIGH,CLOSE,LOW,OPEN),COLORBLACK;'};return t},n.prototype.FXG_INDEX=function(){var t={Name:"\u6da8\u505c\u591a\u7a7a\u7ebf",Description:"\u6da8\u505c\u591a\u7a7a\u7ebf",IsMainIndex:!1,Args:[],Script:"\u505a\u591a\u80fd\u91cf\u7ebf: SMA((CLOSE-LLV(LOW,9))/(HHV(HIGH,9)-LLV(LOW,9))*100,5,1)-8,COLORRED,LINETHICK3;\n\u505a\u7a7a\u80fd\u91cf\u7ebf: SMA((HHV(HIGH,36)-CLOSE)/(HHV(HIGH,36)-LLV(LOW,36))*100,2,1),COLORGREEN,LINETHICK3;\n20,POINTDOT,COLORF00FF0;\n50,POINTDOT,COLORGREEN;\n80,POINTDOT,COLORLIBLUE;"};return t},n.prototype.FXG_INDEX2=function(){var t={Name:"\u6da8\u505c\u5438\u7b79\u533a",Description:"\u6da8\u505c\u5438\u7b79\u533a",IsMainIndex:!1,Args:[],Script:"VAR0:=EMA(HHV(HIGH,500),21); \nVAR1:=EMA(HHV(HIGH,250),21);\nVAR2:=EMA(HHV(HIGH,90),21); \nVAR3:=EMA(LLV(LOW,500),21); \nVAR4:=EMA(LLV(LOW,250),21); \nVAR5:=EMA(LLV(LOW,90),21);\n\nVAR6:=EMA((VAR3*0.96+VAR4*0.96+VAR5*0.96+VAR0*0.558+VAR1*0.558+VAR2*0.558)/6,21); \nVAR7:=EMA((VAR3*1.25+VAR4*1.23+VAR5*1.2+VAR0*0.55+VAR1*0.55+VAR2*0.65)/6,21); \nVAR8:=EMA((VAR3*1.3+VAR4*1.3+VAR5*1.3+VAR0*0.68+VAR1*0.68+VAR2*0.68)/6,21); \nVAR9:=EMA((VAR6*3+VAR7*2+VAR8)/6*1.738,21); \nVAR10:=REF(LOW,1); \nVAR11:=SMA(ABS(LOW-VAR10),3,1)/SMA(MAX(LOW-VAR10,0),3,1)*100; \nVAR12:=EMA(IFF(CLOSE*1.35<=VAR9,VAR11*10,VAR11/10),3); \nVAR13:=LLV(LOW,30); \nVAR14:=HHV(VAR12,30); \nVAR15:=IFF(MA(CLOSE,58),1,0); \nVAR16:=EMA(IFF(LOW<=VAR13,(VAR12+VAR14*2)/2,0),3)/618*VAR15;\n\n\u8d44\u91d1\u5165\u573a:IFF(VAR16>0,VAR16,0),LINETHICK,LINETHICK2, COLORFF0000; \n\nA1:IFF(\u8d44\u91d1\u5165\u573a>0,\u8d44\u91d1\u5165\u573a*1.2,0),STICK,LINETHICK5, COLORFF0000;\nA2:IFF(\u8d44\u91d1\u5165\u573a>0,\u8d44\u91d1\u5165\u573a*0.8,0),STICK,LINETHICK5, COLORFF6600;\nA3:IFF(\u8d44\u91d1\u5165\u573a>0,\u8d44\u91d1\u5165\u573a*0.6,0),STICK,LINETHICK5, COLORFF9900;\nA4:IFF(\u8d44\u91d1\u5165\u573a>0,\u8d44\u91d1\u5165\u573a*0.4,0) ,STICK,LINETHICK5,COLORFFCC00;\nA5:IFF(\u8d44\u91d1\u5165\u573a>0,\u8d44\u91d1\u5165\u573a*0.2,0) ,STICK,LINETHICK5,COLORFFFF00;"};return t},n.prototype.FXG_INDEX3=function(){var t={Name:"\u91cf\u80fd\u9ec4\u91d1\u70b9",Description:"\u91cf\u80fd\u9ec4\u91d1\u70b9",IsMainIndex:!1,Args:[],Script:"A:=IFF((CLOSE>126.32),VOL,VOL); \n\u4e3b\u529b:=MA(A,4),COLORRED;\n\u6e38\u8d44:=MA(A,8),COLORYELLOW;\n\u5927\u6237:=MA(A,16),COLORF0F000;\n\u6563\u6237:=MA(A,32),COLOR00FF00;\n\u4e3b\u6bd4:=ABS(((\u4e3b\u529b)/(\u4e3b\u529b + \u6e38\u8d44 + \u5927\u6237 + \u6563\u6237))*(100)),LINESTICK,COLORRED;\n\u6e38\u6bd4:=ABS(((\u6e38\u8d44)/(\u4e3b\u529b + \u6e38\u8d44 + \u5927\u6237 + \u6563\u6237))*(100)),LINESTICK,COLORYELLOW;\n\u5927\u6bd4:=ABS(((\u5927\u6237)/(\u4e3b\u529b + \u6e38\u8d44 + \u5927\u6237 + \u6563\u6237))*(100)),LINESTICK,COLORF0F000;\n\u6563\u6bd4:=ABS(((\u6563\u6237)/(\u4e3b\u529b + \u6e38\u8d44 + \u5927\u6237 + \u6563\u6237))*(100)),LINESTICK,COLOR00FF00;\n\u8b66\u6212\u7ebf:MA(A,180),COLORFF66FF;\nSTICKLINE((\u4e3b\u529b > 0),0,\u4e3b\u529b,2.5,0),COLOR1020BB;\nSTICKLINE((\u4e3b\u529b > 0),0,\u4e3b\u529b,0.7,0),COLORRED;\nSTICKLINE((\u6e38\u8d44 > 0),0,\u6e38\u8d44,2.5,0),COLOR009CFF;\nSTICKLINE((\u6e38\u8d44 > 0),0,\u6e38\u8d44,0.7,0),COLORYELLOW;\nSTICKLINE((\u5927\u6237 > 0),0,\u5927\u6237,2.5,0),COLORFF8800;\nSTICKLINE((\u5927\u6237 > 0),0,\u5927\u6237,0.7,0),COLORLIBLUE;\nSTICKLINE((\u6563\u6237 > 0),0,\u6563\u6237,2.5,0),COLOR00CA00;\nSTICKLINE((\u6563\u6237 > 0),0,\u6563\u6237,0.7,0),COLORGREEN;"};return t},n.prototype.COLOR_KSTAR1=function(){var t={Name:"\u5341\u5b57\u661f",Description:"\u5341\u5b57\u661f",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&HIGH>LOW;"};return t},n.prototype.COLOR_KSTAR2=function(){var t={Name:"\u65e9\u6668\u4e4b\u661f",Description:"\u65e9\u6668\u4e4b\u661f",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:(REF(CLOSE,2)/REF(OPEN,2)<0.95) && (REF(OPEN,1) < REF(CLOSE,2)) && (ABS(REF(OPEN,1)-REF(CLOSE,1))/REF(CLOSE,1)<0.03) && CLOSE/OPEN>1.05 && CLOSE>REF(CLOSE,2);"};return t},n.prototype.COLOR_KSTAR3=function(){var t={Name:"\u9ec4\u660f\u4e4b\u661f",Description:"\u9ec4\u660f\u4e4b\u661f",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)>1.05 && REF(OPEN,1)>REF(CLOSE,2) && ABS(REF(OPEN,1)-REF(CLOSE,1))/REF(CLOSE,1)<0.03 && CLOSE/OPEN<0.95 && CLOSE<REF(CLOSE,2);"};return t},n.prototype.COLOR_SHI1=function(){var t={Name:"\u957f\u5341\u5b57",Description:"\u957f\u5341\u5b57",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&HIGH/LOW>1.03;"};return t},n.prototype.COLOR_K220=function(){var t={Name:"\u8eab\u6000\u516d\u7532",Description:"\u8eab\u6000\u516d\u7532",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:ABS(REF(CLOSE,1)-REF(OPEN,1))/REF(CLOSE,1)>0.04&&\n            ABS(CLOSE-OPEN)/CLOSE<0.005&&\n            MAX(CLOSE,OPEN)<MAX(REF(CLOSE,1),REF(OPEN,1))&&\n            MIN(CLOSE,OPEN)>MIN(REF(CLOSE,1),REF(OPEN,1));"};return t},n.prototype.COLOR_K300=function(){var t={Name:"\u4e09\u4e2a\u767d\u6b66\u58eb",Description:"\u4e09\u4e2a\u767d\u6b66\u58eb",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:UPNDAY(CLOSE,3)&&NDAY(CLOSE,OPEN,3);"};return t},n.prototype.COLOR_K310=function(){var t={Name:"\u4e09\u53ea\u4e4c\u9e26",Description:"\u4e09\u53ea\u4e4c\u9e26",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:DOWNNDAY(CLOSE,3)&&NDAY(OPEN,CLOSE,3);"};return t},n.prototype.COLOR_K380=function(){var t={Name:"\u5149\u5934\u9633\u7ebf",Description:"\u5149\u5934\u9633\u7ebf",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:HIGH==CLOSE&&HIGH>LOW;"};return t},n.prototype.COLOR_K390=function(){var t={Name:"\u5149\u811a\u9634\u7ebf",Description:"\u5149\u811a\u9634\u7ebf",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:LOW==CLOSE&&HIGH>LOW;"};return t},n.prototype.COLOR_K134=function(){var t={Name:"\u5782\u6b7b\u5341\u5b57",Description:"\u5782\u6b7b\u5341\u5b57",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&CLOSE==LOW&&CLOSE<HIGH;"};return t},n.prototype.COLOR_K140=function(){var t={Name:"\u65e9\u6668\u5341\u5b57\u661f",Description:"\u65e9\u6668\u5341\u5b57\u661f",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)<0.95&&\nREF(OPEN,1)<REF(CLOSE,2)&&\nREF(OPEN,1)==REF(CLOSE,1)&&\nCLOSE/OPEN>1.05&&CLOSE>REF(CLOSE,2);"};return t},n.prototype.COLOR_K150=function(){var t={Name:"\u9ec4\u660f\u5341\u5b57\u661f",Description:"\u9ec4\u660f\u5341\u5b57\u661f",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)>1.05&&\nREF(OPEN,1)>REF(CLOSE,2)&&\nREF(OPEN,1)=REF(CLOSE,1)&&\nCLOSE/OPEN<0.95&&CLOSE<REF(CLOSE,2);"};return t},n.prototype.COLOR_K160=function(){var t={Name:"\u5c04\u51fb\u4e4b\u661f",Description:"\u5c04\u51fb\u4e4b\u661f",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:MIN(OPEN,CLOSE)==LOW&&\nHIGH-LOW>3*(MAX(OPEN,CLOSE)-LOW)&&\nCLOSE>MA(CLOSE,5);"};return t},n.prototype.COLOR_K165=function(){var t={Name:"\u5012\u8f6c\u9524\u5934",Description:"\u5012\u8f6c\u9524\u5934",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:MIN(OPEN,CLOSE)==LOW&&\nHIGH-LOW>3*(MAX(OPEN,CLOSE)-LOW)&&\nCLOSE<MA(CLOSE,5);"};return t},n.prototype.COLOR_K170=function(){var t={Name:"\u9524\u5934",Description:"\u9524\u5934",IsMainIndex:!0,InstructionType:2,Script:"OUT:HIGH==MAX(OPEN,CLOSE)&&\nHIGH-LOW>3*(HIGH-MIN(OPEN,CLOSE))&&\nCLOSE<MA(CLOSE,5);"};return t},n.prototype.COLOR_K180=function(){var t={Name:"\u540a\u9888",Description:"\u540a\u9888",IsMainIndex:!0,InstructionType:2,Script:"OUT:HIGH==MAX(OPEN,CLOSE)&&\nHIGH-LOW>3*(HIGH-MIN(OPEN,CLOSE))&&\nCLOSE>MA(CLOSE,5);"};return t},n.prototype.COLOR_K190=function(){var t={Name:"\u7a7f\u5934\u7834\u811a",Description:"\u7a7f\u5934\u7834\u811a",IsMainIndex:!0,InstructionType:2,Script:"OUT:(REF(CLOSE,1)/REF(OPEN,1)>1.03&&\nCLOSE/OPEN<0.96&&\nCLOSE<REF(OPEN,1)&&OPEN>REF(CLOSE,1))||\n(REF(CLOSE,1)/REF(OPEN,1)<0.97&&\nCLOSE/OPEN>1.04&&\nCLOSE>REF(OPEN,1)&&OPEN<REF(CLOSE,1));"};return t},n.prototype.COLOR_SWORD=function(){var t={Name:"\u5251",Description:"\u5251",IsMainIndex:!0,InstructionType:2,Script:"AA:=VOL>REF(VOL,1)||VOL>(CAPITAL*0.1);\nBB:=OPEN>=(REF(HIGH,1))&&REF(HIGH,1)>(REF(HIGH,2)*1.06);\nCC:=CLOSE>(REF(CLOSE,1))-(REF(CLOSE,1)*0.01);\nDD:=CLOSE<(HIGH*0.965) && HIGH>(OPEN*1.05);\nEE:=LOW<OPEN && LOW<CLOSE&&HIGH>(REF(CLOSE,1)*1.06);\nFF:=(HIGH-(MAX(OPEN,CLOSE)))/2>(MIN(OPEN,CLOSE))-LOW;\nGG:=(ABS(OPEN-CLOSE))/2<(MIN(OPEN,CLOSE)-LOW);\nSWORDO:AA&&BB&&CC&&DD&&EE&&FF&&GG;"};return t},n.prototype.COLOR_CSFR=function(){var t={Name:"\u51fa\u6c34\u8299\u84c9",Description:"\u51fa\u6c34\u8299\u84c9",IsMainIndex:!0,InstructionType:2,Script:"A:=CLOSE>OPEN;\nB:=A&&CLOSE>MA(CLOSE,S)&&CLOSE>MA(CLOSE,M)&&CLOSE>MA(CLOSE,LL);\nCC:=B&&OPEN<MA(CLOSE,M)&&OPEN<MA(CLOSE,LL);\nCSFRO:CC&&(CLOSE-OPEN)>0.0618*CLOSE;"};return t},n.prototype.COLOR_WYGD=function(){var t={Name:"\u4e4c\u4e91\u76d6\u9876",Description:"\u4e4c\u4e91\u76d6\u9876",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,1)/REF(OPEN,1)>1.03 AND \nCLOSE/OPEN<0.97 AND \nOPEN>REF(CLOSE,1) AND CLOSE<REF(CLOSE,1), 3);"};return t},n.prototype.COLOR_SGCJ=function(){var t={Name:"\u4e4c\u4e91\u76d6\u9876",Description:"\u4e4c\u4e91\u76d6\u9876",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,1)/REF(OPEN,1)<0.97 AND \nCLOSE/OPEN>1.03 AND \nOPEN<REF(CLOSE,1) AND CLOSE>REF(CLOSE,1), 3);"};return t},n.prototype.COLOR_SZTAI=function(){var t={Name:"\u5341\u5b57\u80ce",Description:"\u5341\u5b57\u80ce",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( ABS(REF(CLOSE,1)-REF(OPEN,1))/REF(CLOSE,1) > 0.04 AND \nCLOSE==OPEN AND CLOSE < MAX(REF(CLOSE,1),REF(OPEN,1)) AND \nCLOSE > MIN(REF(CLOSE,1),REF(OPEN,1)), 2);"};return t},n.prototype.COLOR_PINGDING=function(){var t={Name:"\u5e73\u9876",Description:"\u5e73\u9876",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET(ABS(HIGH-REF(HIGH,1))/HIGH<0.001,2);"};return t},n.prototype.COLOR_PINGDI=function(){var t={Name:"\u5e73\u5e95",Description:"\u5e73\u5e95",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET((ABS(LOW-REF(LOW,1))/LOW<0.001 AND \nABS(REF(LOW,1)-REF(LOW,2))/REF(LOW,1)<=0.001),2);"};return t},n.prototype.COLOR_DAYANZHU=function(){var t={Name:"\u5927\u9633\u70db",Description:"\u5927\u9633\u70db",IsMainIndex:!0,InstructionType:2,Script:"VAR1:CLOSE/OPEN>1.05 AND HIGH/LOW < CLOSE/OPEN+0.018;"};return t},n.prototype.COLOR_DAYINGZHU=function(){var t={Name:"\u5927\u9634\u70db",Description:"\u5927\u9634\u70db",IsMainIndex:!0,InstructionType:2,Script:"VAR1:OPEN/CLOSE > 1.05 AND HIGH/LOW < OPEN/CLOSE+0.018;"};return t},n.prototype.COLOR_HYFG=function(){var t={Name:"\u597d\u53cb\u53cd\u653b",Description:"\u597d\u53cb\u53cd\u653b",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( (REF(CLOSE,1)<REF(OPEN,1) AND \nCLOSE>OPEN AND ABS(CLOSE-REF(CLOSE,1))/CLOSE<0.002),2);"};return t},n.prototype.COLOR_TKQK=function(){var t={Name:"\u8df3\u7a7a\u7f3a\u53e3",Description:"\u8df3\u7a7a\u7f3a\u53e3",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( HIGH<REF(LOW,1) OR LOW>REF(HIGH,1),2);"};return t},n.prototype.COLOR_SFWY=function(){var t={Name:"\u53cc\u98de\u4e4c\u9e26",Description:"\u53cc\u98de\u4e4c\u9e26",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( REF(CLOSE,1)<REF(OPEN,1) AND CLOSE<OPEN AND CLOSE/OPEN<0.98,1);"};return t},n.prototype.COLOR_SSSBQ=function(){var t={Name:"\u4e0a\u5347\u4e09\u90e8\u66f2",Description:"\u4e0a\u5347\u4e09\u90e8\u66f2",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,4)/REF(OPEN,4)>1.03 AND \nREF(CLOSE,3)<REF(OPEN,3) AND \nREF(CLOSE,2)<REF(OPEN,2) AND \nREF(CLOSE,1)<REF(OPEN,1) AND \nREF(LOW,4)<REF(LOW,3) AND \nREF(LOW,4)<REF(LOW,2) AND \nREF(LOW,4)<REF(LOW,1) AND \nREF(HIGH,4)>REF(HIGH,3) AND \nREF(HIGH,4)>REF(HIGH,2) AND \nREF(HIGH,4)>REF(HIGH,1) AND \nCLOSE/OPEN>1.03 AND \nCLOSE>REF(CLOSE,4), 5);"};return t},n.prototype.COLOR_XDSBQ=function(){var t={Name:"\u4e0b\u8dcc\u4e09\u90e8\u66f2",Description:"\u4e0b\u8dcc\u4e09\u90e8\u66f2",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,4)/REF(OPEN,4)<0.97 AND \nREF(CLOSE,3)>REF(OPEN,3) AND \nREF(CLOSE,2)>REF(OPEN,2) AND \nREF(CLOSE,1)>REF(OPEN,1) AND \nREF(LOW,4)<REF(LOW,3) AND \nREF(LOW,4)<REF(LOW,2) AND \nREF(LOW,4)<REF(LOW,1) AND \nREF(HIGH,4)>REF(HIGH,3) AND \nREF(HIGH,4)>REF(HIGH,2) AND \nREF(HIGH,4)>REF(HIGH,1) AND \nCLOSE/OPEN<0.97 AND \nCLOSE<REF(CLOSE,4), 5);"};return t},n.prototype.COLOR_CHXY=function(){var t={Name:"\u957f\u4e0b\u5f71",Description:"\u957f\u4e0b\u5f71",IsMainIndex:!0,InstructionType:2,Script:"VAR2:(MIN(CLOSE,OPEN)-LOW)/(HIGH-LOW)>0.667;"};return t},n.prototype.COLOR_CHSY=function(){var t={Name:"\u957f\u4e0a\u5f71",Description:"\u957f\u4e0a\u5f71",IsMainIndex:!0,InstructionType:2,Script:"VAR2:(HIGH-MAX(CLOSE,OPEN))/(HIGH-LOW)>0.667,COLORBLUE;"};return t},n.prototype.COLOR_FENLI=function(){var t={Name:"\u5206\u79bb",Description:"\u5206\u79bb",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( OPEN==REF(OPEN,1) AND (CLOSE-OPEN)*(REF(CLOSE,1)-REF(OPEN,1))<0,2);"};return t},n.prototype.TRADE_BIAS=function(){var t={Name:"BIAS",Description:"\u4e56\u79bb\u7387\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"LL",Value:6},{Name:"LH",Value:6}],Script:"BIAS:=(CLOSE-MA(CLOSE,N))/MA(CLOSE,N)*100;\nENTERLONG:CROSS(-LL,BIAS);\nEXITLONG:CROSS(BIAS,LH);"};return t},n.prototype.TRADE_CCI=function(){var t={Name:"CCI",Description:"CCI\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:14}],Script:"TYP:=(HIGH+LOW+CLOSE)/3;\nCCI:=(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N));\nINDEX:=CCI;\nENTERLONG:CROSS(INDEX,-100);\nEXITLONG:CROSS(100,INDEX);"};return t},n.prototype.TRADE_DMI=function(){var t={Name:"DMI",Description:"\u8d8b\u5411\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:14}],Script:"MTR:=SUM(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(LOW-REF(CLOSE,1))),N);\nHD :=HIGH-REF(HIGH,1);\nLD :=REF(LOW,1)-LOW;\nPDM:=SUM(IF(HD>0&&HD>LD,HD,0),N);\nMDM:=SUM(IF(LD>0&&LD>HD,LD,0),N);\nPDI:=PDM*100/MTR;\nMDI:=MDM*100/MTR;\nENTERLONG:CROSS(PDI,MDI);\nEXITLONG:CROSS(MDI,PDI);"};return t},n.prototype.TRADE_KD=function(){var t={Name:"KD",Description:"KD\u6307\u6807\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"WRSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nWK:=SMA(WRSV,M1,1);\nD:=SMA(WK,M2,1);\nENTERLONG:CROSS(WK,D)&&WK<20;\nEXITLONG:CROSS(D,WK)&&WK>80;"};return t},n.prototype.TRADE_BOLL=function(){var t={Name:"BOLL",Description:"\u5e03\u6797\u5e26\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:20}],Script:"MID :=MA(CLOSE,N);\nUPPER:=MID+2*STD(CLOSE,N);\nLOWER:=MID-2*STD(CLOSE,N);\nENTERLONG:CROSS(CLOSE,LOWER);\nEXITLONG:CROSS(CLOSE,UPPER);"};return t},n.prototype.TRADE_KDJ=function(){var t={Name:"KDJ",Description:"KDJ\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:=SMA(RSV,M1,1);\nD:=SMA(K,M1,1);\nJ:=3*K-2*D;\nENTERLONG:CROSS(J,0);\nEXITLONG:CROSS(100,J);"};return t},n.prototype.TRADE_MA=function(){var t={Name:"MA",Description:"\u5747\u7ebf\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"SHORT",Value:5},{Name:"LONG",Value:20}],Script:"ENTERLONG:CROSS(MA(CLOSE,SHORT),MA(CLOSE,LONG));\nEXITLONG:CROSS(MA(CLOSE,LONG),MA(CLOSE,SHORT));"};return t},n.prototype.TRADE_MACD=function(){var t={Name:"MACD",Description:"MACD\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"LONG",Value:26},{Name:"SHORT",Value:12},{Name:"M",Value:9}],Script:"DIFF:=EMA(CLOSE,SHORT) - EMA(CLOSE,LONG);\nDEA  := EMA(DIFF,M);\nMACD := 2*(DIFF-DEA);\nENTERLONG:CROSS(MACD,0);\nEXITLONG:CROSS(0,MACD);"};return t},n.prototype.TRADE_MTM=function(){var t={Name:"MTM",Description:"\u52a8\u529b\u6307\u6807\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:6}],Script:"WMTM:=C-REF(C,N);\nENTERLONG:CROSS(WMTM,0);\nEXITLONG:CROSS(0,WMTM);"};return t},n.prototype.TRADE_PSY=function(){var t={Name:"PSY",Description:"PSY\u5fc3\u7406\u7ebf\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"LL",Value:10},{Name:"LH",Value:85}],Script:"MYPSY:=COUNT(CLOSE>REF(CLOSE,1),N)/N*100;\nENTERLONG:CROSS(LL,MYPSY);\nEXITLONG:CROSS(MYPSY,LH);"};return t},n.prototype.TRADE_ROC=function(){var t={Name:"ROC",Description:"\u53d8\u52a8\u901f\u7387\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"WROC:=MA(100*(CLOSE-REF(CLOSE,N))/REF(CLOSE,N),M);\nENTERLONG:CROSS(WROC,0);\nEXITLONG:CROSS(0,WROC);"};return t},n.prototype.TRADE_RSI=function(){var t={Name:"RSI",Description:"\u76f8\u5bf9\u5f3a\u5f31\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:6},{Name:"LL",Value:20},{Name:"LH",Value:80}],Script:"LC:=REF(CLOSE,1);\nWRSI:=SMA(MAX(CLOSE-LC,0),N,1)/SMA(ABS(CLOSE-LC),N,1)*100;\nENTERLONG:CROSS(WRSI,LL);\nEXITLONG:CROSS(LH,WRSI);"};return t},n.prototype.TRADE_VR=function(){var t={Name:"VR",Description:"VR\u5bb9\u91cf\u6bd4\u7387\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:26},{Name:"LL",Value:70},{Name:"LH",Value:250}],Script:"WVR := SUM((IF(CLOSE>OPEN,VOL,0)+IF(CLOSE=OPEN,VOL/2,0)),N)/SUM((IF(CLOSE<OPEN,VOL,0)+IF(CLOSE=OPEN,VOL/2,0)),N)*100;\nENTERLONG:CROSS(LL,WVR);\nEXITLONG:CROSS(WVR,LH);"};return t},n.prototype.TRADE_DPSJ=function(){var t={Name:"DPSJ",Description:"\u5927\u76d8\u968f\u673a\u4e13\u5bb6\u7cfb\u7edf",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N1",Value:18},{Name:"N2",Value:12}],Script:"RSV:=(INDEXC-LLV(INDEXL,N1))/(HHV(INDEXH,N1)-LLV(INDEXL,N1))*100;\nK:=SMA(RSV,N2,1);\nHSL:VOL/100/(FINANCE(7));\nENTERLONG: CROSS(K,20);\nEXITLONG: (CROSS(HSL,5) OR CROSS(K,80));"};return t},n.prototype.TEST=function(){var t={Name:"TEST",Description:"\u6d4b\u8bd5\u811a\u672c",IsMainIndex:!1,Args:[{Name:"N",Value:10}],Script:"\u4e70\u5165\u538b\u529b:=H-REF(C,1)+(C-L);\n                \u5356\u51fa\u538b\u529b:=REF(C,1)-L+(H-C);\n                K1:=\u4e70\u5165\u538b\u529b/(\u4e70\u5165\u538b\u529b+\u5356\u51fa\u538b\u529b)/10;\n                K2:=\u5356\u51fa\u538b\u529b/(\u4e70\u5165\u538b\u529b+\u5356\u51fa\u538b\u529b)/10;\n                A01:=(2*C+O+L+H)/5;\n                A02:=(WINNER((A01 * 1.04)) * 100);\n                \u5957\u7262\u89d2\u5ea6:=57.2958*ATAN(A02-REF(A02,1));\n                A03:=(WINNER((A01 * 0.96)) * 100);\n                \u76c8\u5229\u7b79\u7801:A03;\n                A04:=A03;\n                A08:=A02-A03;\n                A06:=(100 - A02);\n                \u5957\u7262\u7b79\u7801:=A06;\n                STICKLINE( 1,0,A04, 2,0),COLOR0000FF;\n                STICKLINE( 1, 100,A02, 2,0),COLOR00FF00;\n                STICKLINE( 1,A04,(100-A06), 2,0),COLORYELLOW;"};return t},n.prototype.Zealink_Index1=function(){var t={Name:"\u8d44\u91d1\u5438\u7b79",Description:"\u8d44\u91d1\u5438\u7b79",IsMainIndex:!1,Args:[],Script:"VAR1:=REF((LOW+OPEN+CLOSE+HIGH)/4,1);  \nVAR2:= SMA(ABS(LOW - VAR1), 13, 1) / SMA(MAX(LOW - VAR1, 0), 10, 1);\nVAR3:= EMA(VAR2, 10);\nVAR4:= LLV(LOW, 33);\nVAR5:= EMA(IF(LOW <= VAR4, VAR3, 0), 3) * 0.2;\n\u4e3b\u529b\u8fdb\u573a: IF(VAR5 > REF(VAR5, 1), VAR5,0), COLORRED, NODRAW;\n\u6d17\u76d8: IF(VAR5 < REF(VAR5, 1), VAR5,0), COLORYELLOW, NODRAW;\nSTICKLINE(VAR5> REF(VAR5, 1),0, VAR5, 50, 0), COLORRED;\nSTICKLINE(VAR5 < REF(VAR5, 1), 0, VAR5, 50, 0), COLORYELLOW;"};return t},n.prototype.Zealink_Index2=function(){var t={Name:"\u725b\u718a\u533a\u95f4",Description:"\u725b\u718a\u533a\u95f4",IsMainIndex:!1,YSpecificMaxMin:{Max:100,Min:1,Count:4},YSplitScale:[1,50,100],Args:[],Script:"\u77ed\u9ad8H:=(20*H+19*REF(H,1)+18*REF(H,2)+17*REF(H,3)+16*REF(H,4)+15*REF(H,5)+14*REF(H,6)\n+ 13 * REF(H, 7) + 12 * REF(H, 8) + 11 * REF(H, 9) + 10 * REF(H, 10) + 9 * REF(H, 11) + 8 * REF(H, 12)\n+ 7 * REF(H, 13) + 6 * REF(H, 14) + 5 * REF(H, 15) + 4 * REF(H, 16) + 3 * REF(H, 17) + 2 * REF(H, 18) +\nREF(H, 20))/ 210, COLORBLUE, LINETHICK1;\n\u77ed\u4f4eL:= (20 * L + 19 * REF(L, 1) + 18 * REF(L, 2) + 17 * REF(L, 3) + 16 * REF(L, 4) + 15 * REF(L, 5) + 14 * REF(L, 6)\n+ 13 * REF(L, 7) + 12 * REF(L, 8) + 11 * REF(L, 9) + 10 * REF(L, 10) + 9 * REF(L, 11) + 8 * REF(L, 12)\n+ 7 * REF(L, 13) + 6 * REF(L, 14) + 5 * REF(L, 15) + 4 * REF(L, 16) + 3 * REF(L, 17) + 2 * REF(L, 18) +\nREF(L, 20)) / 210, COLORBLUE, LINETHICK1;\nD90H:= EMA(\u77ed\u9ad8H, 90), COLORRED, LINETHICK1;\nD90L:= EMA(\u77ed\u4f4eL, 90), COLORRED, LINETHICK1;\nD90\u5dee:= D90H - D90L;\nD90\u9876:= D90H + D90\u5dee * 2, COLORRED, LINETHICK1;\nD90\u5e95:= D90L - D90\u5dee * 2, COLORRED, LINETHICK1;\n\u9ad80:= (EMA(EMA(H, 25), 25) - EMA(EMA(L, 25), 25)) * 1 + EMA(EMA(H, 25), 25), LINETHICK1, COLORWHITE;\n\u4f4e0:= EMA(EMA(L, 25), 25) - (EMA(EMA(H, 25), 25) - EMA(EMA(L, 25), 25)) * 1, LINETHICK1, COLORWHITE;\n\u591a\u5934\u5b9a\u4f4d:= \u4f4e0 >= D90\u5e95 AND \u9ad80 >= D90\u9876;\n\u7a7a\u5934\u5b9a\u4f4d:= \u9ad80 <= D90\u9876 AND \u4f4e0 <= D90\u5e95;\n\u9707\u8361\u5b9a\u4f4d:= \u4f4e0 >= D90\u5e95 AND \u9ad80 <= D90\u9876;\n\u725b\u5e02: IF(\u591a\u5934\u5b9a\u4f4d == 1, 100, 1), COLORRED, NODRAW;\n\u718a\u5e02: IF(\u7a7a\u5934\u5b9a\u4f4d == 1, 100, 1), COLORGREEN, NODRAW;\n\u9707\u8361: IF(\u9707\u8361\u5b9a\u4f4d == 1, 100, 1), COLORGRAY, NODRAW;\nSTICKLINE(\u591a\u5934\u5b9a\u4f4d == 1, 100, 1, 100, 0), COLORRED;\nSTICKLINE(\u7a7a\u5934\u5b9a\u4f4d == 1, 100, 1, 100, 0), COLORGREEN;\nSTICKLINE(\u9707\u8361\u5b9a\u4f4d == 1, 100, 1, 100, 0), COLORGRAY;"};return t},n.prototype.Zealink_Index3=function(){var t={Name:"\u6301\u4ed3\u4fe1\u53f7",Description:"\u6301\u4ed3\u4fe1\u53f7",IsMainIndex:!0,Args:[],Script:'\u4e70\u7ebf:=EMA(C,2);\n\u5356\u7ebf:=EMA(SLOPE(C,30)*5+C,20); \nBU:=CROSS(\u4e70\u7ebf,\u5356\u7ebf);\nSEL:=CROSS(\u5356\u7ebf,\u4e70\u7ebf);\n\nSTICKLINE(\u4e70\u7ebf>=\u5356\u7ebf AND CLOSE>OPEN,LOW,HIGH,0,1),COLORRED;\nSTICKLINE(\u4e70\u7ebf>=\u5356\u7ebf AND CLOSE<OPEN,LOW,HIGH,0,1),COLORRED;\nSTICKLINE(\u4e70\u7ebf>=\u5356\u7ebf AND CLOSE>OPEN,CLOSE,OPEN,50,1),COLORRED;\nSTICKLINE(\u4e70\u7ebf>=\u5356\u7ebf AND CLOSE<OPEN,CLOSE,OPEN,50,0),COLORRED;\nSTICKLINE(\u4e70\u7ebf<\u5356\u7ebf AND CLOSE<OPEN,LOW,HIGH,0,1),COLORGREEN;\nSTICKLINE(\u4e70\u7ebf<\u5356\u7ebf AND CLOSE>OPEN,LOW,HIGH,0,1),COLORGREEN;\nSTICKLINE(\u4e70\u7ebf<\u5356\u7ebf AND CLOSE<OPEN,CLOSE,OPEN,50,0),COLORGREEN;\nSTICKLINE(\u4e70\u7ebf<\u5356\u7ebf AND CLOSE>OPEN,CLOSE,OPEN,50,1),COLORGREEN;\n\nHHJSJDA:=(3*CLOSE+OPEN+LOW+HIGH)/6;\nHHJSJDB:=(19*HHJSJDA+19*REF(HHJSJDA,1)+18*REF(HHJSJDA,2)+17*REF(HHJSJDA,3)+16*REF(HHJSJDA,4)+15*REF(HHJSJDA,5)+14*REF(HHJSJDA,6)\n+13*REF(HHJSJDA,7)+12*REF(HHJSJDA,8)+11*REF(HHJSJDA,9)+10*REF(HHJSJDA,10)+9*REF(HHJSJDA,11)+8*REF(HHJSJDA,12)+7*REF(HHJSJDA,13)+6*REF(HHJSJDA,14)+5*REF(HHJSJDA,15)+4*REF(HHJSJDA,16)+3*REF(HHJSJDA,17)+2*REF\n(HHJSJDA,20)+REF(HHJSJDA,19))/210,COLORYELLOW;\nHHJSJDC:=MA(HHJSJDB,5),COLORRED;\n\u5feb\u7ebf:HHJSJDB,COLORYELLOW;\n\u6162\u7ebf:HHJSJDC,COLORRED;\n\nSVAR11:=HHV(HIGH,34);\nSVAR14:=CLOSE-REF(CLOSE,1);\nSVAR15:=MAX(SVAR14,0);\nSVAR16:=ABS(SVAR14);\nSVAR17:=SMA(SVAR15,7,1)/SMA(SVAR16,7,1)*100;\nSVAR18:=SMA(SVAR15,13,1)/SMA(SVAR16,13,1)*100;\nSVAR19:=BARSCOUNT(CLOSE);\nSVAR20:=SMA(MAX(SVAR14,0),6,1)/SMA(ABS(SVAR14),6,1)*100;\nSVAR21:=(-200)*(HHV(HIGH,60)-CLOSE)/(HHV(HIGH,60)-LLV(LOW,60))+100;\nSVAR1A:=(CLOSE-LLV(LOW,15))/(HHV(HIGH,15)-LLV(LOW,15))*100;\nSVAR1B:=SMA((SMA(SVAR1A,4,1)-50)*2,3,1);\nSVAR1C:=(INDEXC-LLV(INDEXL,14))/(HHV(INDEXH,14)-LLV(INDEXL,14))*100;\nSVAR1D:=SMA(SVAR1C,4,1);\nSVAR1E:=SMA(SVAR1D,3,1);\nSVAR1F:=(HHV(HIGH,30)-CLOSE)/CLOSE*100;\nSVAR22:=SVAR20<=25 AND SVAR21<-95 AND SVAR1F>20 AND SVAR1B<-30 AND SVAR1E<30 AND SVAR11-CLOSE>=-0.25 AND SVAR17<22 AND SVAR18<28 AND SVAR19>50;\nBUY3:=CROSS(SVAR22,0.5) AND COUNT(SVAR22==1,10)==1;\n\nSVARF:=LOW*0.9;\nSVAR10X:=100-3*SMA((OPEN-LLV(LOW,75))/(HHV(HIGH,75)-LLV(LOW,75))*100,20,1)+2*SMA(SMA((OPEN-LLV(LOW,75))/(HHV(HIGH,75)-LLV(LOW,75))*100,20,1),15,1);\nSVAR11X:=SVARF<REF(SVAR10X,1) AND VOL>REF(VOL,1) AND CLOSE>REF(CLOSE,1);\nBUY2:=SVAR11X AND COUNT(SVAR11X,30)==1;\n\nVAR1:=(CLOSE+HIGH+LOW+OPEN)/4;\nVAR2:=SUMBARS(VOL,CAPITAL);\nVAR3:=HHV(VAR1,VAR2);\nVAR4:=LLV(VAR1,VAR2);\nVAR5:=(2*VAR1-VAR4-REF(VAR4,1))/(VAR3-VAR4);\nVAR6:=(VAR1-VAR4)/(VAR3-VAR4);\nVAR7:=IF(VAR1<=VAR4,VAR5*60,VAR6*60);\nVAR8:=600*(EMA(CLOSE,3)-EMA(LOW,30))/EMA(LOW,30);\nVAR9:=EMA(VAR8,7);\nVARC:=HHV(HIGH,9)-LLV(LOW,9);\nVARD:=HHV(HIGH,9)-CLOSE;\nVARE:=CLOSE-LLV(LOW,9);\nVARF:=VARD/VARC*100-70;\nVAR10:=(CLOSE-LLV(LOW,60))/(HHV(HIGH,60)-LLV(LOW,60))*100;\nVAR11:=(2*CLOSE+HIGH+LOW)/4;\nVAR12:=SMA(VARE/VARC*100,3,1);\nVAR13:=LLV(LOW,34);\nVAR14:=SMA(VAR12,3,1)-SMA(VARF,9,1);\nVAR15:=IF(VAR14>100,VAR14-100,0);\nVAR16:=HHV(HIGH,34);\nVAR17:=EMA((VAR11-VAR13)/(VAR16-VAR13)*100,8);\nVAR18:=EMA(VAR17,5);\nBUY:=STICKLINE(VAR17-VAR18>0,VAR17,VAR18,8,1),COLORRED;\nSELL:=STICKLINE(VAR17-VAR18<0,VAR17,VAR18,8,1),COLORGREEN;\nBUY1:=VAR17>VAR18 AND REF(VAR17,1)<REF(VAR18,1);\nSELL1:=VAR17<VAR18 AND REF(VAR17,1)>REF(VAR18,1);\n\n\u77ed\u9ad8H:=(20*H+19*REF(H,1)+18*REF(H,2)+17*REF(H,3)+16*REF(H,4)+15*REF(H,5)+14*REF(H,6)\n+13*REF(H,7)+12*REF(H,8)+11*REF(H,9)+10*REF(H,10)+9*REF(H,11)+8*REF(H,12)\n+7*REF(H,13)+6*REF(H,14)+5*REF(H,15)+4*REF(H,16)+3*REF(H,17)+2*REF(H,18)+\nREF(H,20))/210,COLORBLUE,LINETHICK1;\n\u77ed\u4f4eL:=(20*L+19*REF(L,1)+18*REF(L,2)+17*REF(L,3)+16*REF(L,4)+15*REF(L,5)+14*REF(L,6)\n+13*REF(L,7)+12*REF(L,8)+11*REF(L,9)+10*REF(L,10)+9*REF(L,11)+8*REF(L,12)\n+7*REF(L,13)+6*REF(L,14)+5*REF(L,15)+4*REF(L,16)+3*REF(L,17)+2*REF(L,18)+\nREF(L,20))/210,COLORBLUE,LINETHICK1;\nD90H:=EMA(\u77ed\u9ad8H,90),COLORRED,LINETHICK1;\nD90L:=EMA(\u77ed\u4f4eL,90),COLORRED,LINETHICK1;\nD90\u5dee:=D90H-D90L;\nD90\u9876:=D90H+D90\u5dee*2,COLORRED,LINETHICK1;\nD90\u5e95:=D90L-D90\u5dee*2,COLORRED,LINETHICK1;\n\u9ad80:=(EMA(EMA(H,25),25)-EMA(EMA(L,25),25))*1+EMA(EMA(H,25),25),LINETHICK1,COLORWHITE;\n\u4f4e0:=EMA(EMA(L,25),25)-(EMA(EMA(H,25),25)-EMA(EMA(L,25),25))*1,LINETHICK1,COLORWHITE;\n\u591a\u5934\u5b9a\u4f4d:=\u4f4e0>=D90\u5e95 AND \u9ad80>=D90\u9876;\n\u7a7a\u5934\u5b9a\u4f4d:=\u9ad80<=D90\u9876 AND \u4f4e0<=D90\u5e95;\n\u9707\u8361\u5b9a\u4f4d:=\u4f4e0>=D90\u5e95 AND \u9ad80<=D90\u9876;\n\n\u725b\u5e02:=\u591a\u5934\u5b9a\u4f4d==1;\n\u718a\u5e02:=\u7a7a\u5934\u5b9a\u4f4d==1;\n\u9707\u8361:=\u9707\u8361\u5b9a\u4f4d==1;\n\n\u975e\u725b\u5e02:=\u718a\u5e02 OR \u9707\u8361;\n\u975e\u718a\u5e02:=\u725b\u5e02 OR \u9707\u8361;\n\nBUY11:=BUY1 AND \u975e\u718a\u5e02;\nSELL11:=SELL1 AND \u9707\u8361\u5b9a\u4f4d==0;\n\nBUY111:=BUY11 AND COUNT(BUY11,10)<2;\nBUY0:=BUY111 AND COUNT(BUY111,21)==1;\nSELL111:=SELL11 AND COUNT(SELL11,10)<2;\nSELL0:=SELL111 AND COUNT(SELL111,10)==1;\n\nXK1:=EMA(100*(CLOSE-LLV(LOW,34))/(HHV(HIGH,34)-LLV(LOW,34)),3)/4;\n\u4e0a\u7a7f:=REF(XK1,1)<5 AND XK1>=5;\nBUY4:=\u4e0a\u7a7f AND COUNT(XK1<2,12)<1;\n\nSELL2:=REF(XK1,1)<=22.5 AND XK1>22.5 AND COUNT(REF(XK1,1)>=22.5 AND XK1<22.5,5)>0;\nSELL3:=REF(XK1,1)>=21.5 AND XK1<21.5 AND COUNT(REF(XK1,1)>=22.5 AND XK1<22.5,12)>1;\nSELL4:=SELL2 OR SELL3 AND COUNT((SELL2 OR SELL3)==1,5)==1;\n\nSUPERDRAWTEXT(BUY0,L,"\u673a\u4f1a",2,10),COLORRED;\nSUPERDRAWTEXT(SELL0,H,"\u98ce\u9669",1,10),COLORGREEN;\nSUPERDRAWTEXT(BUY2,L,"\u673a\u4f1a",2,10),COLORRED;\nSUPERDRAWTEXT(BUY4,L,"\u673a\u4f1a",2,10),COLORRED;\nSUPERDRAWTEXT(SELL4,H,"\u98ce\u9669",1,10),COLORGREEN;'};return t},n.prototype.Zealink_Index4=function(){var t={Name:"\u80a1\u4e1c\u5b9e\u9645\u589e\u51cf\u6301",Description:"\u80a1\u4e1c\u5b9e\u9645\u589e\u51cf\u6301",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"\u589e\u6301:NEWS(4),NODRAW,COLORRED;\n\u51cf\u6301:NEWS(5),NODRAW,COLORGREEN;\nSTICKLINE(\u589e\u6301>0,0,\u589e\u6301,1,0),COLORRED;\nSTICKLINE(\u51cf\u6301<0,0,\u51cf\u6301,1,0),COLORGREEN;"};return t},n.prototype.Zealink_Index5=function(){var t={Name:"\u5927\u5b97\u4ea4\u6613",Description:"\u5927\u5b97\u4ea4\u6613",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"\u4ea4\u6613\u6b21\u6570:NEWS(7);"};return t},n.prototype.Zealink_Index6=function(){var t={Name:"\u4fe1\u6258\u6301\u80a1",Description:"\u4fe1\u6258\u6301\u80a1",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"\u5bb6\u6570:NEWS(6);"};return t},n.prototype.Zealink_Index7=function(){var t={Name:"\u5b98\u7f51\u65b0\u95fb",Description:"\u5b98\u7f51\u65b0\u95fb",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"\u4e2a\u6570:NEWS(8);"};return t},n.prototype.Zealink_Index8=function(){var t={Name:"\u9ad8\u7ba1\u8981\u95fb",Description:"\u9ad8\u7ba1\u8981\u95fb",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"\u4e2a\u6570:NEWS(9);"};return t},n.prototype.Zealink_Index9=function(){var t={Name:"\u80a1\u6743\u8d28\u62bc",Description:"\u80a1\u6743\u8d28\u62bc",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"\u6b21\u6570:NEWS(10);"};return t},n.prototype.CJL=function(){var t={Name:"CJL",Description:"\u671f\u8d27\u6301\u4ed3\u91cf",IsMainIndex:!1,Args:[],Script:"\u6210\u4ea4\u91cf:VOL,VOLSTICK;\n\u6301\u4ed3\u91cf:VOLINSTK,LINEOVERLAY;"};return t},n.prototype.SQJZ=function(){var t={Name:"SQJZ",Description:"\u795e\u5947\u4e5d\u8f6c",IsMainIndex:!0,Script:"B:=C<REF(C,4);\nN:=CURRBARSCOUNT;\nB1:=(N=6 AND REFXV(COUNT(B,6),5)=6) OR (N=7 AND REFXV(COUNT(B,7),6)=7) OR (N=8 AND REFXV(COUNT(B,8),7)=8) OR (N>=9 AND REFXV(COUNT(B,9),8)=9);\nDRAWNUMBER(B1 AND REF(B,1)=0,L,1),COLORMAGENTA;\nB2:=(N=5 AND REFXV(COUNT(B,6),4)=6) OR (N=6 AND REFXV(COUNT(B,7),5)=7) OR (N=7 AND REFXV(COUNT(B,8),6)=8) OR (N>=8 AND REFXV(COUNT(B,9),7)=9);\nDRAWNUMBER(B2 AND REF(B,2)=0,L,2),COLORMAGENTA;\nB8:=(N=1 AND COUNT(B,8)=8) OR (N>=2 AND REFXV(COUNT(B,9),1)=9);\nDRAWNUMBER(B8 AND REF(B,8)=0,L,8),COLORMAGENTA;\nB9:=(N>=1 AND COUNT(B,9)=9);\nDRAWNUMBER(B9 AND REF(B,9)=0,L,9),COLORBROWN;\nS:=C>REF(C,4);\nS1:=(N=6 AND REFXV(COUNT(S,6),5)=6) OR (N=7 AND REFXV(COUNT(S,7),6)=7) OR (N=8 AND REFXV(COUNT(S,8),7)=8) OR (N>=9 AND REFXV(COUNT(S,9),8)=9);\nDRAWNUMBER(S1 AND REF(S,1)=0,H,1),COLORMAGENTA,DRAWABOVE;\nS2:=(N=5 AND REFXV(COUNT(S,6),4)=6) OR (N=6 AND REFXV(COUNT(S,7),5)=7) OR (N=7 AND REFXV(COUNT(S,8),6)=8) OR (N>=8 AND REFXV(COUNT(S,9),7)=9);\nDRAWNUMBER(S2 AND REF(S,2)=0,H,2),COLORMAGENTA,DRAWABOVE;\nS8:=(N=1 AND COUNT(S,8)=8) OR (N>=2 AND REFXV(COUNT(S,9),1)=9);\nDRAWNUMBER(S8 AND REF(S,8)=0,H,8),COLORMAGENTA,DRAWABOVE;\nS9:=(N>=1 AND COUNT(S,9)=9);\nDRAWNUMBER(S9 AND REF(S,9)=0,H,9),COLORGREEN,DRAWABOVE;"};return t},n.prototype.XT=function(){var t={Name:"XT",Description:"\u7bb1\u4f53",IsMainIndex:!0,Args:[{Name:"N",Value:10}],Script:"\u3010\u7bb1\u9876\u3011:PEAK(CLOSE,N,1)*0.98;\n\u3010\u7bb1\u5e95\u3011:TROUGH(CLOSE,N,1)*1.02;\n\u3010\u7bb1\u9ad8\u3011:100*(\u3010\u7bb1\u9876\u3011-\u3010\u7bb1\u5e95\u3011)/\u3010\u7bb1\u5e95\u3011,NODRAW;"};return t},n.prototype.CFJT=function(){var t={Name:"CFJT",Description:"\u8d22\u5bcc\u9636\u68af",IsMainIndex:!0,Script:"\u7a81\u7834:=REF(EMA(C,14),1);\nA1X:=(EMA(C,10)-\u7a81\u7834)/\u7a81\u7834*100;\n\u591a\u65b9:=IF(A1X>=0,REF(EMA(C,10),BARSLAST(CROSS(A1X,0))+1),DRAWNULL);\n\u7a7a\u65b9:=IF(A1X<0,REF(EMA(C,10),BARSLAST(CROSS(0,A1X))+1),DRAWNULL);\nSTICKLINE(A1X>=0,\u591a\u65b9,\u7a81\u7834,110,0),COLORRED;\nSTICKLINE(A1X<0,\u7a7a\u65b9,\u7a81\u7834,110,0),COLORGREEN;"};return t},n.prototype.CYX=function(){var t={Name:"CYX",Description:"\u6491\u538b\u7ebf",IsMainIndex:!0,Args:[{Name:"N",Value:7}],Script:"Z1:=STRCAT(HYBLOCK,' ');\nZ2:=STRCAT(Z1,DYBLOCK);\nZ3:=STRCAT(Z2,' ');\nDRAWTEXT_FIX(ISLASTBAR,0,0,0,STRCAT(Z3,GNBLOCK)),COLOR00C0C0;\nA1:=REF(H,N)=HHV(H,2*N+1);\nB1:=FILTER(A1,N);\nC1:=BACKSET(B1,N+1);\nD1:=FILTER(C1,N);\nA2:=REF(L,N)=LLV(L,2*N+1);\nB2:=FILTER(A2,N);\nC2:=BACKSET(B2,N+1);\nD2:=FILTER(C2,N);\nE1:=(REF(LLV(L,2*N),1)+REF(HHV(H,2*N),1))/2;\nE2:=(H+L)/2;\nH1:=(D1 AND NOT(D2 AND E1>=E2)) OR ISLASTBAR OR BARSCOUNT(C)=1;\nL1:=(D2 AND NOT(D1 AND E1<E2));\nH2:=D1 AND NOT(D2 AND E1>=E2);\nX1:=REF(BARSLAST(H1),1)+1;\nF1:=BACKSET(H1 AND COUNT(L1,X1)>0,LLVBARS(IF(L1,L,10000),X1));\nG1:=F1>REF(F1,1);\nI1:=BACKSET(G1,2);\nLD:=I1>REF(I1,1);\nL2:=LD OR ISLASTBAR OR BARSCOUNT(C)=1;\nX2:=REF(BARSLAST(L2),1)+1;\nF2:=BACKSET(L2 AND COUNT(H2,X2)>0,HHVBARS(IF(H2,H,0),X2));\nG2:=F2>REF(F2,1);\nI2:=BACKSET(G2,2);\nHD:=I2>REF(I2,1);\nR1:=BACKSET(ISLASTBAR,BARSLAST(HD)+1);\nS1:=R1>REF(R1,1);\nT1:=BACKSET(ISLASTBAR,BARSLAST(LD)+1);\nU1:=T1>REF(T1,1);\nR2:=BACKSET(S1,REF(BARSLAST(HD),1)+2);\nS2:=R2>REF(R2,1);\nT2:=BACKSET(U1,REF(BARSLAST(LD),1)+2);\nU2:=T2>REF(T2,1);\nDRAWLINE(S2,H,S1,H,1),LINETHICK2,COLORRED;\nDRAWLINE(U2,L,U1,L,1),LINETHICK2,COLORGREEN;"};return t},n.prototype.WAVE=function(){var t={Name:"WAVE",Description:"\u6ce2\u6d6a\u5206\u6790",IsMainIndex:!0,Args:[{Name:"N",Value:5}],Script:"ZIG(3,N);"};return t},t.exports={JSCommonIndexScript:{JSIndexScript:n}}}).call(this,a("0de9")["default"])},"2a30":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={vTabs:a("a367").default,uniPopup:a("df12").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","topbox"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","searchinput"),attrs:{_i:2}},[i("image",{staticClass:t._$s(3,"sc","searchlogo"),attrs:{src:t._$s(3,"a-src",a("023e")),_i:3}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.search_value,expression:"search_value"}],attrs:{_i:4},domProps:{value:t._$s(4,"v-model",t.search_value)},on:{input:function(e){e.target.composing||(t.search_value=e.target.value)}}})]),i("view",[i("v-tabs",{attrs:{"v-model":t.tab_index,tabs:t.tab_list,pills:!1,scroll:!1,fixed:!0,bgColor:"#f0f0f0","line-height":"0rpx",lineColor:"#f9273f",activeColor:"#f9273f",_i:6},on:{change:t.changeTab}})],1)]),i("view"),t._$s(8,"i",0==t.tab_index)?i("view",{staticClass:t._$s(8,"sc","Plist"),attrs:{_i:8}},t._l(t._$s(9,"f",{forItems:t.people_list}),(function(e,a,r,n){return t._$s("9-"+n,"i",""==t.search_value||-1!=e[1].indexOf(t.search_value))?i("view",{key:t._$s(9,"f",{forIndex:r,key:a}),staticClass:t._$s("9-"+n,"sc","Pitem"),attrs:{_i:"9-"+n},on:{click:function(a){return t.choosePeople(e)}}},[i("view",{staticClass:t._$s("10-"+n,"sc","Pitem_col"),attrs:{_i:"10-"+n}},[i("view",[t._v(t._$s("11-"+n,"t0-0",t._s(e[1])))]),i("view",[t._v(t._$s("12-"+n,"t0-0",t._s(e[0])))])]),i("view",{staticClass:t._$s("13-"+n,"sc","Pitem_col"),attrs:{_i:"13-"+n}},[i("view",[t._v(t._$s("14-"+n,"t0-0",t._s(e[2])))])]),i("view",{staticClass:t._$s("15-"+n,"sc","Pitem_col"),attrs:{_i:"15-"+n}},[i("view",[t._v(t._$s("16-"+n,"t0-0",t._s(e[3])))])])]):t._e()})),0):t._e(),i("view",{attrs:{_i:17},on:{click:function(e){return t.setme()}}},[i("image",{attrs:{src:t._$s(18,"a-src",a("9ca0")),_i:18}})]),i("uni-popup",{ref:"popup",attrs:{type:"bottom",_i:19}},[t._$s(20,"i","super"==t.kind)?i("view",{staticClass:t._$s(20,"sc","pop"),attrs:{_i:20}},[i("view",{staticClass:t._$s(21,"sc","poptext"),attrs:{_i:21},on:{click:function(e){return t.changeMGd()}}},[t._v(t._$s(21,"t0-0",t._s(t.change_grade_text)))]),i("view",{staticClass:t._$s(22,"sc","poptext"),attrs:{_i:22},on:{click:function(e){return t.changePw()}}}),i("view",{staticClass:t._$s(23,"sc","poptext"),attrs:{_i:23},on:{click:function(e){return t.deleteM()}}})]):i("view",{staticClass:t._$s(24,"sc","pop"),attrs:{_i:24}},[i("view",{staticClass:t._$s(25,"sc","poptext"),attrs:{_i:25},on:{click:function(e){return t.changeUst()}}},[t._v(t._$s(25,"t0-0",t._s(t.change_status_text)))]),i("view",{staticClass:t._$s(26,"sc","poptext"),attrs:{_i:26},on:{click:function(e){return t.changePw()}}})])]),i("uni-popup",{ref:"popcenter",attrs:{type:"center",_i:27}},[i("view",{staticClass:t._$s(28,"sc","newPw"),attrs:{_i:28}},[i("text"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.new_pw,expression:"new_pw"}],staticClass:t._$s(30,"sc","in_pw"),attrs:{_i:30},domProps:{value:t._$s(30,"v-model",t.new_pw)},on:{blur:function(e){return t.checkpw()},input:function(e){e.target.composing||(t.new_pw=e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.new_repw,expression:"new_repw"}],staticClass:t._$s(31,"sc","in_pw"),attrs:{_i:31},domProps:{value:t._$s(31,"v-model",t.new_repw)},on:{blur:function(e){return t.checkrepw()},input:function(e){e.target.composing||(t.new_repw=e.target.value)}}}),i("view",{staticClass:t._$s(32,"sc","in_button"),attrs:{_i:32}},[i("view"),i("button",{staticClass:t._$s(34,"sc","button"),attrs:{_i:34},on:{click:function(e){return t.submitNewPw()}}})])])]),i("uni-popup",{ref:"popself",attrs:{type:"center",_i:35}},[i("view",{staticClass:t._$s(36,"sc","self"),attrs:{_i:36}},[i("text"),i("view"),i("input",{staticClass:t._$s(39,"sc","in"),attrs:{value:t._$s(39,"a-value",t.self_msg[0]),_i:39}}),i("view"),i("input",{staticClass:t._$s(41,"sc","in"),attrs:{value:t._$s(41,"a-value",t.self_msg[1]),_i:41}}),i("view"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.self_msg[2],expression:"self_msg[2]"}],staticClass:t._$s(43,"sc","in"),attrs:{_i:43},domProps:{value:t._$s(43,"v-model",t.self_msg[2])},on:{blur:function(e){return t.checkname()},input:function(e){e.target.composing||t.$set(t.self_msg,2,e.target.value)}}}),i("view"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.self_msg[3],expression:"self_msg[3]"}],staticClass:t._$s(45,"sc","in"),attrs:{_i:45},domProps:{value:t._$s(45,"v-model",t.self_msg[3])},on:{blur:function(e){return t.checktelno()},input:function(e){e.target.composing||t.$set(t.self_msg,3,e.target.value)}}}),i("view",{staticClass:t._$s(46,"sc","in_button"),attrs:{_i:46}},[i("view"),i("button",{staticClass:t._$s(48,"sc","button"),attrs:{_i:48},on:{click:function(e){return t.changePw()}}}),i("button",{staticClass:t._$s(49,"sc","button"),attrs:{_i:49},on:{click:function(e){return t.updateMsg()}}})])])])],1)},n=[]},"2b6e":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","container loading1"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","shape shape1"),attrs:{_i:1}}),a("view",{staticClass:t._$s(2,"sc","shape shape2"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","shape shape3"),attrs:{_i:3}}),a("view",{staticClass:t._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},"2f51":function(t,e){function a(){this.TooltipBGColor="rgb(255, 255, 255)",this.TooltipAlpha=.92,this.SelectRectBGColor="rgba(1,130,212,0.06)",this.BGColor="rgb(255,255,255)",this.UpBarColor="rgb(238,21,21)",this.DownBarColor="rgb(25,158,0)",this.UnchagneBarColor="rgb(0,0,0)",this.MinKLineBarWidth=4,this.Minute={},this.Minute.VolBarColor=null,this.Minute.PriceColor="rgb(50,171,205)",this.Minute.AreaPriceColor="rgba(50,171,205,0.1)",this.Minute.AvPriceColor="rgb(238,127,9)",this.DefaultTextColor="rgb(43,54,69)",this.DefaultTextFont="14px \u5fae\u8f6f\u96c5\u9ed1",this.IndexTitleBGColor="rgb(217,219,220)",this.DynamicTitleFont="12px \u5fae\u8f6f\u96c5\u9ed1",this.UpTextColor="rgb(238,21,21)",this.DownTextColor="rgb(25,158,0)",this.UnchagneTextColor="rgb(0,0,0)",this.CloseLineColor="rgb(0,191,255)",this.CloseLineAreaColor=["rgba(0,191,255,0.8)","rgba(0,191,255,0.2)"],this.Title={TradeIndexColor:"rgb(105,105,105)",ColorIndexColor:"rgb(112,128,144)",VolColor:"rgb(43,54,69)",AmountColor:"rgb(43,54,69)",DateTimeColor:"rgb(43,54,69)",SettingColor:"rgb(43,54,69)",NameColor:"rgb(43,54,69)",TurnoverRateColor:"rgb(43,54,69)",PositionColor:"rgb(43,54,69)"},this.FrameBorderPen="rgb(225,236,242)",this.FrameSplitPen="rgb(225,236,242)",this.FrameSplitTextColor="rgb(51,51,51)",this.FrameSplitTextFont="12px \u5fae\u8f6f\u96c5\u9ed1",this.FrameYLineDash=[2,2],this.FrameXLineDash=null,this.FrameTitleBGColor="rgb(246,251,253)",this.Frame={XBottomOffset:0,YTopOffset:2},this.FrameLatestPrice={TextColor:"rgb(255,255,255)",UpBarColor:"rgb(238,21,21)",DownBarColor:"rgb(25,158,0)",UnchagneBarColor:"rgb(0,0,0)",BGAlpha:.6},this.FrameMargin=4,this.FrameLeftMargin=2,this.FrameRightMargin=2,this.CorssCursorBGColor="rgb(43,54,69)",this.CorssCursorTextColor="rgb(255,255,255)",this.CorssCursorTextFont="12px \u5fae\u8f6f\u96c5\u9ed1",this.CorssCursorHPenColor="rgb(130,130,130)",this.CorssCursorVPenColor="rgb(130,130,130)",this.Domain="https://opensource.zealink.com",this.CacheDomain="https://opensourcecache.zealink.com",this.KLine={MaxMin:{Font:"12px \u5fae\u8f6f\u96c5\u9ed1",Color:"rgb(111,111,111)"},Info:{Color:"rgb(205,149,12)",Color2:"rgb(255,133,3)",TextColor:"#197de9",TextBGColor:"rgba(220,220,220,0.5)",Investor:{ApiUrl:"/API/NewsInteract"},Announcement:{ApiUrl:"/API/ReportList"},Pforecast:{ApiUrl:"/API/StockHistoryDay"},Research:{ApiUrl:"/API/InvestorRelationsList"},BlockTrading:{ApiUrl:"/API/StockHistoryDay"},TradeDetail:{ApiUrl:"/API/StockHistoryDay"},Policy:{ApiUrl:"/API/StockHistoryDay"}}},this.Index={},this.Index.LineColor=["rgb(255,189,09)","rgb(22,198,255)","rgb(174,35,161)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"],this.ColorArray=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"],this.Index.StockHistoryDayApiUrl="https://opensource.zealink.com/API/StockHistoryDay",this.Index.MarketLongShortApiUrl="https://opensource.zealink.com/API/FactorTiming",this.Index.MarketAttentionApiUrl="https://opensource.zealink.com/API/MarketAttention",this.Index.MarketHeatApiUrl="https://opensource.zealink.com/API/MarketHeat",this.Index.CustomIndexHeatApiUrl="https://opensource.zealink.com/API/QuadrantCalculate",this.Index.NotSupport={Font:"14px \u5fae\u8f6f\u96c5\u9ed1",TextColor:"rgb(52,52,52)"},this.DrawPicture={},this.DrawPicture.LineColor=["rgb(30,144,255)"],this.DrawPicture.PointColor=["rgb(105,105,105)"],this.KLineTrain={Font:"bold 14px \u5b8b\u4f53",LastDataIcon:{Color:"rgb(0,0,205)",Text:"\u2b07"},BuyIcon:{Color:"rgb(255,185, 15)",Text:"\u4e70"},SellIcon:{Color:"rgb(70,130,180)",Text:"\u5356"}},this.TooltipPaint={BGColor:"rgba(250,250,250,0.8)",BorderColor:"rgb(120,120,120)",TitleColor:"rgb(120,120,120)",TitleFont:"13px \u5fae\u8f6f\u96c5\u9ed1"},this.Barrage={Font:"16px \u5fae\u8f6f\u96c5\u9ed1",Height:20,Color:"RGB(109,109,109)"},this.MinuteInfo={TextColor:"rgb(84,143,255)",Font:"14px \u5fae\u8f6f\u96c5\u9ed1",PointColor:"rgb(38,113,254)",LineColor:"rgb(120,167,255)",TextBGColor:"rgba(255,255,255,0.8)"},this.DRAWICON={Text:{MaxSize:50,MinSize:20,Zoom:{Type:2,Value:1},FontName:"Arial"}},this.DRAWTEXT={MaxSize:18,MinSize:18,Zoom:{Type:1,Value:1},FontName:"\u5fae\u8f6f\u96c5\u9ed1"},this.DRAWNUMBER={MaxSize:18,MinSize:18,Zoom:{Type:1,Value:1},FontName:"\u5fae\u8f6f\u96c5\u9ed1"},this.DRAWABOVE={YOffset:0},this.CIRCLEDOT={Radius:1.3},this.POINTDOT={Radius:2},this.DepthChart={BidColor:{Line:"rgb(82,176,123)",Area:"rgba(82,176,123,0.8)"},AskColor:{Line:"rgb(207,76,89)",Area:"rgba(207,76,89, 0.8)"},LineWidth:4},this.DepthCorss={BidColor:{Line:"rgb(82,176,123)"},AskColor:{Line:"rgb(207,76,89)"},LineWidth:2,LineDash:[3,3],Tooltip:{BGColor:"rgba(236,240,245, 0.8)",TextColor:"rgb(130,140,151)",Border:{Top:5,Left:20,Bottom:5,Center:5},Font:"14px \u5fae\u8f6f\u96c5\u9ed1",LineHeight:16}},this.SetStyle=function(t){if(t.TooltipBGColor&&(this.TooltipBGColor=t.TooltipBGColor),t.TooltipAlpha&&(this.TooltipAlpha=t.TooltipAlpha),t.BGColor&&(this.BGColor=t.BGColor),t.SelectRectBGColor&&(this.SelectRectBGColor=t.SelectRectBGColor),t.UpBarColor&&(this.UpBarColor=t.UpBarColor),t.DownBarColor&&(this.DownBarColor=t.DownBarColor),t.UnchagneBarColor&&(this.UnchagneBarColor=t.UnchagneBarColor),t.Minute&&(t.Minute.VolBarColor&&(this.Minute.VolBarColor=t.Minute.VolBarColor),t.Minute.PriceColor&&(this.Minute.PriceColor=t.Minute.PriceColor),t.Minute.AvPriceColor&&(this.Minute.AvPriceColor=t.Minute.AvPriceColor),t.Minute.AreaPriceColor&&(this.Minute.AreaPriceColor=t.Minute.AreaPriceColor)),t.DefaultTextColor&&(this.DefaultTextColor=t.DefaultTextColor),t.DefaultTextFont&&(this.DefaultTextFont=t.DefaultTextFont),t.DynamicTitleFont&&(this.DynamicTitleFont=t.DynamicTitleFont),t.IndexTitleBGColor&&(this.IndexTitleBGColor=t.IndexTitleBGColor),t.UpTextColor&&(this.UpTextColor=t.UpTextColor),t.DownTextColor&&(this.DownTextColor=t.DownTextColor),t.UnchagneTextColor&&(this.UnchagneTextColor=t.UnchagneTextColor),t.CloseLineColor&&(this.CloseLineColor=t.CloseLineColor),t.CloseLineAreaColor&&(this.CloseLineAreaColor=t.CloseLineAreaColor),t.FrameBorderPen&&(this.FrameBorderPen=t.FrameBorderPen),t.FrameSplitPen&&(this.FrameSplitPen=t.FrameSplitPen),t.FrameSplitTextColor&&(this.FrameSplitTextColor=t.FrameSplitTextColor),t.FrameSplitTextFont&&(this.FrameSplitTextFont=t.FrameSplitTextFont),t.FrameTitleBGColor&&(this.FrameTitleBGColor=t.FrameTitleBGColor),t.Frame&&(t.Frame.XBottomOffset&&(this.Frame.XBottomOffset=t.Frame.XBottomOffset),t.Frame.YTopOffset&&(this.Frame.YTopOffset=t.Frame.YTopOffset)),t.FrameLatestPrice&&(t.FrameLatestPrice.TextColor&&(this.FrameLatestPrice.TextColor=t.FrameLatestPrice.TextColor),t.FrameLatestPrice.UpBarColor&&(this.FrameLatestPrice.UpBarColor=t.FrameLatestPrice.UpBarColor),t.FrameLatestPrice.DownBarColor&&(this.FrameLatestPrice.DownBarColor=t.FrameLatestPrice.DownBarColor),t.FrameLatestPrice.UnchagneBarColor&&(this.FrameLatestPrice.UnchagneBarColor=t.FrameLatestPrice.UnchagneBarColor),t.FrameLatestPrice.BGAlpha&&(this.FrameLatestPrice.BGAlpha=t.FrameLatestPrice.BGAlpha)),t.CorssCursorBGColor&&(this.CorssCursorBGColor=t.CorssCursorBGColor),t.CorssCursorTextColor&&(this.CorssCursorTextColor=t.CorssCursorTextColor),t.CorssCursorTextFont&&(this.CorssCursorTextFont=t.CorssCursorTextFont),t.CorssCursorHPenColor&&(this.CorssCursorHPenColor=t.CorssCursorHPenColor),t.CorssCursorVPenColor&&(this.CorssCursorVPenColor=t.CorssCursorVPenColor),t.KLine&&(this.KLine=t.KLine),t.Index&&(t.Index.LineColor&&(this.Index.LineColor=t.Index.LineColor),t.Index.NotSupport&&(this.Index.NotSupport=t.Index.NotSupport)),t.ColorArray&&(this.ColorArray=t.ColorArray),t.DrawPicture&&(this.DrawPicture.LineColor=t.DrawPicture.LineColor,this.DrawPicture.PointColor=t.DrawPicture.PointColor),t.TooltipPaint&&(t.TooltipPaint.BGColor&&(this.TooltipPaint.BGColor=t.TooltipPaint.BGColor),t.TooltipPaint.BorderColor&&(this.TooltipPaint.BorderColor=t.TooltipPaint.BorderColor),t.TooltipPaint.TitleColor&&(this.TooltipPaint.TitleColor=t.TooltipPaint.TitleColor),t.TooltipPaint.TitleFont&&(this.TooltipPaint.TitleFont=t.TooltipPaint.TitleFont)),t.Title&&(t.Title.TradeIndexColor&&(this.Title.TradeIndexColor=t.Title.TradeIndexColor),t.Title.ColorIndexColor&&(this.Title.ColorIndexColor=t.Title.ColorIndexColor),t.Title.VolColor&&(this.Title.VolColor=t.Title.VolColor),t.Title.AmountColor&&(this.Title.AmountColor=t.Title.AmountColor),t.Title.DateTimeColor&&(this.Title.DateTimeColor=t.Title.DateTimeColor),t.Title.NameColor&&(this.Title.NameColor=t.Title.NameColor),t.Title.SettingColor&&(this.Title.SettingColor=t.Title.SettingColor),t.Title.TurnoverRateColor&&(this.Title.TurnoverRateColor=t.Title.TurnoverRateColor),t.Title.PositionColor&&(this.Title.PositionColor=t.Title.PositionColor)),t.DRAWICON&&t.DRAWICON.Text){var e=t.DRAWICON.Text;IFrameSplitOperator.IsPlusNumber(e.MaxSize)&&(this.DRAWICON.Text.MaxSize=e.MaxSize),IFrameSplitOperator.IsPlusNumber(e.MinSize)&&(this.DRAWICON.Text.MinSize=e.MinSize),e.Zoom&&(this.DRAWICON.Text.Zoom=e.Zoom),e.FontName&&(this.DRAWICON.Text.FontName=e.FontName)}if(t.DRAWTEXT){e=t.DRAWTEXT;IFrameSplitOperator.IsPlusNumber(e.MaxSize)&&(this.DRAWICON.MaxSize=e.MaxSize),IFrameSplitOperator.IsPlusNumber(e.MinSize)&&(this.DRAWICON.MinSize=e.MinSize),e.Zoom&&(this.DRAWICON.Zoom=e.Zoom),e.FontName&&(this.DRAWICON.FontName=e.FontName)}if(t.DRAWNUMBER){e=t.DRAWNUMBER;this.IsPlusNumber(e.MaxSize)&&(this.DRAWNUMBER.Text.MaxSize=e.MaxSize),this.IsPlusNumber(e.MinSize)&&(this.DRAWNUMBER.Text.MinSize=e.MinSize),e.Zoom&&(this.DRAWNUMBER.Text.Zoom=e.Zoom),e.FontName&&(this.DRAWNUMBER.Text.FontName=e.FontName)}if(t.DRAWABOVE){e=t.DRAWABOVE;this.IsNumber(e.YOffset)&&(this.DRAWABOVE.YOffset=e.YOffset)}if(t.DepthChart){e=t.DepthChart;e.BidColor&&(e.BidColor.Line&&(this.DepthChart.BidColor.Line=e.BidColor.Line),e.BidColor.Area&&(this.DepthChart.BidColor.Area=e.BidColor.Area)),e.AskColor&&(e.AskColor.Line&&(this.DepthChart.AskColor.Line=e.AskColor.Line),e.AskColor.Area&&(this.DepthChart.AskColor.Area=e.AskColor.Area)),e.LineWidth&&(this.DepthChart.LineWidth=e.LineWidth)}if(t.DepthCorss){e=t.DepthCorss;if(e.BidColor&&e.BidColor.Line&&(this.DepthCorss.BidColor.Line=e.BidColor.Line),e.AskColor&&e.AskColor.Line&&(this.DepthCorss.AskColor.Line=e.AskColor.Line),e.LineWidth&&(this.DepthCorss.LineWidth=e.LineWidth),e.LineDash&&(this.DepthCorss.LineDash=e.LineDash),e.Tooltip){var a=e.Tooltip;a.BGColor&&(this.DepthCorss.Tooltip.BGColor=a.BGColor),a.TextColor&&(this.DepthCorss.Tooltip.TextColor=a.TextColor),a.Font&&(this.DepthCorss.Tooltip.Font=a.Font),a.LineHeight&&(this.DepthCorss.Tooltip.LineHeight=a.LineHeight);var i=a.Border;this.IsNumber(i.Top)&&(this.DepthCorss.Tooltip.Border.Top=i.Top),this.IsNumber(i.Left)&&(this.DepthCorss.Tooltip.Border.Left=i.Left),this.IsNumber(i.Bottom)&&(this.DepthCorss.Tooltip.Border.Bottom=i.Bottom),this.IsNumber(i.Center)&&(this.DepthCorss.Tooltip.Border.Center=i.Center)}}if(t.CIRCLEDOT){e=t.CIRCLEDOT;this.IsNumber(e.Radius)&&(this.CIRCLEDOT.Radius=e.Radius)}if(t.POINTDOT){e=t.POINTDOT;this.IsNumber(e.Radius)&&(this.POINTDOT.Radius=e.Radius)}},this.IsNumber=function(t){return null!=t&&!isNaN(t)},this.IsPlusNumber=function(t){return null!=t&&(!isNaN(t)&&t>0)}}var i=new a,r={LANGUAGE_CHINESE_ID:0,LANGUAGE_ENGLISH_ID:1};function n(){this.TextResource=new Map([["Tooltip-Open",{CN:"\u5f00:",EN:"O:"}],["Tooltip-High",{CN:"\u9ad8:",EN:"H:"}],["Tooltip-Low",{CN:"\u4f4e:",EN:"L:"}],["Tooltip-Close",{CN:"\u6536:",EN:"C:"}],["Tooltip-Increase",{CN:"\u5e45:",EN:"I:"}],["Tooltip-Vol",{CN:"\u91cf:",EN:"V:"}],["Tooltip-Amount",{CN:"\u989d:",EN:"A:"}],["Tooltip-AvPrice",{CN:"\u5747:",EN:"AP:"}],["Tooltip-Price",{CN:"\u4ef7:",EN:"P:"}],["Tooltip-Exchange",{CN:"\u6362:",EN:"E:"}],["Tooltip-Position",{CN:"\u6301:",EN:"P:"}],["KTitle-Open",{CN:"\u5f00:",EN:"O:"}],["KTitle-High",{CN:"\u9ad8:",EN:"H:"}],["KTitle-Low",{CN:"\u4f4e:",EN:"L:"}],["KTitle-Close",{CN:"\u6536:",EN:"C:"}],["KTitle-Increase",{CN:"\u5e45:",EN:"I:"}],["KTitle-Vol",{CN:"\u91cf:",EN:"V:"}],["KTitle-Amount",{CN:"\u989d:",EN:"A:"}],["KTitle-Exchange",{CN:"\u6362:",EN:"E:"}],["KTitle-Position",{CN:"\u6301:",EN:"P:"}],["MTitle-Close",{CN:"\u4ef7:",EN:"C:"}],["MTitle-AvPrice",{CN:"\u5747:",EN:"AC:"}],["MTitle-Increase",{CN:"\u5e45:",EN:"I:"}],["MTitle-Vol",{CN:"\u91cf:",EN:"V:"}],["MTitle-Amount",{CN:"\u989d:",EN:"A:"}],["MTitle-Position",{CN:"\u6301:",EN:"P:"}],["\u65e5\u7ebf",{CN:"\u65e5\u7ebf",EN:"1D"}],["\u5468\u7ebf",{CN:"\u5468\u7ebf",EN:"1W"}],["\u53cc\u5468",{CN:"\u53cc\u5468",EN:"2W"}],["\u6708\u7ebf",{CN:"\u6708\u7ebf",EN:"1M"}],["\u5e74\u7ebf",{CN:"\u5e74\u7ebf",EN:"1Y"}],["1\u5206",{CN:"1\u5206",EN:"1Min"}],["5\u5206",{CN:"5\u5206",EN:"5Min"}],["15\u5206",{CN:"15\u5206",EN:"15Min"}],["30\u5206",{CN:"30\u5206",EN:"30Min"}],["60\u5206",{CN:"60\u5206",EN:"60Min"}],["\u5b63\u7ebf",{CN:"\u5b63\u7ebf",EN:"1Q"}],["\u5206\u7b14",{CN:"\u5206\u7b14",EN:"Tick"}],["2\u5c0f\u65f6",{CN:"2\u5c0f\u65f6",EN:"2H"}],["4\u5c0f\u65f6",{CN:"4\u5c0f\u65f6",EN:"4H"}],["\u4e0d\u590d\u6743",{CN:"\u4e0d\u590d\u6743",EN:"No Right"}],["\u524d\u590d\u6743",{CN:"\u524d\u590d\u6743",EN:"Pro Right"}],["\u540e\u590d\u6743",{CN:"\u540e\u590d\u6743",EN:"Post Right"}],["\u65e5",{CN:"\u65e5",EN:"Sun."}],["\u4e00",{CN:"\u4e00",EN:"Mon."}],["\u4e8c",{CN:"\u4e8c",EN:"Tues."}],["\u4e09",{CN:"\u4e09",EN:"Wed."}],["\u56db",{CN:"\u56db",EN:"Thur."}],["\u4e94",{CN:"\u4e94",EN:"Fri."}],["\u516d",{CN:"\u516d",EN:"Sat."}],["1\u6708",{CN:"1\u6708",EN:"Jan"}],["2\u6708",{CN:"2\u6708",EN:"Feb"}],["3\u6708",{CN:"3\u6708",EN:"Mar"}],["4\u6708",{CN:"4\u6708",EN:"Apr"}],["5\u6708",{CN:"5\u6708",EN:"May"}],["6\u6708",{CN:"6\u6708",EN:"Jun"}],["7\u6708",{CN:"7\u6708",EN:"Jul"}],["8\u6708",{CN:"8\u6708",EN:"Aug"}],["9\u6708",{CN:"9\u6708",EN:"Sept"}],["10\u6708",{CN:"10\u6708",EN:"Oct"}],["11\u6708",{CN:"11\u6708",EN:"Nov"}],["12\u6708",{CN:"12\u6708",EN:"Dec"}],["\u81ea\u5b9a\u4e49\u5206\u949f",{CN:"\u5206",EN:"Min"}],["\u81ea\u5b9a\u4e49\u65e5\u7ebf",{CN:"\u65e5",EN:"D"}],["\u81ea\u5b9a\u4e49\u79d2",{CN:"\u79d2",EN:"S"}]]),this.GetText=function(t,e){var a=this.TextResource.get(t);if(!a)return"";switch(e){case r.LANGUAGE_CHINESE_ID:return a.CN;case r.LANGUAGE_ENGLISH_ID:return a.EN;default:return a.CN}},this.SetTextResource=function(t,e){this.TextResource.set(t,e)}}var s=new n;t.exports={JSCommonResource:{JSChartResource:a,Global_JSChartResource:i,Global_JSChartLocalization:s,JSCHART_LANGUAGE_ID:r},JSCommonResource_JSChartResource:a,JSCommonResource_Global_JSChartResource:i,JSCommonResource_Global_JSChartLocalization:s,JSCommonResource_JSCHART_LANGUAGE_ID:r}},"314e":function(t,e,a){"undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(a){return e.resolve(t()).then((function(){return a}))}),(function(a){return e.resolve(t()).then((function(){throw a}))}))}),uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/login/login",(function(){return Vue.extend(a("017e").default)})),__definePage("pages/home/home",(function(){return Vue.extend(a("267e").default)})),__definePage("pages/quotation/quotation",(function(){return Vue.extend(a("b7be").default)})),__definePage("pages/Kline/Kline",(function(){return Vue.extend(a("56c3").default)})),__definePage("pages/register/register",(function(){return Vue.extend(a("23c8").default)})),__definePage("pages/manage/manage",(function(){return Vue.extend(a("a634").default)})),__definePage("pages/select/select",(function(){return Vue.extend(a("a51a").default)})),__definePage("pages/deal/deal",(function(){return Vue.extend(a("c8a5").default)})),__definePage("pages/changepw/changepw",(function(){return Vue.extend(a("20e0").default)}))},"36ba":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("a391"));function r(t){return t&&t.__esModule?t:{default:t}}var n={components:{api:i.default},data:function(){return{search_value:"",tab_index:0,HStab_index:0,HStabs:["\u4e3b\u677f","\u79d1\u521b\u677f","\u521b\u4e1a\u677f","\u4e2d\u5c0f\u677f"],HSdata:[],HSdataPos:0,is_more:!0,HYdata:[],DQdata:[]}},onLoad:function(){this.ADD_request_HS_data()},onReachBottom:function(){0==this.tab_index&&(t("log","\u89e6\u53d1onReachBottom\u4e8b\u4ef6"," at pages/quotation/quotation.vue:105"),this.ADD_request_HS_data())},methods:{inputchange:function(e){this.search_value=e.detail.value,t("log","\u641c\u7d22\u6846\u5185\u5bb9\u4e3a"+this.search_value," at pages/quotation/quotation.vue:112")},changeTab:function(e){t("log","\u5f53\u524d\u9009\u4e2d\u7d22\u5f15\uff1a"+e," at pages/quotation/quotation.vue:115"),this.tab_index=e,0==e?(this.HSdata.length=0,this.HSdataPos=0,this.is_more=!0,this.ADD_request_HS_data()):1==e?(this.HYdata.length=0,this.request_HY_data()):2==e&&(this.DQdata.length=0,this.request_DQ_data())},changeHSTab:function(e){t("log","\u5f53\u524d\u9009\u4e2d\u6caa\u6df1\u7d22\u5f15\uff1a"+e," at pages/quotation/quotation.vue:136"),this.HStab_index=e,this.HSdata.length=0,this.HSdataPos=0,this.is_more=!0,this.ADD_request_HS_data()},ADD_request_HS_data:function(){var e=this,a=this.HStabs[this.HStab_index],r={Skind:a,DataPos:this.HSdataPos,RequestKind:"ADD"};i.default.get_HS_list({data:r}).then((function(a){t("log","\u83b7\u53d6\u6caa\u6df1\u884c\u60c5\u5217\u8868",a," at pages/quotation/quotation.vue:149"),200==a.statusCode?(t("log","\u6210\u529f\u83b7\u53d6\u6caa\u6df1\u884c\u60c5\u5217\u8868"," at pages/quotation/quotation.vue:151"),0!=a.data.data.length?(e.HSdata=e.HSdata.concat(a.data.data),e.HSdataPos=e.HSdataPos+100):e.is_more=!1):t("log","\u83b7\u53d6\u6caa\u6df1\u884c\u60c5\u5217\u8868\u5931\u8d25"," at pages/quotation/quotation.vue:160")}))},choose_Stock:function(e){t("log","\u9009\u4e2d\u4e86",e[0]," at pages/quotation/quotation.vue:165"),uni.navigateTo({url:"../Kline/Kline?symbol="+e[0]+"&name="+e[1]})},more:function(){this.ADD_request_HS_data()},request_HY_data:function(){var e=this;i.default.get_HY_list({data:{}}).then((function(a){t("log","\u83b7\u53d6\u884c\u4e1a\u884c\u60c5\u5217\u8868",a," at pages/quotation/quotation.vue:179"),200==a.statusCode?(t("log","\u6210\u529f\u83b7\u53d6\u884c\u4e1a\u884c\u60c5\u5217\u8868"," at pages/quotation/quotation.vue:181"),e.HYdata=a.data.data):t("log","\u83b7\u53d6\u884c\u4e1a\u884c\u60c5\u5217\u8868\u5931\u8d25"," at pages/quotation/quotation.vue:184")}))},request_DQ_data:function(){var e=this;i.default.get_DQ_list({data:{}}).then((function(a){t("log","\u83b7\u53d6\u5730\u533a\u884c\u60c5\u5217\u8868",a," at pages/quotation/quotation.vue:193"),200==a.statusCode?(t("log","\u6210\u529f\u83b7\u53d6\u5730\u533a\u884c\u60c5\u5217\u8868"," at pages/quotation/quotation.vue:195"),e.DQdata=a.data.data):t("log","\u83b7\u53d6\u5730\u533a\u884c\u60c5\u5217\u8868\u5931\u8d25"," at pages/quotation/quotation.vue:198")}))}}};e.default=n}).call(this,a("0de9")["default"])},"36da":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-popup-dialog"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","uni-dialog-title"),attrs:{_i:1}},[a("text",{staticClass:t._$s(2,"sc","uni-dialog-title-text"),class:t._$s(2,"c",["uni-popup__"+t.dialogType]),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.title)))])]),a("view",{staticClass:t._$s(3,"sc","uni-dialog-content"),attrs:{_i:3}},[t._$s(4,"i","base"===t.mode)?a("text",{staticClass:t._$s(4,"sc","uni-dialog-content-text"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.content)))]):a("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:t._$s(5,"sc","uni-dialog-input"),attrs:{placeholder:t._$s(5,"a-placeholder",t.placeholder),focus:t._$s(5,"a-focus",t.focus),_i:5},domProps:{value:t._$s(5,"v-model",t.val)},on:{input:function(e){e.target.composing||(t.val=e.target.value)}}})]),a("view",{staticClass:t._$s(6,"sc","uni-dialog-button-group"),attrs:{_i:6}},[a("view",{staticClass:t._$s(7,"sc","uni-dialog-button"),attrs:{_i:7},on:{click:t.close}},[a("text",{staticClass:t._$s(8,"sc","uni-dialog-button-text"),attrs:{_i:8}})]),a("view",{staticClass:t._$s(9,"sc","uni-dialog-button uni-border-left"),attrs:{_i:9},on:{click:t.onOk}},[a("text",{staticClass:t._$s(10,"sc","uni-dialog-button-text uni-button-color"),attrs:{_i:10}})])])])},n=[]},"3efd":function(t,e,a){"use strict";a.r(e);var i=a("078a"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"40f7":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={qiunDataCharts:a("00c0").default},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view"),a("view",{staticClass:t._$s(2,"sc","title"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","topbox"),attrs:{_i:3}},[a("view",{staticClass:t._$s(4,"sc","topbox_col"),attrs:{_i:4}},[a("view",{staticClass:t._$s(5,"sc","value"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s((t.assert[0]+t.stock_assert).toFixed(2))))]),a("view",{staticClass:t._$s(6,"sc","label"),attrs:{_i:6}}),a("view",{staticClass:t._$s(7,"sc","value"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.assert[0])))]),a("view",{staticClass:t._$s(8,"sc","label"),attrs:{_i:8}}),a("view",{staticClass:t._$s(9,"sc","value"),attrs:{_i:9}},[t._v(t._$s(9,"t0-0",t._s((100*t.stock_assert/(t.assert[0]+t.stock_assert)).toFixed(2))))]),a("view",{staticClass:t._$s(10,"sc","label"),attrs:{_i:10}})]),a("view",{staticClass:t._$s(11,"sc","topbox_col"),attrs:{_i:11}},[a("view",{staticClass:t._$s(12,"sc","value"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.assert[1])))]),a("view",{staticClass:t._$s(13,"sc","label"),attrs:{_i:13}}),a("view",{staticClass:t._$s(14,"sc","value"),attrs:{_i:14}},[a("view",{class:t._$s(15,"c",[t.assert[0]+t.stock_assert>t.assert[1]?"red":"green"]),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s((t.assert[0]+t.stock_assert-t.assert[1]).toFixed(2))))])]),a("view",{staticClass:t._$s(16,"sc","label"),attrs:{_i:16}}),a("view",{staticClass:t._$s(17,"sc","value"),attrs:{_i:17}},[a("view",{class:t._$s(18,"c",[t.assert[0]+t.stock_assert>t.assert[1]?"red":"green"]),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s((100*(t.assert[0]+t.stock_assert-t.assert[1])/t.assert[1]).toFixed(2))))])]),a("view",{staticClass:t._$s(19,"sc","label"),attrs:{_i:19}})])]),a("view",{staticClass:t._$s(20,"sc","charts-box"),attrs:{_i:20}},[a("qiun-data-charts",{attrs:{type:"ring",opts:{legend:{position:"bottom"}},eopts:t.ringOpts,chartData:t.Piedata,echartsH5:!0,echartsApp:!0,_i:21}})],1),a("view",{staticClass:t._$s(22,"sc","title"),attrs:{_i:22}}),a("scroll-view",{},[a("view",{staticClass:t._$s(24,"sc","HSlist"),attrs:{_i:24}},t._l(t._$s(25,"f",{forItems:t.position}),(function(e,i,r,n){return a("view",{key:t._$s(25,"f",{forIndex:r,key:i}),staticClass:t._$s("25-"+n,"sc","HSitem"),attrs:{_i:"25-"+n},on:{click:function(a){return t.choose_Stock(e)}}},[a("view",{staticClass:t._$s("26-"+n,"sc","HSitem_col"),attrs:{_i:"26-"+n}},[a("view",[t._v(t._$s("27-"+n,"t0-0",t._s(e[3])))]),a("view",[t._v(t._$s("28-"+n,"t0-0",t._s(e[0].substr(0,6))))])]),a("view",{staticClass:t._$s("29-"+n,"sc","HSitem_col"),attrs:{_i:"29-"+n}},[a("view",{class:t._$s("30-"+n,"c",[e[4]>e[2]?"HSitem_red":"HSitem_green"]),attrs:{_i:"30-"+n}},[t._v(t._$s("30-"+n,"t0-0",t._s((e[4]-0).toFixed(2))))]),a("view",{staticClass:t._$s("31-"+n,"sc","SEL_msg"),attrs:{_i:"31-"+n}},[t._v(t._$s("31-"+n,"t0-0",t._s(e[2])))])]),a("view",{staticClass:t._$s("32-"+n,"sc","HSitem_col"),attrs:{_i:"32-"+n}},[a("view",{class:t._$s("33-"+n,"c",[e[4]>e[2]?"HSitem_red":"HSitem_green"]),attrs:{_i:"33-"+n}},[t._v(t._$s("33-"+n,"t0-0",t._s((100*(e[4]-e[2])/e[2]).toFixed(2))))]),a("view",{staticClass:t._$s("34-"+n,"sc","SEL_msg"),attrs:{_i:"34-"+n}},[t._v(t._$s("34-"+n,"t0-0",t._s(e[1])))])])])})),0)]),a("view",{staticClass:t._$s(35,"sc","title"),attrs:{_i:35}}),a("scroll-view",{},[a("view",{staticClass:t._$s(37,"sc","HSlist"),attrs:{_i:37}},t._l(t._$s(38,"f",{forItems:t.detail}),(function(e,i,r,n){return a("view",{key:t._$s(38,"f",{forIndex:r,key:i}),staticClass:t._$s("38-"+n,"sc","HSitem"),attrs:{_i:"38-"+n}},[a("view",{staticClass:t._$s("39-"+n,"sc","HSitem_col"),attrs:{_i:"39-"+n}},[a("view",[t._v(t._$s("40-"+n,"t0-0",t._s(e[0].substr(14,28))))]),a("view",[t._v(t._$s("41-"+n,"t0-0",t._s(e[2])))])]),a("view",{staticClass:t._$s("42-"+n,"sc","HSitem_col"),attrs:{_i:"42-"+n}},[a("view",[t._v(t._$s("43-"+n,"t0-0",t._s(e[1])))]),a("view",{staticClass:t._$s("44-"+n,"sc","SEL_msg"),attrs:{_i:"44-"+n}},[t._v(t._$s("44-"+n,"t0-0",t._s(e[3])))])]),a("view",{staticClass:t._$s("45-"+n,"sc","HSitem_col"),attrs:{_i:"45-"+n}},[a("view",[t._v(t._$s("46-"+n,"t0-0",t._s(e[4])))]),a("view",{staticClass:t._$s("47-"+n,"sc","SEL_msg"),attrs:{_i:"47-"+n}},[t._v(t._$s("47-"+n,"t0-0",t._s(e[5])))])])])})),0)])])},n=[]},4362:function(t,e,a){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,i="/";e.cwd=function(){return i},e.chdir=function(e){t||(t=a("df7c")),i=t.resolve(e,i)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"43d0":function(t,e,a){"use strict";function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"uniTransition",props:{show:{type:Boolean,default:!1},modeClass:{type:Array,default:function(){return[]}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}}},data:function(){return{isShow:!1,transform:"",ani:{in:"",active:""}}},watch:{show:{handler:function(t){t?this.open():this.close()},immediate:!0}},computed:{stylesObject:function(){var t=r(r({},this.styles),{},{"transition-duration":this.duration/1e3+"s"}),e="";for(var a in t){var i=this.toLine(a);e+=i+":"+t[a]+";"}return e}},created:function(){},methods:{change:function(){this.$emit("click",{detail:this.isShow})},open:function(){var t=this;for(var e in clearTimeout(this.timer),this.isShow=!0,this.transform="",this.ani.in="",this.getTranfrom(!1))"opacity"===e?this.ani.in="fade-in":this.transform+="".concat(this.getTranfrom(!1)[e]," ");this.$nextTick((function(){setTimeout((function(){t._animation(!0)}),50)}))},close:function(t){clearTimeout(this.timer),this._animation(!1)},_animation:function(t){var e=this,a=this.getTranfrom(t);for(var i in this.transform="",a)"opacity"===i?this.ani.in="fade-".concat(t?"out":"in"):this.transform+="".concat(a[i]," ");this.timer=setTimeout((function(){t||(e.isShow=!1),e.$emit("change",{detail:e.isShow})}),this.duration)},getTranfrom:function(t){var e={transform:""};return this.modeClass.forEach((function(a){switch(a){case"fade":e.opacity=t?1:0;break;case"slide-top":e.transform+="translateY(".concat(t?"0":"-100%",") ");break;case"slide-right":e.transform+="translateX(".concat(t?"0":"100%",") ");break;case"slide-bottom":e.transform+="translateY(".concat(t?"0":"100%",") ");break;case"slide-left":e.transform+="translateX(".concat(t?"0":"-100%",") ");break;case"zoom-in":e.transform+="scale(".concat(t?1:.8,") ");break;case"zoom-out":e.transform+="scale(".concat(t?1:1.2,") ");break}})),e},_modeClassArr:function(t){var e=this.modeClass;if("string"!==typeof e){var a="";return e.forEach((function(e){a+=e+"-"+t+","})),a.substr(0,a.length-1)}return e+"-"+t},toLine:function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}}};e.default=s},4421:function(t,e,a){"use strict";(function(e){var i=r(a("eff7"));function r(t){return t&&t.__esModule?t:{default:t}}t.exports={get_ZX_list:function(t){var a="/user/ZX_list";return e("log",a," at src/select.js:5"),(0,i.default)(a,"POST",t,"\u83b7\u53d6\u81ea\u9009\u80a1")},ZX_remove:function(t){var a="/user/ZX_remove";return e("log",a," at src/select.js:15"),(0,i.default)(a,"POST",t,"\u5220\u9664\u81ea\u9009\u80a1")}}}).call(this,a("0de9")["default"])},"443c":function(t,e,a){"use strict";a.r(e);var i=a("8c89"),r=a("ed4e");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},"44f4":function(t,e,a){"use strict";a.r(e);var i=a("f5df"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},4618:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={qiunLoading:a("1a3b").default,qiunError:a("b138").default},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","chartsview"),attrs:{id:t._$s(0,"a-id","ChartBoxId"+t.cid),_i:0}},[t._$s(1,"i",t.mixinDatacomLoading)?a("view",[a("qiun-loading",{attrs:{loadingType:t.loadingType,_i:2}})],1):t._e(),t._$s(3,"i",t.mixinDatacomErrorMessage&&t.errorShow)?a("view",{attrs:{_i:3},on:{click:t.reloading}},[a("qiun-error",{attrs:{errorMessage:t.errorMessage,_i:4}})],1):t._e(),t._$s(5,"i",t.echarts)?[a("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(6,"v-show",t.showchart),expression:"_$s(6,'v-show',showchart)"}],wxsProps:{"change:resize":"echartsResize","change:prop":"echartsOpts"},style:t._$s(6,"s",{background:t.background}),attrs:{"data-directory":t._$s(6,"a-data-directory",t.directory),id:t._$s(6,"a-id","EC"+t.cid),prop:t._$s(6,"change:echartsOpts",t.echartsOpts),resize:t._$s(6,"change:echartsResize",t.echartsResize),_i:6}})]:[a("view",{wxsProps:{"change:prop":"uchartsOpts"},attrs:{id:t._$s(8,"a-id","UC"+t.cid),prop:t._$s(8,"change:uchartsOpts",t.uchartsOpts),_i:8},on:{}},[a("canvas",{directives:[{name:"show",rawName:"v-show",value:t._$s(9,"v-show",t.showchart),expression:"_$s(9,'v-show',showchart)"}],style:t._$s(9,"s",{width:t.cWidth+"px",height:t.cHeight+"px",background:t.background}),attrs:{id:t._$s(9,"a-id",t.cid),canvasId:t._$s(9,"a-canvasId",t.cid),"disable-scroll":t._$s(9,"a-disable-scroll",t.disableScroll),_i:9},on:{error:t._error}})])]],2)},n=[]},"4a66":function(t,e,a){"use strict";a.r(e);var i=a("9d2b"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},5090:function(t,e,a){"use strict";(function(e){var i=a("c638"),r=a("2f51"),n=a("bc6b"),s=a("f19e");function o(){this.Index={NotSupport:{Font:"14px \u5fae\u8f6f\u96c5\u9ed1",TextColor:"rgb(52,52,52)"}}}var h=new o;function l(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="IChartPainting",this.Data=new i.JSCommon_ChartData,this.NotSupportMessage=null,this.MessageFont=h.Index.NotSupport.Font,this.MessageColor=h.Index.NotSupport.TextColor,this.IsDrawFirst=!1,this.IsShow=!0,this.Draw=function(){},this.IsMinuteFrame=function(){var t="MinuteFrame"==this.ChartFrame.ClassName||"MinuteHScreenFrame"==this.ChartFrame.ClassName;return t},this.DrawNotSupportmessage=function(){this.Canvas.font=this.MessageFont,this.Canvas.fillStyle=this.MessageColor;var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetWidth(),a=this.ChartBorder.GetTopEx(),i=this.ChartBorder.GetHeightEx(),r=t+e/2,n=a+i/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.NotSupportMessage,r,n)},this.GetTooltipData=function(t,e,a){return!1},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={Min:null,Max:null};if(!this.Data||!this.Data.Data)return e;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];null==r||isNaN(r)||(null==e.Max&&(e.Max=r),null==e.Min&&(e.Min=r),e.Max<r&&(e.Max=r),e.Min>r&&(e.Min=r))}return e},this.GetDynamicFont=function(t){var e;return e=t<5?"4px Arial":t<7?"6px Arial":t<9?"8px Arial":t<11?"10px Arial":t<13?"12px Arial":t<15?"14px Arial":"16px Arial",e},this.GetDynamicFontEx=function(t,e,a,i,r,s){if(a==i){var o="".concat(a.toFixed(0),"px ").concat(s);return o}var h=t+e;r&&(0==r.Type?r.Value>0&&(h=t*r.Value):1==r.Type?r.Value>0&&(h=(t+e)*r.Value):2==r.Type&&n.JSCommonSplit_IFrameSplitOperator.IsNumber(r.Value)&&(h=t+e+2*r.Value)),h<i?h=i:h>a&&(h=a);o="".concat(h.toFixed(0),"px ").concat(s);return o},this.SetFillStyle=function(t,e,a,i,r){if(Array.isArray(t)){var n=this.Canvas.createLinearGradient(e,a,i,r),s=1/t.length;for(var o in t)n.addColorStop(o*s,t[o]);this.Canvas.fillStyle=n}else this.Canvas.fillStyle=t}}function u(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ClassName="ChartKLine",this.Symbol,this.DrawType=0,this.CloseLineColor=r.JSCommonResource_Global_JSChartResource.CloseLineColor,this.CloseLineAreaColor=r.JSCommonResource_Global_JSChartResource.CloseLineAreaColor,this.UpColor=r.JSCommonResource_Global_JSChartResource.UpBarColor,this.DownColor=r.JSCommonResource_Global_JSChartResource.DownBarColor,this.UnchagneColor=r.JSCommonResource_Global_JSChartResource.UnchagneBarColor,this.ColorData,this.TradeData,this.IsShowMaxMinPrice=!0,this.TextFont=r.JSCommonResource_Global_JSChartResource.KLine.MaxMin.Font,this.TextColor=r.JSCommonResource_Global_JSChartResource.KLine.MaxMin.Color,this.InfoPointColor=r.JSCommonResource_Global_JSChartResource.KLine.Info.Color,this.InfoPointColor2=r.JSCommonResource_Global_JSChartResource.KLine.Info.Color2,this.InfoDrawType=0,this.PtMax,this.PtMin,this.MinBarWidth=r.JSCommonResource_Global_JSChartResource.MinKLineBarWidth,this.DrawAKLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,n=this.ChartBorder.GetLeft()+a/2+r.JSCommonResource_Global_JSChartResource.FrameLeftMargin;t&&(n=this.ChartBorder.GetTop()+a/2+r.JSCommonResource_Global_JSChartResource.FrameLeftMargin);var s=this.ChartBorder.GetRight();t&&(s=this.ChartBorder.GetBottom());for(var o=this.ChartFrame.XPointCount,h={X:null,Y:null,Value:null,Align:"left"},l={X:null,Y:null,Value:null,Align:"left"},u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<o;++u,++c,n+=e+a){var C=this.Data.Data[u];if(null!=C.Open&&null!=C.High&&null!=C.Low&&null!=C.Close){var m=n,f=n+e;if(f>s)break;var d=m+(f-m)/2,D=this.ChartFrame.GetYFromData(C.Low),p=this.ChartFrame.GetYFromData(C.High),S=this.ChartFrame.GetYFromData(C.Open),v=this.ChartFrame.GetYFromData(C.Close);if((null==h.Value||h.Value<C.High)&&(h.X=d,h.Y=p,h.Value=C.High,h.Align=c<o/2?"left":"right"),(null==l.Value||l.Value>C.Low)&&(l.X=d,l.Y=D,l.Value=C.Low,l.Align=c<o/2?"left":"right"),C.Open<C.Close?this.Canvas.strokeStyle=this.UpColor:C.Open>C.Close?this.Canvas.strokeStyle=this.DownColor:this.Canvas.strokeStyle=this.UnchagneColor,this.Canvas.beginPath(),t?(this.Canvas.moveTo(p,V(d)),this.Canvas.lineTo(D,V(d))):(this.Canvas.moveTo(V(d),p),this.Canvas.lineTo(V(d),D)),this.Canvas.stroke(),e>=this.MinBarWidth&&(this.Canvas.beginPath(),t?(this.Canvas.moveTo(V(S),m),this.Canvas.lineTo(V(S),d)):(this.Canvas.moveTo(m,V(S)),this.Canvas.lineTo(d,V(S))),this.Canvas.stroke(),this.Canvas.beginPath(),t?(this.Canvas.moveTo(V(v),f),this.Canvas.lineTo(V(v),d)):(this.Canvas.moveTo(f,V(v)),this.Canvas.lineTo(d,V(v))),this.Canvas.stroke()),0==this.Data.DataType&&i.JSCommon_ChartData.IsDayPeriod(this.Data.Period,!0)){var g={X:d,Xleft:m,XRight:f,YMax:p,YMin:D,DayData:C,Index:c};this.DrawInfoDiv(g)}}}this.PtMax=h,this.PtMin=l},this.DrawCloseLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+2;t&&(i=this.ChartBorder.GetTop()+a/2+2);var r=this.ChartBorder.GetRight();t&&(r=this.ChartBorder.GetBottom());var n=this.ChartFrame.XPointCount,s=!0;this.Canvas.beginPath(),this.Canvas.strokeStyle=this.CloseLineColor;for(var o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<n;++o,++h,i+=e+a){var l=this.Data.Data[o];if(null!=l.Open&&null!=l.High&&null!=l.Low&&null!=l.Close){var u=i,c=i+e;if(c>r)break;var C=u+(c-u)/2,m=this.ChartFrame.GetYFromData(l.Close);s?(t?this.Canvas.moveTo(m,C):this.Canvas.moveTo(C,m),s=!1):t?this.Canvas.lineTo(m,C):this.Canvas.lineTo(C,m)}}0==s&&this.Canvas.stroke()},this.DrawCloseArea=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+2;t&&(i=this.ChartBorder.GetTop()+a/2+2);var r=this.ChartBorder.GetRight();t&&(r=this.ChartBorder.GetBottom());var n=this.ChartFrame.XPointCount,s=!0,o=null;this.Canvas.beginPath(),this.Canvas.strokeStyle=this.CloseLineColor;for(var h=this.Data.DataOffset,l=0;h<this.Data.Data.length&&l<n;++h,++l,i+=e+a){var u=this.Data.Data[h];if(null!=u.Open&&null!=u.High&&null!=u.Low&&null!=u.Close){var c=i,C=i+e;if(C>r)break;var m=c+(C-c)/2,f=this.ChartFrame.GetYFromData(u.Close);s?(t?(this.Canvas.moveTo(f,m),o={X:f,Y:m}):(this.Canvas.moveTo(m,f),o={X:m,Y:f}),s=!1):t?this.Canvas.lineTo(f,m):this.Canvas.lineTo(m,f)}}if(!s){if(this.Canvas.stroke(),t?(this.Canvas.lineTo(this.ChartBorder.GetLeft(),m),this.Canvas.lineTo(this.ChartBorder.GetLeft(),o.Y)):(this.Canvas.lineTo(m,this.ChartBorder.GetBottom()),this.Canvas.lineTo(o.X,this.ChartBorder.GetBottom())),this.Canvas.closePath(),Array.isArray(this.CloseLineAreaColor))if(t){var d=this.Canvas.createLinearGradient(this.ChartBorder.GetRightEx(),this.ChartBorder.GetTop(),this.ChartBorder.GetLeft(),this.ChartBorder.GetTop());d.addColorStop(0,this.CloseLineAreaColor[0]),d.addColorStop(1,this.CloseLineAreaColor[1]),this.Canvas.fillStyle=d}else{var D=this.Canvas.createLinearGradient(o.X,this.ChartBorder.GetTopEx(),o.X,this.ChartBorder.GetBottom());D.addColorStop(0,this.CloseLineAreaColor[0]),D.addColorStop(1,this.CloseLineAreaColor[1]),this.Canvas.fillStyle=D}else this.Canvas.fillStyle=this.CloseLineAreaColor;this.Canvas.fill()}},this.DrawKBar=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+a/2+2,n=this.ChartBorder.GetRight(),s=this.ChartFrame.XPointCount;t&&(r=this.ChartBorder.GetTop()+a/2+2,n=this.ChartBorder.GetBottom());for(var o={X:null,Y:null,Value:null,Align:"left"},h={X:null,Y:null,Value:null,Align:"left"},l=this.UpColor,u=this.DownColor,c=this.UnchagneColor,C=this.Data.DataOffset,m=0;C<this.Data.Data.length&&m<s;++C,++m,r+=e+a){var f=this.Data.Data[C];if(null!=f.Open&&null!=f.High&&null!=f.Low&&null!=f.Close){var d=r,D=r+e;if(D>n)break;var p=d+(D-d)/2,S=this.ChartFrame.GetYFromData(f.Low),v=this.ChartFrame.GetYFromData(f.High),g=this.ChartFrame.GetYFromData(f.Open),T=this.ChartFrame.GetYFromData(f.Close),I=v;if((null==o.Value||o.Value<f.High)&&(o.X=p,o.Y=v,o.Value=f.High,o.Align=m<s/2?"left":"right"),(null==h.Value||h.Value>f.Low)&&(h.X=p,h.Y=S,h.Value=f.Low,h.Align=m<s/2?"left":"right"),this.ColorData&&(l=u=c=C<this.ColorData.length&&this.ColorData[C]>0?this.UpColor:this.DownColor),f.Open<f.Close?e>=this.MinBarWidth?(this.Canvas.strokeStyle=l,f.High>f.Close?(this.Canvas.beginPath(),t?(this.Canvas.moveTo(V(I),V(p)),this.Canvas.lineTo(V(3==this.DrawType?Math.max(T,g):T),V(p))):(this.Canvas.moveTo(V(p),V(I)),this.Canvas.lineTo(V(p),V(3==this.DrawType?Math.min(T,g):T))),this.Canvas.stroke(),I=T):I=T,this.Canvas.fillStyle=l,t?Math.abs(g-I)<1?this.Canvas.fillRect(H(I),H(d),1,H(e)):3==this.DrawType?(this.Canvas.beginPath(),this.Canvas.rect(V(I),V(d),H(g-I),H(e)),this.Canvas.stroke()):this.Canvas.fillRect(H(Math.min(g,I)),H(d),H(Math.abs(g-I)),H(e)):Math.abs(g-I)<1?this.Canvas.fillRect(H(d),H(I),H(e),1):3==this.DrawType?(this.Canvas.beginPath(),this.Canvas.rect(V(d),V(I),H(e),H(g-I)),this.Canvas.stroke()):this.Canvas.fillRect(H(d),H(I),H(e),H(g-I)),f.Open>f.Low&&(this.Canvas.beginPath(),t?(this.Canvas.moveTo(V(3==this.DrawType?Math.min(T,g):I),V(p)),this.Canvas.lineTo(V(S),V(p))):(this.Canvas.moveTo(V(p),V(3==this.DrawType?Math.max(T,g):I)),this.Canvas.lineTo(V(p),V(S))),this.Canvas.stroke())):(this.Canvas.beginPath(),t?(this.Canvas.moveTo(v,V(p)),this.Canvas.lineTo(S,V(p))):(this.Canvas.moveTo(V(p),v),this.Canvas.lineTo(V(p),S)),this.Canvas.strokeStyle=l,this.Canvas.stroke()):f.Open>f.Close?e>=this.MinBarWidth?(this.Canvas.strokeStyle=u,f.High>f.Close?(this.Canvas.beginPath(),t?(this.Canvas.moveTo(V(I),V(p)),this.Canvas.lineTo(V(g),V(p))):(this.Canvas.moveTo(V(p),V(I)),this.Canvas.lineTo(V(p),V(g))),this.Canvas.stroke(),I=g):I=g,this.Canvas.fillStyle=u,t?Math.abs(T-I)<1?this.Canvas.fillRect(H(I),H(d),1,H(e)):this.Canvas.fillRect(H(Math.min(T,I)),H(d),H(Math.abs(T-I)),H(e)):Math.abs(T-I)<1?this.Canvas.fillRect(H(d),H(I),H(e),1):this.Canvas.fillRect(H(d),H(I),H(e),H(T-I)),f.Open>f.Low&&(this.Canvas.beginPath(),t?(this.Canvas.moveTo(V(I),V(p)),this.Canvas.lineTo(V(S),V(p))):(this.Canvas.moveTo(V(p),V(I)),this.Canvas.lineTo(V(p),V(S))),this.Canvas.stroke())):(this.Canvas.beginPath(),t?(this.Canvas.moveTo(v,V(p)),this.Canvas.lineTo(S,V(p))):(this.Canvas.moveTo(V(p),v),this.Canvas.lineTo(V(p),S)),this.Canvas.strokeStyle=u,this.Canvas.stroke()):e>=this.MinBarWidth?(this.Canvas.strokeStyle=c,this.Canvas.beginPath(),f.High>f.Close?(t?(this.Canvas.moveTo(I,V(p)),this.Canvas.lineTo(g,V(p))):(this.Canvas.moveTo(V(p),I),this.Canvas.lineTo(V(p),g)),I=g):I=g,t?(this.Canvas.moveTo(V(I),V(d)),this.Canvas.lineTo(V(I),V(D))):(this.Canvas.moveTo(V(d),V(I)),this.Canvas.lineTo(V(D),V(I))),f.Open>f.Low&&(t?(this.Canvas.moveTo(V(I),V(p)),this.Canvas.lineTo(V(S),V(p))):(this.Canvas.moveTo(V(p),V(I)),this.Canvas.lineTo(V(p),V(S)))),this.Canvas.stroke()):(this.Canvas.beginPath(),t?(this.Canvas.moveTo(v,V(p)),this.Canvas.lineTo(S,V(p))):(this.Canvas.moveTo(V(p),v),this.Canvas.lineTo(V(p),S)),this.Canvas.strokeStyle=c,this.Canvas.stroke()),0==this.Data.DataType&&i.JSCommon_ChartData.IsDayPeriod(this.Data.Period,!0)){var x={X:p,Xleft:d,XRight:D,YMax:v,YMin:S,DayData:f,Index:m};this.DrawInfoDiv(x)}}}this.PtMax=o,this.PtMin=h},this.DrawTrade=function(){if(this.TradeData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+2,r=this.ChartBorder.GetRight(),n=this.ChartFrame.XPointCount;t&&(i=this.ChartBorder.GetTop()+a/2+2,r=this.ChartBorder.GetBottom());var s=this.TradeData.Sell,o=this.TradeData.Buy,h=e;h>10&&(h=10);for(var l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<n;++l,++u,i+=e+a){var c=this.Data.Data[l];if(null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){var C=!1,m=!1;if(s&&l<s.length&&(m=s[l]>0),o&&l<o.length&&(C=o[l]>0),m||C){var f=i,d=i+e;if(d>r)break;var D=f+(d-f)/2,p=this.ChartFrame.GetYFromData(c.Low),S=this.ChartFrame.GetYFromData(c.High);this.ChartFrame.GetYFromData(c.Open),this.ChartFrame.GetYFromData(c.Close);C&&(this.Canvas.fillStyle=this.UpColor,this.Canvas.strokeStyle=this.UnchagneColor,this.Canvas.beginPath(),t?(this.Canvas.moveTo(p-1,D),this.Canvas.lineTo(p-h-1,D-h/2),this.Canvas.lineTo(p-h-1,D+h/2)):(this.Canvas.moveTo(D,p+1),this.Canvas.lineTo(D-h/2,p+h+1),this.Canvas.lineTo(D+h/2,p+h+1)),this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke()),m&&(this.Canvas.fillStyle=this.DownColor,this.Canvas.strokeStyle=this.UnchagneColor,this.Canvas.beginPath(),t?(this.Canvas.moveTo(S+1,D),this.Canvas.lineTo(S+h+1,D-h/2),this.Canvas.lineTo(S+h+1,D+h/2)):(this.Canvas.moveTo(D,S-1),this.Canvas.lineTo(D-h/2,S-h-1),this.Canvas.lineTo(D+h/2,S-h-1)),this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke())}}}}},this.Draw=function(){this.PtMax={X:null,Y:null,Value:null,Align:"left"},this.PtMin={X:null,Y:null,Value:null,Align:"left"},this.ChartFrame.ChartKLine={Max:null,Min:null},0!=this.IsShow&&(1!=this.DrawType?(2==this.DrawType?this.DrawAKLine():4==this.DrawType?this.DrawCloseArea():this.DrawKBar(),this.DrawTrade(),this.IsShowMaxMinPrice&&(!0===this.ChartFrame.IsHScreen?this.HScreenDrawMaxMinPrice(this.PtMax,this.PtMin):this.DrawMaxMinPrice(this.PtMax,this.PtMin))):this.DrawCloseLine())},this.DrawMaxMinPrice=function(t,e){if(null!=t.X&&null!=t.Y&&null!=t.Value&&null!=e.X&&null!=e.Y&&null!=e.Value){var a=s.JSCommonCoordinateData.GetfloatPrecision(this.Symbol);this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign=t.Align,this.Canvas.textBaseline="bottom";var i=t.X,r=t.Value.toFixed(a);"left"==t.Align?r="\u2190"+r:r+="\u2192",this.Canvas.fillText(r,i,t.Y),this.ChartFrame.ChartKLine.Max={X:i,Y:t.Y,Text:{BaseLine:"bottom"}},this.Canvas.textAlign=e.Align,this.Canvas.textBaseline="top";i=e.X;r=e.Value.toFixed(a),"left"==e.Align?r="\u2190"+r:r+="\u2192",this.Canvas.fillText(r,i,e.Y),this.ChartFrame.ChartKLine.Min={X:i,Y:e.Y,Text:{BaseLine:"top"}}}},this.HScreenDrawMaxMinPrice=function(t,e){if(null!=t.X&&null!=t.Y&&null!=t.Value&&null!=e.X&&null!=e.Y&&null!=e.Value){var a=s.JSCommonCoordinateData.GetfloatPrecision(this.Symbol),i=t.Y,r=t.X;this.Canvas.save(),this.Canvas.translate(i,r),this.Canvas.rotate(90*Math.PI/180),this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign=t.Align,this.Canvas.textBaseline="bottom";var n=t.Value.toFixed(a);"left"==t.Align?n="\u2190"+n:n+="\u2192",this.Canvas.fillText(n,0,0),this.Canvas.restore();i=e.Y,r=e.X;this.Canvas.save(),this.Canvas.translate(i,r),this.Canvas.rotate(90*Math.PI/180),this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign=e.Align,this.Canvas.textBaseline="top";n=e.Value.toFixed(a);"left"==e.Align?n="\u2190"+n:n+="\u2192",this.Canvas.fillText(n,0,0),this.Canvas.restore()}},this.DrawInfoDiv=function(t){if(this.InfoData&&!(this.InfoData.length<=0)){var e=this.ChartFrame.DataWidth,a=(this.ChartFrame.DistanceWidth,this.InfoData.get(t.DayData.Date.toString()));if(a&&!(a.Data.length<=0)){var i=!0===this.ChartFrame.IsHScreen;if(1===this.InfoDrawType)if(this.Canvas.font=this.GetDynamicFont(e),this.Canvas.fillStyle=this.InfoPointColor2,this.Canvas.textAlign="center",this.Canvas.textBaseline="top",i){var r=t.YMin,n=t.X;this.Canvas.save(),this.Canvas.translate(r,n),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText("\u25b2",0,0),this.Canvas.restore()}else{var s=V(t.X);this.Canvas.fillText("\u25b2",s,t.YMin)}else{e=this.ChartFrame.DataWidth;var o=e/2;o>3&&(o=3);var h=t.X,l=this.ChartFrame.ChartBorder.GetBottom()-2-o;i&&(l=this.ChartFrame.ChartBorder.GetLeft()+2+o),this.Canvas.fillStyle=this.InfoPointColor,this.Canvas.beginPath(),i?this.Canvas.arc(l,h,o,0,2*Math.PI,!0):this.Canvas.arc(V(h),l,o,0,2*Math.PI,!0),this.Canvas.closePath(),this.Canvas.fill()}}}},this.GetTooltipData=function(t,e,a){return!1},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={Max:null,Min:null};if(0==this.IsShow)return e;if(1==this.DrawType||4==this.DrawType)for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];n.JSCommonSplit_IFrameSplitOperator.IsNumber(r.Close)&&(null==e.Max&&(e.Max=r.Close),null==e.Min&&(e.Min=r.Close),e.Max<r.Close&&(e.Max=r.Close),e.Min>r.Close&&(e.Min=r.Close))}else for(a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){r=this.Data.Data[a];null!=r.Open&&null!=r.High&&null!=r.Low&&null!=r.Close&&(null==e.Max&&(e.Max=r.High),null==e.Min&&(e.Min=r.Low),e.Max<r.High&&(e.Max=r.High),e.Min>r.Low&&(e.Min=r.Low))}return e}}function c(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.Color="rgb(255,193,37)",this.TextFont="14px \u5fae\u8f6f\u96c5\u9ed1",this.Text,this.TextAlign="left",this.Direction=0,this.YOffset=0,this.Position,this.TextSize={Max:r.JSCommonResource_Global_JSChartResource.DRAWICON.Text.MaxSize,Min:r.JSCommonResource_Global_JSChartResource.DRAWICON.Text.MinSize,Zoom:{Type:r.JSCommonResource_Global_JSChartResource.DRAWICON.Text.Zoom.Type,Value:r.JSCommonResource_Global_JSChartResource.DRAWICON.Text.Zoom.Value},FontName:r.JSCommonResource_Global_JSChartResource.DRAWICON.Text.FontName},this.ReloadResource=function(t){"DRAWTEXT"==this.Name?this.TextSize={Max:r.JSCommonResource_Global_JSChartResource.DRAWTEXT.MaxSize,Min:r.JSCommonResource_Global_JSChartResource.DRAWTEXT.MinSize,Zoom:{Type:r.JSCommonResource_Global_JSChartResource.DRAWTEXT.Zoom.Type,Value:r.JSCommonResource_Global_JSChartResource.DRAWTEXT.Zoom.Value},FontName:r.JSCommonResource_Global_JSChartResource.DRAWTEXT.FontName}:"DRAWNUMBER"==this.Name&&(this.TextSize={Max:r.JSCommonResource_Global_JSChartResource.DRAWNUMBER.MaxSize,Min:r.JSCommonResource_Global_JSChartResource.DRAWNUMBER.MinSize,Zoom:{Type:r.JSCommonResource_Global_JSChartResource.DRAWNUMBER.Zoom.Type,Value:r.JSCommonResource_Global_JSChartResource.DRAWNUMBER.Zoom.Value},FontName:r.JSCommonResource_Global_JSChartResource.DRAWNUMBER.FontName})},this.Draw=function(){if(this.IsShow)if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Position)this.DrawPosition();else if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetRight(),n=this.ChartBorder.GetTopEx(),s=this.ChartBorder.GetBottomEx();t&&(i=this.ChartBorder.GetBottom(),n=this.ChartBorder.GetRightEx(),s=this.ChartBorder.GetLeftEx());var o,h=this.ChartFrame.XPointCount,l=Array.isArray(this.Text);1==this.Direction?this.Canvas.textBaseline="bottom":2==this.Direction?this.Canvas.textBaseline="top":this.Canvas.textBaseline="middle",this.TextFont=this.GetDynamicFontEx(e,a,this.TextSize.Max,this.TextSize.Min,this.TextSize.Zoom,this.TextSize.FontName);for(var u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<h;++u,++c){var C=this.Data.Data[u];if(null!=C){var m=this.ChartFrame.GetXFromIndex(c),f=this.ChartFrame.GetYFromData(C);if(m>i)break;if(this.Canvas.textAlign=this.TextAlign,this.Canvas.fillStyle=this.Color,this.Canvas.font=this.TextFont,this.YOffset>0&&this.Direction>0){var d=f;this.Canvas.save(),this.Canvas.setLineDash([5,10]),this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?(1==this.Direction?(f=n-this.YOffset,d+=5):(f=s+this.YOffset,d-=5),this.Canvas.moveTo(V(d),V(m)),this.Canvas.lineTo(V(f),V(m))):(1==this.Direction?(f=n+this.YOffset,d+=5):(f=s-this.YOffset,d-=5),this.Canvas.moveTo(V(m),V(d)),this.Canvas.lineTo(V(m),V(f))),this.Canvas.stroke(),this.Canvas.restore()}if(l){if(o=this.Text[u],!o)continue;t?"DRAWNUMBER"==this.Name&&(1==this.Direction?f+=r.JSCommonResource_Global_JSChartResource.DRAWABOVE.YOffset:2==this.Direction&&(f-=4)):"DRAWNUMBER"==this.Name&&(1==this.Direction?f-=r.JSCommonResource_Global_JSChartResource.DRAWABOVE.YOffset:2==this.Direction&&(f+=4)),this.DrawText(o,m,f,t)}else this.DrawText(this.Text,m,f,t)}}}},this.DrawPosition=function(){if(this.Text){var t=!0===this.ChartFrame.IsHScreen;if(t)var e=this.ChartBorder.GetRightEx()-this.ChartBorder.GetWidthEx()*this.Position.Y,a=this.ChartBorder.GetTop()+this.ChartBorder.GetHeight()*this.Position.X;else a=this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()*this.Position.X,e=this.ChartBorder.GetTopEx()+this.ChartBorder.GetHeight()*this.Position.Y;this.Canvas.fillStyle=this.Color,0==this.Position.Type?this.Canvas.textAlign="left":1==this.Position.Type?this.Canvas.textAlign="right":this.Canvas.textAlign="center",1==this.Direction?this.Canvas.textBaseline="bottom":2==this.Direction?this.Canvas.textBaseline="top":this.Canvas.textBaseline="middle",this.DrawText(this.Text,a,e,t)}},this.DrawText=function(t,e,a,i){i?(this.Canvas.save(),this.Canvas.translate(a,e),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(t,0,0),this.Canvas.restore()):this.Canvas.fillText(t,e,a)}}function C(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ClassName="ChartLine",this.Color="rgb(255,193,37)",this.LineWidth,this.DrawType=0,this.IsDotLine=!1,this.Draw=function(){if(this.IsShow)if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data)switch(this.DrawType){case 0:return this.DrawLine();case 1:return this.DrawStraightLine()}},this.DrawLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth);for(var i=!0,r=0,n=this.Data.DataOffset,s=0;n<this.Data.Data.length&&s<a;++n,++s){var o=this.Data.Data[n];if(null!=o){var h=this.ChartFrame.GetXFromIndex(s),l=this.GetYFromData(o);if(h>e)break;i?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(l,h):this.Canvas.moveTo(h,l),i=!1):t?this.Canvas.lineTo(l,h):this.Canvas.lineTo(h,l),++r}}r>0&&this.Canvas.stroke(),this.Canvas.restore()},this.DrawStraightLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.IsMinuteFrame(),a=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,n=this.ChartBorder.GetLeft()+i/2+r.JSCommonResource_Global_JSChartResource.FrameLeftMargin,s=this.ChartBorder.GetRight();t&&(s=this.ChartBorder.GetBottom()),t&&(n=this.ChartBorder.GetTop()+i/2+r.JSCommonResource_Global_JSChartResource.FrameLeftMargin);var o=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth),this.Canvas.strokeStyle=this.Color,this.IsDotLine&&this.Canvas.setLineDash([3,5]);for(var h=!0,l=0,u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<o;++u,++c,n+=a+i){var C=this.Data.Data[u];if(null!=C){if(e)var m=this.ChartFrame.GetXFromIndex(c);else{var f=n,d=n+a;if(d>s)break;m=f+(d-f)/2}var D=this.GetYFromData(C);if(m>s)break;h?(this.Canvas.beginPath(),t?this.Canvas.moveTo(D,m):this.Canvas.moveTo(m,D),h=!1):t?this.Canvas.lineTo(D,m):this.Canvas.lineTo(m,D),++l}else l>0&&this.Canvas.stroke(),h=!0,l=0}l>0&&this.Canvas.stroke(),this.Canvas.restore()},this.GetYFromData=function(t){return this.ChartFrame.GetYFromData(t)}}function m(){this.newMethod=C,this.newMethod(),delete this.newMethod,this.ClassName="ChartSubLine",this.Color="rgb(255,193,37)",this.LineWidth,this.DrawType=0,this.IsDotLine=!1,this.SubFrame={Max:null,Min:null},this.Draw=function(){if(this.IsShow&&this.Data&&this.Data.Data)switch(this.CalculateDataMaxMin(),this.DrawType){case 0:return this.DrawLine();case 1:return this.DrawStraightLine()}},this.GetYFromData=function(t){var e=!0===this.ChartFrame.IsHScreen;if(e){if(t<=this.SubFrame.Min)return this.ChartBorder.GetLeftEx();if(t>=this.SubFrame.Max)return this.ChartBorder.GetRightEx();var a=this.ChartBorder.GetWidthEx()*(t-this.SubFrame.Min)/(this.SubFrame.Max-this.SubFrame.Min);return this.ChartBorder.GetLeftEx()+a}if(t<=this.SubFrame.Min)return this.ChartBorder.GetBottomEx();if(t>=this.SubFrame.Max)return this.ChartBorder.GetTopEx();var i=this.ChartBorder.GetHeightEx()*(t-this.SubFrame.Min)/(this.SubFrame.Max-this.SubFrame.Min);return this.ChartBorder.GetBottomEx()-i},this.CalculateDataMaxMin=function(){this.SubFrame={Max:null,Min:null};var t=!0===this.ChartFrame.IsHScreen,e=this.ChartBorder.GetRight();t&&(e=this.ChartBorder.GetBottom());for(var a=this.ChartFrame.XPointCount,i=this.Data.DataOffset,r=0;i<this.Data.Data.length&&r<a;++i,++r){var n=this.Data.Data[i];if(null!=n){var s=this.ChartFrame.GetXFromIndex(r);if(s>e)break;(null==this.SubFrame.Min||this.SubFrame.Min>n)&&(this.SubFrame.Min=n),(null==this.SubFrame.Max||this.SubFrame.Max<n)&&(this.SubFrame.Max=n)}}},this.GetMaxMin=function(){var t={Min:null,Max:null};return t}}function f(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.Color="rgb(255,193,37)",this.Radius=1,this.ClassName="ChartPointDot",this.Draw=function(){if(this.IsShow)if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());!0===t&&(e=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount;this.Canvas.save(),this.Canvas.fillStyle=this.Color;for(var i=this.Data.DataOffset,r=0;i<this.Data.Data.length&&r<a;++i,++r){var n=this.Data.Data[i];if(null!=n){var s=this.ChartFrame.GetXFromIndex(r),o=this.ChartFrame.GetYFromData(n);if(s>e)break;this.Canvas.beginPath(),t?this.Canvas.arc(o,s,this.Radius,0,2*Math.PI,!0):this.Canvas.arc(s,o,this.Radius,0,2*Math.PI,!0),this.Canvas.closePath(),this.Canvas.fill()}}this.Canvas.restore()}}}function d(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.Color="rgb(255,193,37)",this.LineWidth,this.ClassName="ChartStick",this.DrawLine=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());!0===t&&(e=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth);for(var i=!0,r=0,n=this.Data.DataOffset,s=0;n<this.Data.Data.length&&s<a;++n,++s){var o=this.Data.Data[n];if(null!=o){var h=this.ChartFrame.GetXFromIndex(s),l=this.ChartFrame.GetYFromData(o);if(h>e)break;i?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(l,h):this.Canvas.moveTo(h,l),i=!1):t?this.Canvas.lineTo(l,h):this.Canvas.lineTo(h,l),++r}}r>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.DrawStick=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartBorder.GetRight();t&&(e=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount,i=this.ChartBorder.GetBottom(),r=this.ChartBorder.GetLeft();this.Canvas.save(),this.Canvas.strokeStyle=this.Color,this.LineWidth&&(this.Canvas.lineWidth=this.LineWidth);for(var n=this.Data.DataOffset,s=0;n<this.Data.Data.length&&s<a;++n,++s){var o=this.Data.Data[n];if(null!=o){var h=this.ChartFrame.GetXFromIndex(s),l=this.ChartFrame.GetYFromData(o);if(h>e)break;if(this.Canvas.beginPath(),t)this.Canvas.moveTo(r,h),this.Canvas.lineTo(l,h),this.Canvas.stroke();else{var u=parseInt(h.toString())+.5;this.Canvas.moveTo(u,l),this.Canvas.lineTo(u,i)}this.Canvas.stroke()}}this.Canvas.restore()}},this.Draw=function(){this.IsShow&&(this.NotSupportMessage?this.DrawNotSupportmessage():this.DrawStick())}}function D(){this.newMethod=d,this.newMethod(),delete this.newMethod,this.ClassName="ChartLineStick",this.Draw=function(){this.IsShow&&(this.NotSupportMessage?this.DrawNotSupportmessage():(this.DrawStick(),this.DrawLine()))}}function p(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ClassName="ChartStickLine",this.Color="rgb(255,193,37)",this.LineWidth=2,this.BarType=0,this.MinBarWidth=r.JSCommonResource_Global_JSChartResource.MinKLineBarWidth,this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetRight();t&&(i=this.ChartBorder.GetBottom());var r=this.ChartFrame.XPointCount,n=this.ChartBorder.GetLeft()+a/2+2;t&&(n=this.ChartBorder.GetTop()+a/2+2),this.Canvas.save();var s=!1,o=!1;if(50==this.LineWidth)e>=this.MinBarWidth?(o=!0,this.Canvas.fillStyle=this.Color,this.Canvas.strokeStyle=this.Color):(this.Canvas.lineWidth=1,this.Canvas.strokeStyle=this.Color);else if(this.LineWidth<100){var h=this.LineWidth;e<=4?h=1:e<h&&(h=parseInt(e)),this.Canvas.lineWidth=h,this.Canvas.strokeStyle=this.Color}else{s=!0,this.Canvas.fillStyle=this.Color;var l=2}for(var u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<r;++u,++c,n+=e+a){var C=this.Data.Data[u];if(null!=C){var m=C.Value,f=C.Value2;null==f&&(f=0);var d=this.ChartFrame.GetXFromIndex(c),D=this.ChartFrame.GetYFromData(m),p=this.ChartFrame.GetYFromData(f);if(d>i)break;if(s){var S=n-l;if(t)this.Canvas.fillRect(Math.min(D,p),S,Math.abs(D-p),e+a+2*l);else{var v=e+a+2*l;S+v>i&&(v=i-S),this.Canvas.fillRect(S,H(Math.min(D,p)),v,H(Math.abs(D-p)))}}else if(o)1==this.BarType?t?(this.Canvas.beginPath(),this.Canvas.fillRect(H(Math.min(D,p)),H(n),H(Math.abs(D-p)),H(e)),this.Canvas.stroke()):(this.Canvas.beginPath(),this.Canvas.rect(H(n),H(Math.min(D,p)),H(e),H(Math.abs(D-p))),this.Canvas.stroke()):t?this.Canvas.fillRect(H(Math.min(D,p)),H(n),H(Math.abs(D-p)),H(e)):this.Canvas.fillRect(H(n),H(Math.min(D,p)),H(e),H(Math.abs(D-p)));else if(t)this.Canvas.beginPath(),this.Canvas.moveTo(D,V(d)),this.Canvas.lineTo(p,V(d)),this.Canvas.stroke();else{var g=parseInt(d.toString())+.5;this.Canvas.beginPath(),this.Canvas.moveTo(g,D),this.Canvas.lineTo(g,p),this.Canvas.stroke()}}}this.Canvas.restore()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={Min:null,Max:null};if(!this.Data||!this.Data.Data)return e;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];if(null!=r){var n=r.Value2;if(null==n&&(n=0),null!=r&&!isNaN(r.Value)&&!isNaN(n)){var s=Math.max(r.Value,n),o=Math.min(r.Value,n);null==e.Max&&(e.Max=s),null==e.Min&&(e.Min=o),e.Max<s&&(e.Max=s),e.Min>o&&(e.Min=o)}}}return e}}function S(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ClassName="ChartRectangle",this.Color=[],this.Rect,this.BorderColor=r.JSCommonResource_Global_JSChartResource.FrameBorderPen,this.Draw=function(){if(this.IsShow&&this.Color&&this.Rect&&!(this.Color.length<=0)){this.Canvas.strokeStyle=this.BorderColor;var t=!1;if(2==this.Color.length)this.Canvas.fillStyle=this.Color[0],t=!0;else{if(1!=this.Color.length)return;this.Color[0]&&(this.Canvas.fillStyle=this.Color[0],t=!0)}var e=this.ChartBorder.GetWidth(),a=this.ChartBorder.GetHeightEx(),i=this.Rect.Left/1e3*e,r=this.Rect.Top/1e3*a,n=this.Rect.Right/1e3*e,s=this.Rect.Bottom/1e3*a;i=this.ChartBorder.GetLeft()+i,r=this.ChartBorder.GetTopEx()+r,n=this.ChartBorder.GetLeft()+n,s=this.ChartBorder.GetTopEx()+s;var o=Math.abs(i-n),h=Math.abs(r-s);t&&this.Canvas.fillRect(i,r,o,h),this.Canvas.rect(V(i),V(r),H(o),H(h)),this.Canvas.stroke()}}}function v(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.Color="rgb(65,105,225)",this.MainData,this.SourceData,this.Name="ChartOverlayKLine",this.Title,this.DrawType=0,this.ClassName="ChartOverlayKLine",this.CustomDrawType=null,this.SetOption=function(t){t&&n.JSCommonSplit_IFrameSplitOperator.IsNumber(t.DrawType)&&(this.CustomDrawType=t.DrawType)},this.DrawKBar=function(t){var e=!0===this.ChartFrame.IsHScreen,a=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+i/2+2;e&&(r=this.ChartBorder.GetTop()+i/2+2);var n=this.ChartBorder.GetRight();e&&(n=this.ChartBorder.GetBottom());for(var s=this.ChartFrame.XPointCount,o=!0,h=null,l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<s;++l,++u,r+=a+i){var c=this.Data.Data[l];if(c&&null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){null==h&&(h=c.Open),o&&(this.Canvas.strokeStyle=this.Color,this.Canvas.fillStyle=this.Color,this.Canvas.beginPath(),o=!1);var C=r,m=r+a;if(m>n)break;var f=C+(m-C)/2,d=this.ChartFrame.GetYFromData(c.Low/h*t),D=this.ChartFrame.GetYFromData(c.High/h*t),p=this.ChartFrame.GetYFromData(c.Open/h*t),S=this.ChartFrame.GetYFromData(c.Close/h*t),v=D;c.Open<c.Close?a>=4?(c.High>c.Close?(e?(this.Canvas.moveTo(V(v),V(f)),this.Canvas.lineTo(V(3==this.DrawType?Math.max(S,p):S),V(f))):(this.Canvas.moveTo(V(f),V(v)),this.Canvas.lineTo(V(f),V(3==this.DrawType?Math.min(S,p):S))),v=S):v=S,e?Math.abs(p-v)<1?this.Canvas.fillRect(H(v),H(C),1,H(a)):3==this.DrawType?this.Canvas.rect(V(v),V(C),H(p-v),H(a)):this.Canvas.fillRect(H(v),H(C),H(p-v),H(a)):Math.abs(p-v)<1?this.Canvas.fillRect(H(C),H(v),H(a),1):3==this.DrawType?this.Canvas.rect(V(C),V(v),H(a),H(p-v)):this.Canvas.fillRect(H(C),H(v),H(a),H(p-v)),c.Open>c.Low&&(e?(this.Canvas.moveTo(V(3==this.DrawType?Math.min(S,p):v),V(f)),this.Canvas.lineTo(V(d),V(f))):(this.Canvas.moveTo(V(f),V(3==this.DrawType?Math.max(S,p):v)),this.Canvas.lineTo(V(f),V(d))))):e?(this.Canvas.moveTo(D,V(f)),this.Canvas.lineTo(d,V(f))):(this.Canvas.moveTo(V(f),D),this.Canvas.lineTo(V(f),d)):c.Open>c.Close?a>=4?(c.High>c.Close?(e?(this.Canvas.moveTo(V(v),V(f)),this.Canvas.lineTo(V(p),V(f))):(this.Canvas.moveTo(V(f),V(v)),this.Canvas.lineTo(V(f),V(p))),v=p):v=p,e?Math.abs(S-v)<1?this.Canvas.fillRect(H(v),H(C),1,H(a)):this.Canvas.fillRect(H(v),H(C),H(S-v),H(a)):Math.abs(S-v)<1?this.Canvas.fillRect(H(C),H(v),H(a),1):this.Canvas.fillRect(H(C),H(v),H(a),H(S-v)),c.Open>c.Low&&(e?(this.Canvas.moveTo(V(v),V(f)),this.Canvas.lineTo(V(d),V(f))):(this.Canvas.moveTo(V(f),V(v)),this.Canvas.lineTo(V(f),V(d))))):e?(this.Canvas.moveTo(D,V(f)),this.Canvas.lineTo(d,V(f))):(this.Canvas.moveTo(V(f),D),this.Canvas.lineTo(V(f),d)):a>=4?(c.High>c.Close?(e?(this.Canvas.moveTo(v,V(f)),this.Canvas.lineTo(p,V(f))):(this.Canvas.moveTo(V(f),v),this.Canvas.lineTo(V(f),p)),v=p):v=p,e?(this.Canvas.moveTo(V(v),V(C)),this.Canvas.lineTo(V(v),V(m))):(this.Canvas.moveTo(V(C),V(v)),this.Canvas.lineTo(V(m),V(v))),c.Open>c.Low&&(e?(this.Canvas.moveTo(V(v),V(f)),this.Canvas.lineTo(V(d),V(f))):(this.Canvas.moveTo(V(f),V(v)),this.Canvas.lineTo(V(f),V(d))))):e?(this.Canvas.moveTo(D,V(f)),this.Canvas.lineTo(d,V(f))):(this.Canvas.moveTo(V(f),D),this.Canvas.lineTo(V(f),d))}}0==o&&this.Canvas.stroke()},this.DrawAKLine=function(t){var e=!0===this.ChartFrame.IsHScreen,a=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+i/2+2;e&&(r=this.ChartBorder.GetTop()+i/2+2);var n=this.ChartBorder.GetRight();e&&(n=this.ChartBorder.GetBottom());var s=this.ChartFrame.XPointCount,o=null;this.Canvas.strokeStyle=this.Color;for(var h=this.Data.DataOffset,l=0;h<this.Data.Data.length&&l<s;++h,++l,r+=a+i){var u=this.Data.Data[h];if(null!=u.Open&&null!=u.High&&null!=u.Low&&null!=u.Close){null==o&&(o=u.Open);var c=r,C=r+a;if(C>n)break;var m=c+(C-c)/2,f=this.ChartFrame.GetYFromData(u.Low/o*t),d=this.ChartFrame.GetYFromData(u.High/o*t),D=this.ChartFrame.GetYFromData(u.Open/o*t),p=this.ChartFrame.GetYFromData(u.Close/o*t);this.Canvas.beginPath(),e?(this.Canvas.moveTo(d,V(m)),this.Canvas.lineTo(f,V(m))):(this.Canvas.moveTo(V(m),d),this.Canvas.lineTo(V(m),f)),this.Canvas.stroke(),a>=4&&(this.Canvas.beginPath(),e?(this.Canvas.moveTo(V(D),c),this.Canvas.lineTo(V(D),m)):(this.Canvas.moveTo(c,V(D)),this.Canvas.lineTo(m,V(D))),this.Canvas.stroke(),this.Canvas.beginPath(),e?(this.Canvas.moveTo(V(p),C),this.Canvas.lineTo(V(p),m)):(this.Canvas.moveTo(C,V(p)),this.Canvas.lineTo(m,V(p))),this.Canvas.stroke())}}},this.DrawCloseLine=function(t){var e=!0===this.ChartFrame.IsHScreen,a=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+i/2+2;e&&(r=this.ChartBorder.GetTop()+i/2+2);var n=this.ChartBorder.GetRight();e&&(n=this.ChartBorder.GetBottom());var s=this.ChartFrame.XPointCount,o=null,h=!0;this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath();for(var l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<s;++l,++u,r+=a+i){var c=this.Data.Data[l];if(null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){null==o&&(o=c.Open);var C=r,m=r+a;if(m>n)break;var f=C+(m-C)/2,d=this.ChartFrame.GetYFromData(c.Close/o*t);h?(e?this.Canvas.moveTo(d,f):this.Canvas.moveTo(f,d),h=!1):e?this.Canvas.lineTo(d,f):this.Canvas.lineTo(f,d)}}0==h&&this.Canvas.stroke()},this.Draw=function(){if(this.TooltipRect=[],this.MainData&&this.Data){for(var t=this.ChartFrame.XPointCount,e=null,a=this.Data.DataOffset,i=0;a<this.MainData.Data.length&&i<t;++a,++i){var r=this.MainData.Data[a];if(null!=r.Open&&null!=r.High&&null!=r.Low&&null!=r.Close){e=r.Open;break}}if(null!=e){var n=this.DrawType;null!=this.CustomDrawType&&(this.DrawType=this.CustomDrawType),1==this.DrawType?this.DrawCloseLine(e):2==this.DrawType?this.DrawAKLine(e):this.DrawKBar(e),this.DrawType=n}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={Max:null,Min:null};if(!this.MainData||!this.Data)return e;for(var a=null,i=this.Data.DataOffset,r=0;i<this.MainData.Data.length&&r<t;++i,++r){var n=this.MainData.Data[i];if(null!=n.Open&&null!=n.High&&null!=n.Low&&null!=n.Close){a=n.Close;break}}if(null==a)return e;var s,o,h=null;for(i=this.Data.DataOffset,r=0;i<this.Data.Data.length&&r<t;++i,++r){n=this.Data.Data[i];n&&null!=n.Open&&null!=n.High&&null!=n.Low&&null!=n.Close&&(null==h&&(h=n.Open),s=n.High/h*a,o=n.Low/h*a,null==e.Max&&(e.Max=s),null==e.Min&&(e.Min=o),e.Max<s&&(e.Max=s),e.Min>o&&(e.Min=o))}return e}}function g(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiText",this.Texts=[],this.Font=r.JSCommonResource_Global_JSChartResource.DefaultTextFont,this.Color=r.JSCommonResource_Global_JSChartResource.DefaultTextColor,this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&this.Data&&!(this.Data.length<=0)&&this.Texts){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,a=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight();for(var r in this.IsHScreen&&(a=this.ChartBorder.GetTop(),i=this.ChartBorder.GetBottom()),this.Texts){var s=this.Texts[r];if(s.Text&&n.JSCommonSplit_IFrameSplitOperator.IsNumber(s.Index)){var o=s.Index-e;if(o>=0&&o<t){var h=this.ChartFrame.GetXFromIndex(o),l=this.ChartFrame.GetYFromData(s.Value);s.Color?this.Canvas.fillStyle=s.Color:this.Canvas.fillStyle=this.Color,s.Font?this.Canvas.font=s.Font:this.Canvas.font=this.Font;var u=this.Canvas.measureText(s.Text).width;if(this.Canvas.textAlign="center",h+u/2>=i?(this.Canvas.textAlign="right",h=i):h-u/2<a&&(this.Canvas.textAlign="left",h=a),1==s.Baseline?this.Canvas.textBaseline="top":2==s.Baseline?this.Canvas.textBaseline="bottom":this.Canvas.textBaseline="middle",this.IsHScreen?(this.Canvas.save(),this.Canvas.translate(l,h),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s.Text,0,0),this.Canvas.restore()):this.Canvas.fillText(s.Text,h,l),s.Line){var c=this.Data.Data[s.Index],C="H"==s.Line.KData?c.High:c.Low,m=this.ChartFrame.GetYFromData(C),f=l;Array.isArray(s.Line.Offset)&&2==s.Line.Offset.length&&(f>m?(f-=s.Line.Offset[1],m+=s.Line.Offset[0]):f<m&&(f+=s.Line.Offset[1],m-=s.Line.Offset[0])),this.Canvas.save(),s.Line.Dash&&this.Canvas.setLineDash(s.Line.Dash),s.Line.Width>0&&(this.Canvas.lineWidth=s.Line.Width),this.Canvas.strokeStyle=s.Line.Color,this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(f,V(h)),this.Canvas.lineTo(m,V(h))):(this.Canvas.moveTo(V(h),f),this.Canvas.lineTo(V(h),m)),this.Canvas.stroke(),this.Canvas.restore()}}}}}},this.GetMaxMin=function(){var t={Min:null,Max:null};if(!this.Texts)return t;var e=this.ChartFrame.XPointCount,a=this.Data.DataOffset,i=a+e;for(var r in this.Texts){var n=this.Texts[r];n.Index>=a&&n.Index<i&&((null==t.Max||t.Max<n.Value)&&(t.Max=n.Value),(null==t.Min||t.Min>n.Value)&&(t.Min=n.Value))}return t}}function T(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiHtmlDom",this.Texts=[],this.IsHScreen=!1,this.DrawCallback,this.DrawItem=[],this.Draw=function(){this.DrawItem=[],this.DrawCallback&&this.DrawCallback(1,{Self:this}),this.DrawDom(),this.DrawCallback&&this.DrawCallback(2,{Self:this,Draw:this.DrawItem})},this.DrawDom=function(){if(this.IsShow&&this.Data&&!(this.Data.length<=0)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset;for(var a in this.Texts){var i=this.Texts[a];if(i.Text&&n.JSCommonSplit_IFrameSplitOperator.IsNumber(i.Index)){var r=i.Index-e,s=this.Data.Data[i.Index],o={KData:s,Item:i,IsShow:!1,Self:this};if(r>=0&&r<t){var h=this.ChartFrame.GetXFromIndex(r),l=this.ChartFrame.GetYFromData(i.Value);o.X=h,o.Y=l,o.IsShow=!0}this.DrawItem.push(o),this.DrawCallback&&this.DrawCallback(3,o)}}}},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,a=this.Data.DataOffset,i=a+e;for(var r in this.Texts){var s=this.Texts[r];n.JSCommonSplit_IFrameSplitOperator.IsNumber(s.Index)&&(s.Index>=a&&s.Index<i&&((null==t.Max||t.Max<s.Value)&&(t.Max=s.Value),(null==t.Min||t.Min>s.Value)&&(t.Min=s.Value)))}return t}}function I(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.Lines=[],this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&this.Data&&!(this.Data.length<=0)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,a=[];for(var i in this.Lines){var r=this.Lines[i],s={Point:[],Color:r.Color};for(var o in r.Point){var h=r.Point[o];if(n.JSCommonSplit_IFrameSplitOperator.IsNumber(h.Index)){var l=h.Index-e;if(l>=0&&l<t){var u=this.ChartFrame.GetXFromIndex(l),c=this.ChartFrame.GetYFromData(h.Value);s.Point.push({X:u,Y:c})}}}s.Point.length>=2&&a.push(s)}for(var i in a){var C=a[i];this.DrawLine(C)}}},this.DrawLine=function(t){for(var e in this.Canvas.strokeStyle=t.Color,t.Point){var a=t.Point[e];0==e?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(a.Y,a.X):this.Canvas.moveTo(a.X,a.Y)):this.IsHScreen?this.Canvas.lineTo(a.Y,a.X):this.Canvas.lineTo(a.X,a.Y)}this.Canvas.stroke()},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,a=this.Data.DataOffset,i=a+e;for(var r in this.Lines){var n=this.Lines[r];for(var s in n.Point){var o=n.Point[s];o.Index>=a&&o.Index<i&&((null==t.Max||t.Max<o.Value)&&(t.Max=o.Value),(null==t.Min||t.Min>o.Value)&&(t.Min=o.Value))}}return t}}function x(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.Bars=[],this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&this.Data&&!(this.Data.length<=0)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,a=this.ChartFrame.DataWidth,i=[];for(var r in this.Bars){var s=this.Bars[r],o={Point:[],Color:s.Color,Width:a,Type:0};for(var h in s.Type>0&&(o.Type=s.Type),s.Width>0?(o.Width=s.Width,o.Width>a&&(o.Width=a)):o.Width<4&&(o.Width=1),s.Point){var l=s.Point[h];if(n.JSCommonSplit_IFrameSplitOperator.IsNumber(l.Index)){var u=l.Index-e;if(u>=0&&u<t){var c=this.ChartFrame.GetXFromIndex(u),C=this.ChartFrame.GetYFromData(l.Value),m=this.ChartFrame.GetYFromData(l.Value2);o.Point.push({X:c,Y:C,Y2:m})}}}o.Point.length>0&&i.push(o)}for(var r in i){s=i[r];s.Width>=4?1==s.Type?this.DrawHollowBar(s):this.DrawFillBar(s):this.DrawLineBar(s)}}},this.DrawLineBar=function(t){this.Canvas.strokeStyle=t.Color;var e=this.Canvas.lineWidth;for(var a in this.Canvas.lineWidth=t.Width,t.Point){var i=t.Point[a];this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(V(i.Y),V(i.X)),this.Canvas.lineTo(V(i.Y2),V(i.X))):(this.Canvas.moveTo(V(i.X),V(i.Y)),this.Canvas.lineTo(V(i.X),V(i.Y2))),this.Canvas.stroke()}this.Canvas.lineWidth=e},this.DrawFillBar=function(t){for(var e in this.Canvas.fillStyle=t.Color,t.Point){var a=t.Point[e],i=a.X-t.Width/2,r=Math.min(a.Y,a.Y2),n=t.Width,s=Math.abs(a.Y-a.Y2);this.IsHScreen?this.Canvas.fillRect(H(r),H(i),H(s),H(n)):this.Canvas.fillRect(H(i),H(r),H(n),H(s))}},this.DrawHollowBar=function(t){this.Canvas.strokeStyle=t.Color;var e=1;for(var a in t.Point){var i=t.Point[a],r=i.X-t.Width/2,n=Math.min(i.Y,i.Y2),s=t.Width,o=Math.abs(i.Y-i.Y2);this.Canvas.beginPath(),this.IsHScreen?this.Canvas.rect(V(n),V(r),H(o),H(s)):this.Canvas.rect(V(r),V(n),H(s),H(o)),this.Canvas.stroke()}this.Canvas.lineWidth=e},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,a=this.Data.DataOffset,i=a+e;for(var r in this.Bars){var n=this.Bars[r];for(var s in n.Point){var o=n.Point[s];if(o.Index>=a&&o.Index<i){var h=Math.min(o.Value,o.Value2),l=Math.max(o.Value,o.Value2);(null==t.Max||t.Max<l)&&(t.Max=l),(null==t.Min||t.Min>h)&&(t.Min=h)}}}return t}}function A(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ClassName="ChartMinuteInfo",this.Data=new Map,this.SourceData,this.ChartMinutePrice,this.YClose,this.TextColor=r.JSCommonResource_Global_JSChartResource.MinuteInfo.TextColor,this.Font=r.JSCommonResource_Global_JSChartResource.MinuteInfo.Font,this.PointColor=r.JSCommonResource_Global_JSChartResource.MinuteInfo.PointColor,this.LineColor=r.JSCommonResource_Global_JSChartResource.MinuteInfo.LineColor,this.TextBGColor=r.JSCommonResource_Global_JSChartResource.MinuteInfo.TextBGColor,this.TextHeight=18,this.TextRectCache=[],this.InfoDrawCache=[],this.FrameBottom,this.FrameTop,this.FrameLeft,this.FrameRight,this.YOffset=5,this.IsHScreen=!1,this.SetOption=function(t){t.TextColor&&(this.TextColor=t.TextColor),t.TextBGColor&&(this.TextBGColor=t.TextBGColor),t.Font&&(this.Font=t.Font),t.PointColor&&(this.PointColor=t.PointColor),t.LineColor&&(this.LineColor=t.LineColor),t.TextHeight>0&&(this.TextHeight=t.TextHeight)},this.Draw=function(){if(this.ChartMinutePrice&&this.Data&&!(this.Data.size<=0)){this.TextRectCache=[],this.InfoDrawCache=[],this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount;this.ChartFrame.MinuteCount;this.FrameBottom=this.ChartBorder.GetBottom(),this.FrameTop=this.ChartBorder.GetTop(),this.FrameLeft=this.ChartBorder.GetLeft(),this.FrameRight=this.ChartBorder.GetRight(),this.IsHScreen&&(this.FrameRight=this.ChartBorder.GetBottom(),this.FrameLeft=this.ChartBorder.GetTop(),this.FrameBottom=this.ChartBorder.GetLeft(),this.FrameTop=this.ChartBorder.GetRight()),this.YClose=this.ChartMinutePrice.YClose;var e=this.ChartMinutePrice.Data,a=!1;this.ChartMinutePrice.SourceData&&(e=this.ChartMinutePrice.SourceData,a=!0),this.Canvas.font=this.Font;for(var i=e.DataOffset,r=0;i<e.Data.length&&r<t;++i,++r){var n=this.SourceData.Data[i];if((!a||!n.Before)&&n){var s=n.DateTime;this.Data.has(s)&&(this.IsHScreen?this.CalcuateInfoHScreenPosition(this.Data.get(s),r,n):this.CalcuateInfoPosition(this.Data.get(s),r,n))}}for(var i in this.InfoDrawCache){n=this.InfoDrawCache[i];this.DrawInfoLines(n)}for(var i in this.InfoDrawCache){n=this.InfoDrawCache[i];this.DrawInfoText(n)}this.TextRectCache=[],this.InfoDrawCache=[]}},this.CalcuateInfoPosition=function(t,e,a){if(t&&t.Data&&!(t.Data.length<=0)){var i=t.Data[0],r=this.Canvas.measureText(i.Title).width+4,n=this.TextHeight,s=this.ChartFrame.GetXFromIndex(e),o=this.ChartFrame.GetYFromData(a.Close);s=V(s);var h=s<this.FrameLeft+Math.abs(this.FrameLeft-this.FrameRight)/2,l=[2,4,3,2,3,3,2],u=n+l[e%l.length],c={Y:[{Value:o+(n+this.YOffset),Offset:u},{Value:o-(2*n+this.YOffset),Offset:-u}]};a.Close<this.YClose&&(c.Y=c.Y.reverse());var C={X:s,Y:null,Width:r,Height:n};h||(C.X-=C.Width),this.FixTextRect(C,c);var m={Border:C,Start:{X:s,Y:o},IsLeft:h,Title:i.Title};this.InfoDrawCache.push(m),this.TextRectCache.push(C)}},this.CalcuateInfoHScreenPosition=function(t,e,a){if(t&&t.Data&&!(t.Data.length<=0)){var i=t.Data[0],r=this.Canvas.measureText(i.Title).width+4,n=this.TextHeight,s=this.ChartFrame.GetXFromIndex(e),o=this.ChartFrame.GetYFromData(a.Close);s=V(s);var h=s<this.FrameLeft+Math.abs(this.FrameLeft-this.FrameRight)/2,l=[2,4,3,2,3,3,2],u=n+l[e%l.length],c={X:[{Value:o+(n+this.YOffset),Offset:u},{Value:o-(2*n+this.YOffset),Offset:-u}]};a.Close>this.YClose&&(c.X=c.X.reverse());var C={X:null,Y:s,Width:n,Height:r};h||(C.Y-=C.Height),this.FixHScreenTextRect(C,c);var m={Border:C,Start:{X:o,Y:s},IsLeft:h,Title:i.Title};this.InfoDrawCache.push(m),this.TextRectCache.push(C)}},this.DrawInfoLines=function(t){var e=t.Border,a=t.IsLeft;this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.Start.X,t.Start.Y),a?this.Canvas.lineTo(e.X,e.Y):this.IsHScreen?this.Canvas.lineTo(e.X,e.Y+e.Height):this.Canvas.lineTo(e.X+e.Width,e.Y),this.Canvas.stroke(),this.Canvas.fillStyle=this.PointColor,this.Canvas.beginPath(),this.Canvas.arc(t.Start.X,t.Start.Y,5,0,2*Math.PI),this.Canvas.closePath(),this.Canvas.fill()},this.DrawInfoText=function(t){var e=t.Border,a=e.X,i=e.Y;this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(a,i,e.Width,e.Height),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.rect(a,i,e.Width,e.Height),this.Canvas.stroke(),this.IsHScreen&&(this.Canvas.save(),this.Canvas.translate(e.X,e.Y),this.Canvas.rotate(90*Math.PI/180),a=0,i=0),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.IsHScreen?this.Canvas.fillText(t.Title,a+2,i-e.Width/2):this.Canvas.fillText(t.Title,a+2,i+e.Height/2),this.IsHScreen&&this.Canvas.restore()},this.FixTextRect=function(t,e){for(var a in e.Y){var i,r=e.Y[a];t.Y=r.Value;for(var n=0;n<10;++n){var s=!1;for(var o in this.TextRectCache){var h=this.TextRectCache[o];if(this.IsOverlap(h,t)){s=!0;break}}if(0==s)return;if(i=t.Y,i+=r.Offset,i+t.Height>this.FrameBottom||i<this.FrameTop)break;t.Y=i}}},this.FixHScreenTextRect=function(t,e){for(var a in e.X){var i,r=e.X[a];t.X=r.Value;for(var n=0;n<10;++n){var s=!1;for(var o in this.TextRectCache){var h=this.TextRectCache[o];if(this.IsOverlap(h,t)){s=!0;break}}if(0==s)return;if(i=t.X,i+=r.Offset,i+t.Width<this.FrameBottom||i>this.FrameTop)break;t.X=i}}},this.IsOverlap=function(t,e){return t.X+t.Width>e.X&&e.X+e.Width>t.X&&t.Y+t.Height>e.Y&&e.Y+e.Height>t.Y},this.GetMaxMin=function(){var t={Min:null,Max:null};return t}}function F(){this.newMethod=c,this.newMethod(),delete this.newMethod,this.ClassName="ChartBuySell",this.TextFont=r.JSCommonResource_Global_JSChartResource.KLineTrain.Font,this.LastDataIcon=r.JSCommonResource_Global_JSChartResource.KLineTrain.LastDataIcon,this.BuyIcon=r.JSCommonResource_Global_JSChartResource.KLineTrain.BuyIcon,this.SellIcon=r.JSCommonResource_Global_JSChartResource.KLineTrain.SellIcon,this.BuySellData=new Map,this.AddTradeItem=function(t){if(this.BuySellData.has(t.Key)){var e=this.BuySellData.get(t.Key);e.Data.push(t)}else this.BuySellData.set(t.Key,{Data:[t]})},this.ClearTradeData=function(){this.BuySellData=new Map},this.Draw=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=(this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());!0===t&&(a=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount,r=this.ChartBorder.GetBottomEx(),n=this.ChartBorder.GetTopEx(),s=this.ChartBorder.GetHeightEx();t&&(n=this.ChartBorder.GetRightEx(),r=this.ChartBorder.GetLeftEx(),s=this.ChartBorder.GetWidthEx()),this.Canvas.font=this.TextFont;for(var o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<i;++o,++h){var l=this.Data.Data[o];if(null!=l){if(u>a)break;if(o==this.Data.Data.length-1){var u=this.ChartFrame.GetXFromIndex(h),c=this.ChartFrame.GetYFromData(l.High);if(this.LastDataIcon.Text)this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.Canvas.fillStyle=this.LastDataIcon.Color,this.Canvas.font=this.TextFont,this.DrawText(this.LastDataIcon.Text,u,c,t);else{var C={X:u,Top:n,Bottom:r,Height:s,DataWidth:e,Color:this.LastDataIcon.Color,IsHScreen:t};this.DrawLastData(C)}}var m=o;if(this.BuySellData.has(m)){var f=this.BuySellData.get(m),d=(u=this.ChartFrame.GetXFromIndex(h),c=this.ChartFrame.GetYFromData(l.High),this.ChartFrame.GetYFromData(l.Low)),D=[!1,!1];for(var p in f.Data){if(1==D[0]&&1==D[1])break;var S=f.Data[p];0==S.Op&&0==D[0]?(this.Canvas.textAlign="center",this.Canvas.textBaseline="top",this.Canvas.fillStyle=this.BuyIcon.Color,this.DrawText(this.BuyIcon.Text,u,d,t),D[0]=!0):1==S.Op&&0==D[1]&&(this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.Canvas.fillStyle=this.SellIcon.Color,this.DrawText(this.SellIcon.Text,u,c,t),D[1]=!0)}}}}}},this.DrawLastData=function(t){this.Canvas.fillStyle=t.Color;var e=t.DataWidth;this.LastDataIcon.Width>=2&&this.LastDataIcon.Width<t.DataWidth&&(e=this.LastDataIcon.Width);var a=t.X-e/2;if(t.IsHScreen)this.Canvas.fillRect(H(t.Bottom),H(a),H(t.Height),H(e));else{a=t.X-e/2;this.Canvas.fillRect(H(a),H(t.Top),H(e),H(t.Height))}}}function y(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.UpColor=r.JSCommonResource_Global_JSChartResource.UpBarColor,this.DownColor=r.JSCommonResource_Global_JSChartResource.DownBarColor,this.CustomColor=r.JSCommonResource_Global_JSChartResource.Minute.VolBarColor,this.YClose,this.Draw=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartBorder.GetRight();t&&(e=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount,i=this.ChartFrame.GetYFromData(0),r=this.YClose;this.CustomColor&&(this.Canvas.strokeStyle=this.CustomColor);for(var n=this.Data.DataOffset,s=0;n<this.Data.Data.length&&s<a;++n,++s){var o=this.Data.Data[n];if(o&&o.Vol){var h=this.ChartFrame.GetYFromData(o.Vol),l=this.ChartFrame.GetXFromIndex(n);if(l>e)break;this.CustomColor||(this.Canvas.strokeStyle=o.Close>=r?this.UpColor:this.DownColor),this.Canvas.beginPath(),t?(this.Canvas.moveTo(h,V(l)),this.Canvas.lineTo(i,V(l))):(this.Canvas.moveTo(V(l),h),this.Canvas.lineTo(V(l),i)),this.Canvas.stroke(),r=o.Close}}},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:0,Max:null},a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];r&&r.Vol&&(null==e.Max&&(e.Max=r.Vol),e.Max<r.Vol&&(e.Max=r.Vol))}return e}}function L(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ClassName="ChartMACD",this.UpColor=r.JSCommonResource_Global_JSChartResource.UpBarColor,this.DownColor=r.JSCommonResource_Global_JSChartResource.DownBarColor,this.LineWidth=1,this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(!0!==this.ChartFrame.IsHScreen){var t=this.IsMinuteFrame(),e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+r.JSCommonResource_Global_JSChartResource.FrameLeftMargin,n=this.ChartBorder.GetRight(),s=this.ChartFrame.XPointCount,o=this.LineWidth;(50==this.LineWidth||o>e)&&(o=e),this.Canvas.save(),this.Canvas.lineWidth=o;for(var h=this.ChartFrame.GetYFromData(0),l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<s;++l,++u,i+=e+a){var c=this.Data.Data[l];if(null!=c){if(t)var C=this.ChartFrame.GetXFromIndex(u);else{var m=i,f=i+e;if(f>n)break;C=m+(f-m)/2}var d=this.ChartFrame.GetYFromData(c);if(C>n)break;var D=parseInt(C.toString())+.5;this.Canvas.beginPath(),this.Canvas.moveTo(D,h),this.Canvas.lineTo(D,d),this.Canvas.strokeStyle=c>=0?this.UpColor:this.DownColor,this.Canvas.stroke(),this.Canvas.closePath()}}this.Canvas.restore()}else this.HScreenDraw()},this.HScreenDraw=function(){var t=this.IsMinuteFrame(),e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetTop()+a/2+r.JSCommonResource_Global_JSChartResource.FrameLeftMargin,n=this.ChartBorder.GetBottom(),s=this.ChartFrame.XPointCount,o=this.ChartFrame.GetYFromData(0),h=this.LineWidth;(50==this.LineWidth||h>e)&&(h=e),this.Canvas.save(),this.Canvas.lineWidth=h;for(var l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<s;++l,++u,i+=e+a){var c=this.Data.Data[l];if(null!=c){if(t)var C=this.ChartFrame.GetXFromIndex(u);else{var m=i,f=i+e;if(f>n)break;C=m+(f-m)/2}var d=this.ChartFrame.GetYFromData(c);if(C>n)break;this.Canvas.beginPath(),this.Canvas.moveTo(o,V(C)),this.Canvas.lineTo(d,V(C)),this.Canvas.strokeStyle=c>=0?this.UpColor:this.DownColor,this.Canvas.stroke(),this.Canvas.closePath()}}this.Canvas.restore()}}function M(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.Font=r.JSCommonResource_Global_JSChartResource.DefaultTextFont,this.TextColor=r.JSCommonResource_Global_JSChartResource.DefaultTextColor,this.IsEnableSplash=!1,this.SplashTitle="\u6570\u636e\u52a0\u8f7d\u4e2d.....",this.HQChart,this.EnableSplash=function(t){if(this.IsEnableSplash=t,this.HQChart){var e=this.HQChart.GetEnableSplashEvent();if(e){var a={Enable:t};e.Callback(e,a,this)}}},this.Draw=function(){if(this.IsEnableSplash)if(!0!==this.Frame.IsHScreen){var t=(this.Frame.ChartBorder.GetLeft()+this.Frame.ChartBorder.GetRight())/2,e=(this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.GetBottom())/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.SplashTitle,t,e)}else this.HScreenDraw()},this.HScreenDraw=function(){var t=(this.Frame.ChartBorder.GetLeft()+this.Frame.ChartBorder.GetRight())/2,e=(this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.GetBottom())/2;this.Canvas.save(),this.Canvas.translate(t,e),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.SplashTitle,0,0),this.Canvas.restore()}}function E(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ClassName="ChartBackground",this.Color=null,this.ColorAngle=0,this.IsDrawFirst=!0,this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&this.Color&&!(this.Color.length<=0)){if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,2==this.Color.length){if(this.IsHScreen)if(0==this.ColorAngle)var t={X:this.ChartBorder.GetRight(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()};else t={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetBottomEx()};else if(0==this.ColorAngle)t={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetBottomEx()};else t={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetRight(),Y:this.ChartBorder.GetTopEx()};var a=this.Canvas.createLinearGradient(t.X,t.Y,e.X,e.Y);a.addColorStop(0,this.Color[0]),a.addColorStop(1,this.Color[1]),this.Canvas.fillStyle=a}else{if(1!=this.Color.length)return;this.Canvas.fillStyle=this.Color[0]}if("DRAWGBK2"!=this.Name&&"KLINE_BG"!=this.Name){if(this.IsHScreen)var i=this.ChartBorder.GetLeftEx(),r=this.ChartBorder.GetTop(),n=this.ChartBorder.GetWidthEx(),s=this.ChartBorder.GetHeight();else i=this.ChartBorder.GetLeft(),r=this.ChartBorder.GetTopEx(),n=this.ChartBorder.GetWidth(),s=this.ChartBorder.GetHeightEx();this.Canvas.fillRect(i,r,n,s)}else this.DrawRegion()}},this.DrawRegion=function(){var t=this.ChartFrame.XPointCount,e=this.ChartBorder.GetLeft()+i/2+r.JSCommonResource_Global_JSChartResource.FrameLeftMargin,a=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,s=this.ChartBorder.GetTopEx(),o=this.ChartBorder.GetBottomEx();this.IsHScreen&&(s=this.ChartBorder.GetRightEx(),o=this.ChartBorder.GetLeftEx());for(var h=[],l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<t;++l,++u,e+=a+i){var c=this.Data.Data[l];if(h[l]=null,n.JSCommonSplit_IFrameSplitOperator.IsNumber(c)&&!(c<=0)){var C=this.ChartFrame.GetXFromIndex(u);this.ChartFrame.GetYFromData(c.Value);this.IsHScreen?h[l]={Line:{X:o,Y:C},Line2:{X:s,Y:C}}:h[l]={Line:{X:C,Y:s},Line2:{X:C,Y:o}}}}this.DrawBG(h)},this.DrawBG=function(t){var e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=(a+e)/2,r=!0,n=0,s=[],o=null;for(var h in t){var l=t[h];if(!l||o&&l.Color!=o){if(n>0){for(var u=s.length-1;u>=0;--u){var c=s[u];this.IsHScreen?(this.Canvas.lineTo(c.Line2.X,c.Line2.Y+i),this.Canvas.lineTo(c.Line2.X,c.Line2.Y-i)):(this.Canvas.lineTo(c.Line2.X+i,c.Line2.Y),this.Canvas.lineTo(c.Line2.X-i,c.Line2.Y))}this.Canvas.closePath(),this.Canvas.fill()}r=!0,n=0,s=[],o=null}l&&(r?(this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(l.Line.X,l.Line.Y-i),this.Canvas.lineTo(l.Line.X,l.Line.Y+i)):(this.Canvas.moveTo(l.Line.X-i,l.Line.Y),this.Canvas.lineTo(l.Line.X+i,l.Line.Y)),r=!1,o=l.Color):this.IsHScreen?(this.Canvas.lineTo(l.Line.X,l.Line.Y-i),this.Canvas.lineTo(l.Line.X,l.Line.Y+i)):(this.Canvas.lineTo(l.Line.X-i,l.Line.Y),this.Canvas.lineTo(l.Line.X+i,l.Line.Y)),s.push(l),++n)}if(n>0){for(u=s.length-1;u>=0;--u){c=s[u];this.IsHScreen?(this.Canvas.lineTo(c.Line2.X,c.Line2.Y+i),this.Canvas.lineTo(c.Line2.X,c.Line2.Y-i)):(this.Canvas.lineTo(c.Line2.X+i,c.Line2.Y),this.Canvas.lineTo(c.Line2.X-i,c.Line2.Y))}this.Canvas.closePath(),this.Canvas.fill()}},this.GetMaxMin=function(){return{Min:null,Max:null}}}function N(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.WidthDiv=.2,this.LockCount=10,this.BGColor=r.JSCommonResource_Global_JSChartResource.LockBGColor,this.TextColor=r.JSCommonResource_Global_JSChartResource.LockTextColor,this.Font=r.JSCommonResource_Global_JSChartResource.DefaultTextFont,this.Title="\ud83d\udd12\u5f00\u901a\u6743\u9650",this.LockRect=null,this.LockID,this.Callback,this.IndexName,this.Draw=function(){if(this.LockRect=null,this.NotSupportMessage)this.DrawNotSupportmessage();else if(!0!==this.ChartFrame.IsHScreen){var t=this.ChartBorder.GetRight(),e=0;if(null!=this.ChartFrame.Data){var a=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth;t=this.ChartBorder.GetLeft()+i/2+2;for(var r=this.ChartBorder.GetRight(),n=this.ChartFrame.XPointCount,s=this.ChartFrame.Data.DataOffset,o=0;s<this.ChartFrame.Data.Data.length&&o<n;++s,++o,t+=a+i){var h=this.ChartFrame.Data.Data[s];if(null!=h.Open&&null!=h.High&&null!=h.Low&&null!=h.Close){var l=t+a;if(l>r)break}}e=(a+i)*this.LockCount}0==e&&(e=(t-this.ChartBorder.GetLeft())*this.WidthDiv);var u=t-e;u<this.ChartBorder.GetLeft()&&(u=this.ChartBorder.GetLeft());var c=this.ChartBorder.GetBottom()-this.ChartBorder.GetTop(),C=this.ChartBorder.GetRight()-u;this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(u,this.ChartBorder.GetTop(),C,c);var m=u+C/2,f=this.ChartBorder.GetTop()+c/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.Title,m,f),this.LockRect={Left:u,Top:this.ChartBorder.GetTop(),Width:C,Heigh:c}}else this.HScreenDraw()},this.HScreenDraw=function(){var t=this.ChartBorder.GetBottom(),e=0;if(null!=this.ChartFrame.Data){var a=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth;t=this.ChartBorder.GetTop()+i/2+2;for(var r=this.ChartBorder.GetBottom(),n=this.ChartFrame.XPointCount,s=this.ChartFrame.Data.DataOffset,o=0;s<this.ChartFrame.Data.Data.length&&o<n;++s,++o,t+=a+i){var h=this.ChartFrame.Data.Data[s];if(null!=h.Open&&null!=h.High&&null!=h.Low&&null!=h.Close){var l=t+a;if(l>r)break}}e=(a+i)*this.LockCount}0==e&&(e=(t-this.ChartBorder.GetTop())*this.WidthDiv);var u=t-e;u<this.ChartBorder.GetTop()&&(u=this.ChartBorder.GetTop());var c=this.ChartBorder.GetRight()-this.ChartBorder.GetLeft(),C=this.ChartBorder.GetBottom()-u;this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(this.ChartBorder.GetLeft(),u,c,C);var m=this.ChartBorder.GetLeft()+c/2,f=u+C/2;this.Canvas.save(),this.Canvas.translate(m,f),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.Title,0,0),this.Canvas.restore(),this.LockRect={Left:this.ChartBorder.GetLeft(),Top:u,Width:c,Heigh:C}},this.GetTooltipData=function(t,e,a){return null!=this.LockRect&&(!!this.IsPointInRect(t,e,this.LockRect.Left,this.LockRect.Top,this.LockRect.Width,this.LockRect.Heigh)&&(a.Data={ID:this.LockID,Callback:this.Callback,IndexName:this.IndexName},a.ChartPaint=this,!0))},this.IsPointInRect=function(t,e,a,i,r,n){return t>a&&t<a+r&&e>i&&e<i+n}}function _(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.UpColor=r.JSCommonResource_Global_JSChartResource.UpBarColor,this.DownColor=r.JSCommonResource_Global_JSChartResource.DownBarColor,this.HistoryData,this.KLineDrawType=0,this.ClassName="ChartVolStick",this.MinBarWidth=r.JSCommonResource_Global_JSChartResource.MinKLineBarWidth,this.Draw=function(){if(!0!==this.ChartFrame.IsHScreen){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetLeft()+e/2+2,i=this.ChartBorder.GetRight(),r=this.ChartFrame.XPointCount,n=this.ChartFrame.GetYFromData(0);if(t>=this.MinBarWidth){n=H(n);for(var s=this.Data.DataOffset,o=0;s<this.Data.Data.length&&o<r;++s,++o,a+=t+e){var h=this.Data.Data[s],l=this.HistoryData.Data[s];if(null!=h&&null!=l){var u=a,c=a+t;if(c>i)break;var C=this.ChartFrame.GetYFromData(h),m=!1;l.Close>=l.Open?(this.Canvas.fillStyle=this.UpColor,m=!0):this.Canvas.fillStyle=this.DownColor;var f=H(n-C);C=n-f,!m||1!=this.KLineDrawType&&2!=this.KLineDrawType&&3!=this.KLineDrawType?this.Canvas.fillRect(H(u),C,H(t),f):(this.Canvas.strokeStyle=this.UpColor,this.Canvas.beginPath(),this.Canvas.rect(V(u),V(C),H(t),f),this.Canvas.stroke())}}}else for(s=this.Data.DataOffset,o=0;s<this.Data.Data.length&&o<r;++s,++o,a+=t+e){h=this.Data.Data[s],l=this.HistoryData.Data[s];if(null!=h&&null!=l){C=this.ChartFrame.GetYFromData(h);var d=this.ChartFrame.GetXFromIndex(o);if(d>i)break;l.Close>l.Open?this.Canvas.strokeStyle=this.UpColor:this.Canvas.strokeStyle=this.DownColor;d=this.ChartFrame.GetXFromIndex(o);this.Canvas.beginPath(),this.Canvas.moveTo(V(d),C),this.Canvas.lineTo(V(d),n),this.Canvas.stroke()}}}else this.HScreenDraw()},this.HScreenDraw=function(){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetTop()+e/2+2,i=this.ChartBorder.GetBottom(),r=this.ChartFrame.XPointCount,n=this.ChartFrame.GetYFromData(0);if(t>=this.MinBarWidth){n=H(n);for(var s=this.Data.DataOffset,o=0;s<this.Data.Data.length&&o<r;++s,++o,a+=t+e){var h=this.Data.Data[s],l=this.HistoryData.Data[s];if(null!=h&&null!=l){var u=a,c=a+t;if(c>i)break;var C=this.ChartFrame.GetYFromData(h),m=!1;l.Close>=l.Open?(m=!0,this.Canvas.fillStyle=this.UpColor):this.Canvas.fillStyle=this.DownColor;var f=H(C-n);!m||1!=this.KLineDrawType&&2!=this.KLineDrawType&&3!=this.KLineDrawType?this.Canvas.fillRect(n,H(u),f,H(t)):(this.Canvas.strokeStyle=this.UpColor,this.Canvas.beginPath(),this.Canvas.rect(V(n),V(u),f,H(t)),this.Canvas.stroke())}}}else for(s=this.Data.DataOffset,o=0;s<this.Data.Data.length&&o<r;++s,++o,a+=t+e){h=this.Data.Data[s],l=this.HistoryData.Data[s];if(null!=h&&null!=l){C=this.ChartFrame.GetYFromData(h);var d=this.ChartFrame.GetXFromIndex(o);if(d>i)break;l.Close>l.Open?this.Canvas.strokeStyle=this.UpColor:this.Canvas.strokeStyle=this.DownColor;d=this.ChartFrame.GetXFromIndex(o);this.Canvas.beginPath(),this.Canvas.moveTo(C,V(d)),this.Canvas.lineTo(n,V(d)),this.Canvas.stroke()}}},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:0,Max:null},a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];null==e.Max&&(e.Max=r),e.Max<r&&(e.Max=r)}return e}}function w(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.FirstColor=r.JSCommonResource_Global_JSChartResource.Index.LineColor[0],this.SecondColor=r.JSCommonResource_Global_JSChartResource.Index.LineColor[1],this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else{for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount,i=this.ChartBorder.GetLeft()+e/2+2,r=0,n=0,s=0,o=[],h=[],l=0,u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<a;++u,++c,i+=t+e){var C=this.Data.Data[u];null!=C&&null!=C.Value&&null!=C.Value2&&(r=this.ChartFrame.GetXFromIndex(c),n=this.ChartFrame.GetYFromData(C.Value),s=this.ChartFrame.GetYFromData(C.Value2),o[l]={x:r,y:n},h[l]={x:r,y:s},l++)}if(o.length>1){this.Canvas.save(),this.Canvas.beginPath();for(u=0;u<o.length;++u)0==u?this.Canvas.moveTo(o[u].x,o[u].y):this.Canvas.lineTo(o[u].x,o[u].y);for(c=h.length-1;c>=0;--c)this.Canvas.lineTo(h[c].x,h[c].y);this.Canvas.closePath(),this.Canvas.strokeStyle="rgba(255,255,255,0)",this.Canvas.stroke(),this.Canvas.clip(),this.Canvas.beginPath(),this.Canvas.moveTo(o[0].x,this.ChartBorder.GetBottom());for(u=0;u<o.length;++u)this.Canvas.lineTo(o[u].x,o[u].y);this.Canvas.lineTo(o[o.length-1].x,this.ChartBorder.GetBottom()),this.Canvas.closePath(),this.Canvas.fillStyle=this.FirstColor,this.Canvas.fill(),this.Canvas.beginPath(),this.Canvas.moveTo(h[0].x,this.ChartBorder.GetBottom());for(u=0;u<h.length;++u)this.Canvas.lineTo(h[u].x,h[u].y);this.Canvas.lineTo(h[h.length-1].x,this.ChartBorder.GetBottom()),this.Canvas.closePath(),this.Canvas.fillStyle=this.SecondColor,this.Canvas.fill(),this.Canvas.restore()}}},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:null,Max:null},a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];if(null!=r&&null!=r.Value&&null!=r.Value2){var n=r.Value>r.Value2?r.Value:r.Value2,s=r.Value<r.Value2?r.Value:r.Value2;(null==e.Max||e.Max<n)&&(e.Max=n),(null==e.Min||e.Min>s)&&(e.Min=s)}}return e}}function b(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.Draw=function(){if(!this.Data||!this.Data.Data||!(this.Data.Data.length>0))return this.DrawEmptyData();var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),a=this.ChartBorder.GetTop(),i=(this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()),r=this.ChartBorder.GetHeight(),n=i/4*.8;this.Canvas.save(),this.Canvas.translate(t+n,a+r/2);var s=0;for(var o in this.Data.Data)s+=this.Data.Data[o].Value;var h=1.5*Math.PI,l=h,u=h;for(var c in this.Data.Data){var C=this.Data.Data[c],m=C.Value/s;this.Canvas.beginPath(),this.Canvas.moveTo(0,0),u+=2*m*Math.PI,this.Canvas.strokeStyle="white",this.Canvas.fillStyle=C.Color,this.Canvas.arc(0,0,n,l,u),this.Canvas.fill(),this.Canvas.closePath(),this.Canvas.stroke(),l+=2*m*Math.PI}this.Canvas.restore();var f=t+i/2+5,d=a;this.Canvas.textBaseline="bottom",this.Canvas.font="12px \u5fae\u8f6f\u96c5\u9ed1";for(var D=0,p=0;D<this.Data.Data.length;++D){var S=this.Data.Data[D];if(S.Text&&(this.Canvas.fillStyle=S.Color,this.Canvas.fillRect(f,d-15,13,13),this.Canvas.fillStyle="rgb(102,102,102)",this.Canvas.fillText(S.Text,f+16,d),d+=17,d>a+r/2+n)){if(++p,p>=2)break;d=a,f=e-i/4+5}}},this.DrawEmptyData=function(){e("log","[ChartPie::DrawEmptyData]"," at umychart.uniapp/umychart.chartpaint.wechat.js:4311");var t=this.ChartBorder.GetLeft(),a=(this.ChartBorder.GetRight(),this.ChartBorder.GetTop()),i=(this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()),r=this.ChartBorder.GetHeight(),n=i/4*.8;this.Canvas.save(),this.Canvas.translate(t+n,a+r/2),this.Canvas.beginPath(),this.Canvas.fillStyle="rgb(211,211,211)",this.Canvas.strokeStyle="white",this.Canvas.arc(0,0,.8*n,0,2*Math.PI),this.Canvas.fill(),this.Canvas.closePath(),this.Canvas.stroke(),this.Canvas.restore()}}function O(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.BGColor="white",this.TextHeight=25,this.DrawEmptyData=function(){e("log","[ChartCircle::DrawEmptyData]"," at umychart.uniapp/umychart.chartpaint.wechat.js:4353")},this.Draw=function(){if(!this.Data||!this.Data.Data||!(this.Data.Data.length>0))return this.DrawEmptyData();var t=this.ChartBorder.GetLeft(),e=(this.ChartBorder.GetRight(),this.ChartBorder.GetTop()),a=this.ChartBorder.GetBottom(),i=this.ChartBorder.GetWidth(),r=this.ChartBorder.GetHeight(),n=this.TextHeight,s=i-n;s>r-n&&(s=r-n);var o=(s-n)/2;this.Canvas.save(),this.Canvas.translate(t+i/2,e+r/2-n/2);var h=0;for(var l in this.Data.Data)h+=this.Data.Data[l].Value;var u=1.5*Math.PI,c=u,C=u;for(var m in this.Data.Data){var f=this.Data.Data[m],d=f.Value/h;this.Canvas.beginPath(),this.Canvas.moveTo(0,0),C+=2*d*Math.PI,this.Canvas.strokeStyle="white",this.Canvas.fillStyle=f.Color,this.Canvas.arc(0,0,o,c,C),this.Canvas.fill(),this.Canvas.closePath(),this.Canvas.stroke(),c+=2*d*Math.PI}this.Canvas.beginPath(),this.Canvas.fillStyle=this.BGColor,this.Canvas.arc(0,0,.5*o,0,2*Math.PI),this.Canvas.fill(),this.Canvas.closePath(),this.Canvas.stroke(),this.Canvas.restore(),this.Canvas.restore();var D=t,p=e+r/2-n/2+o+5+20;this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.font="14px \u5fae\u8f6f\u96c5\u9ed1";for(var S=0,v=0,g=0;v<this.Data.Data.length;++v){var T=this.Data.Data[v];if(T.Text){if(this.Canvas.fillStyle=T.Color,g%2==0?(D=t+i/2-10,S=this.Canvas.measureText(T.Text).width,D=D-S-16,this.Canvas.fillRect(D,p-15,13,13),this.Canvas.fillStyle="rgb(102,102,102)",this.Canvas.fillText(T.Text,D+16,p)):(D=t+i/2+10+10,this.Canvas.fillRect(D,p-15,13,13),this.Canvas.fillStyle="rgb(102,102,102)",this.Canvas.fillText(T.Text,D+16,p),p+=20),p>a)break;++g}}}}function R(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ImageData=null,this.Left,this.Top,this.Width,this.Height,this.ImageWidth,this.ImageHeight,this.DefaultColor=[217,222,239],this.Color=[{Name:"\u6d77\u5357",Color:"rgb(217,222,223)"},{Name:"\u5185\u8499\u53e4",Color:"rgb(217,222,225)"},{Name:"\u65b0\u7586",Color:"rgb(217,222,226)"},{Name:"\u9752\u6d77",Color:"rgb(217,222,227)"},{Name:"\u897f\u85cf",Color:"rgb(217,222,228)"},{Name:"\u4e91\u5357",Color:"rgb(217,222,229)"},{Name:"\u9ed1\u9f99\u6c5f",Color:"rgb(217,222,230)"},{Name:"\u5409\u6797",Color:"rgb(217,222,231)"},{Name:"\u8fbd\u5b81",Color:"rgb(217,222,232)"},{Name:"\u6cb3\u5317",Color:"rgb(217,222,233)"},{Name:"\u5c71\u4e1c",Color:"rgb(217,222,234)"},{Name:"\u6c5f\u82cf",Color:"rgb(217,222,235)"},{Name:"\u6d59\u6c5f",Color:"rgb(217,222,236)"},{Name:"\u798f\u5efa",Color:"rgb(217,222,237)"},{Name:"\u5e7f\u4e1c",Color:"rgb(217,222,238)"},{Name:"\u5e7f\u897f",Color:"rgb(217,222,239)"},{Name:"\u8d35\u5dde",Color:"rgb(217,222,240)"},{Name:"\u6e56\u5357",Color:"rgb(217,222,241)"},{Name:"\u6c5f\u897f",Color:"rgb(217,222,242)"},{Name:"\u5b89\u5fbd",Color:"rgb(217,222,243)"},{Name:"\u6e56\u5317",Color:"rgb(217,222,244)"},{Name:"\u91cd\u5e86",Color:"rgb(217,222,245)"},{Name:"\u56db\u5ddd",Color:"rgb(217,222,246)"},{Name:"\u7518\u8083",Color:"rgb(217,222,247)"},{Name:"\u9655\u897f",Color:"rgb(217,222,248)"},{Name:"\u5c71\u897f",Color:"rgb(217,222,249)"},{Name:"\u6cb3\u5357",Color:"rgb(217,222,250)"}],this.Draw=function(){var t=this.ChartBorder.GetLeft()+1,a=(this.ChartBorder.GetRight(),this.ChartBorder.GetTop()+1),i=(this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()-2),r=this.ChartBorder.GetHeight()-2,n=CHINA_MAP_IMAGE.width,s=CHINA_MAP_IMAGE.height,o=n,h=s;if(r<h||i<o)this.ImageData=null;else if(this.Left==t&&this.Top==a&&this.Width==i&&this.Height==r&&this.ImageWidth==n&&this.ImageHeight==s||(this.ImageData=null,this.ImageWidth=n,this.ImageHeight=s,this.Left=t,this.Top=a,this.Width=i,this.Height=r,e("log",n,s," at umychart.uniapp/umychart.chartpaint.wechat.js:4539")),null==this.ImageData){this.Canvas.drawImage(CHINA_MAP_IMAGE,0,0,n,s,t,a,o,h),this.ImageData=this.Canvas.getImageData(t,a,o,h);var l,u=new Set,c=new Map,C=new Map;if(this.Data.length>0)for(var m in this.Data){var f=this.Data[m];C.set(f.Name,f.Color)}for(var d in e("log",this.Data," at umychart.uniapp/umychart.chartpaint.wechat.js:4560"),this.Color){var D=this.Color[d];C.has(D.Name)?c.set(D.Color,C.get(D.Name)):u.add(D.Color)}for(var p=0;p<this.ImageData.data.length;p+=4)if(l="rgb("+this.ImageData.data[p]+","+this.ImageData.data[p+1]+","+this.ImageData.data[p+2]+")",u.has(l))this.ImageData.data[p]=this.DefaultColor[0],this.ImageData.data[p+1]=this.DefaultColor[1],this.ImageData.data[p+2]=this.DefaultColor[2];else if(c.has(l)){var S=c.get(l);this.ImageData.data[p]=S[0],this.ImageData.data[p+1]=S[1],this.ImageData.data[p+2]=S[2]}this.Canvas.clearRect(t,a,o,h),this.Canvas.putImageData(this.ImageData,t,a,0,0,o,h)}else this.Canvas.putImageData(this.ImageData,t,a,0,0,o,h)}}function P(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.BorderPoint=[],this.DataPoint=[],this.CenterPoint={},this.StartAngle=0,this.Color="rgb(198,198,198)",this.AreaColor="rgba(242,154,118,0.4)",this.AreaLineColor="rgb(242,154,118)",this.TitleFont="24px \u5fae\u8f6f\u96c5\u9ed1",this.TitleColor="rgb(102,102,102)",this.BGColor=["rgb(255,255,255)","rgb(224,224,224)"],this.DrawBorder=function(){if(!(this.BorderPoint.length<=0)){this.Canvas.font=this.TitleFont,this.Canvas.strokeStyle=this.Color;var t=[1,.8,.6,.4,.2];for(var e in t){var a=t[e],i=!0;for(var r in this.BorderPoint){var n=this.BorderPoint[r];n.X=this.CenterPoint.X+n.Radius*Math.cos(n.Angle*Math.PI/180)*a,n.Y=this.CenterPoint.Y+n.Radius*Math.sin(n.Angle*Math.PI/180)*a,i?(this.Canvas.beginPath(),this.Canvas.moveTo(n.X,n.Y),i=!1):this.Canvas.lineTo(n.X,n.Y),0==e&&this.DrawText(n)}this.Canvas.closePath(),this.Canvas.stroke(),this.Canvas.fillStyle=this.BGColor[e%2==0?0:1],this.Canvas.fill()}for(var s in this.Canvas.beginPath(),this.BorderPoint){n=this.BorderPoint[s];n.X=this.CenterPoint.X+n.Radius*Math.cos(n.Angle*Math.PI/180),n.Y=this.CenterPoint.Y+n.Radius*Math.sin(n.Angle*Math.PI/180),this.Canvas.moveTo(this.CenterPoint.X,this.CenterPoint.Y),this.Canvas.lineTo(n.X,n.Y)}this.Canvas.stroke()}},this.DrawArea=function(){if(this.DataPoint&&!(this.DataPoint.length<=0)){this.Canvas.fillStyle=this.AreaColor,this.Canvas.strokeStyle=this.AreaLineColor,this.Canvas.beginPath();var t=!0;for(var e in this.DataPoint){var a=this.DataPoint[e];t?(this.Canvas.beginPath(),this.Canvas.moveTo(a.X,a.Y),t=!1):this.Canvas.lineTo(a.X,a.Y)}this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke()}},this.DrawText=function(t){if(t.Text){this.Canvas.fillStyle=this.TitleColor;var e=t.X,a=t.Y;t.Angle>0&&t.Angle<45?(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e+=2):t.Angle>=0&&t.Angle<90?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",e+=2):t.Angle>=90&&t.Angle<135||t.Angle>=135&&t.Angle<180?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",e-=2):t.Angle>=180&&t.Angle<225?(this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",e-=2):t.Angle>=225&&t.Angle<=270?(this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom"):t.Angle>270&&t.Angle<315?(this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",e+=2):(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e+=2),this.Canvas.fillText(t.Text,e,a)}},this.Draw=function(){this.BorderPoint=[],this.DataPoint=[],this.InternalBorderPoint=[],this.CenterPoint={},this.Data&&this.Data.Data&&this.Data.Data.length>0?this.CalculatePoints(this.Data.Data):this.CalculatePoints(null),this.DrawBorder(),this.DrawArea()},this.CalculatePoints=function(t){for(var e=this.ChartBorder.GetLeft(),a=(this.ChartBorder.GetRight(),this.ChartBorder.GetTop()),i=(this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()),r=this.ChartBorder.GetHeight(),n={X:e+i/2,Y:a+r/2},s=Math.min(i/2,r/2)-2,o=Math.max(5,t?t.length:0),h=360/o,l=0;l<o;++l){var u={Index:l,Radius:s,Angle:l*h+this.StartAngle},c=u.Angle;if(t&&l<t.length){var C=t[l],m={Index:l,Text:C.Text};if(u.Text=C.Name,C.Value){var f=C.Value;f>=1&&(f=1);var d=s*f;m.X=n.X+d*Math.cos(c*Math.PI/180),m.Y=n.Y+d*Math.sin(c*Math.PI/180)}else m.X=n.X,m.Y=n.Y;this.DataPoint.push(m)}this.BorderPoint.push(u)}this.CenterPoint=n}}function B(){this.Frame,this.Canvas,this.HPenColor=r.JSCommonResource_Global_JSChartResource.CorssCursorHPenColor,this.HPenType=0,this.VPenColor=r.JSCommonResource_Global_JSChartResource.CorssCursorVPenColor,this.VPenType=0,this.Font=r.JSCommonResource_Global_JSChartResource.CorssCursorTextFont,this.TextColor=r.JSCommonResource_Global_JSChartResource.CorssCursorTextColor,this.TextBGColor=r.JSCommonResource_Global_JSChartResource.CorssCursorBGColor,this.TextHeight=15,this.LastPoint,this.CursorIndex,this.PointX,this.PointY,this.StringFormatX,this.StringFormatY,this.IsShow=!0,this.ShowTextMode={Left:1,Right:1,Bottom:1},this.IsShowCorss=!0,this.IsShowClose=!1,this.Close=null,this.GetCloseYPoint=function(t){if(this.Close=null,!this.StringFormatX.Data)return null;var e=this.StringFormatX.Data;if(!e.Data||e.Data.length<=0)return null;var a=e.DataOffset+t;if(a>=e.Data.length&&(a=e.Data.length-1),a<0)return null;var i=e.Data[a];if(!i)return null;this.Close=i.Close;var r=this.Frame.GetYFromData(this.Close);return r},this.Draw=function(){if(this.LastPoint){var t=this.LastPoint.X,e=this.LastPoint.Y,a=!1,r=new i.JSCommon_Rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight());if(a=r.IsPointIn(t,e),this.PointY=null,this.PointY,a)if(!0!==this.Frame.IsHScreen){var n=this.Frame.ChartBorder.GetLeft(),s=this.Frame.ChartBorder.GetRight(),o=this.Frame.ChartBorder.GetTopTitle(),h=this.Frame.ChartBorder.GetBottom(),l=this.Frame.ChartBorder.Right,u=this.Frame.ChartBorder.GetChartWidth();if(t=this.Frame.GetXFromIndex(this.CursorIndex),this.IsShowClose){var c=this.GetCloseYPoint(this.CursorIndex);null!=c&&(e=c)}if(this.PointY=[[n,e],[s,e]],this.PointX=[[t,o],[t,h]],this.IsShowCorss){if(1!=this.HPenType&&0!=this.HPenType||(this.Canvas.strokeStyle=this.HPenColor,0==this.HPenType&&this.Canvas.setLineDash([3,2]),this.Canvas.beginPath(),this.Canvas.moveTo(n,V(e)),this.Canvas.lineTo(s,V(e)),this.Canvas.stroke(),this.Canvas.setLineDash([])),this.Canvas.save(),this.Canvas.strokeStyle=this.VPenColor,0==this.VPenType)this.Canvas.setLineDash([3,2]);else if(2==this.VPenType){var C=this.Frame.SubFrame[0].Frame.DataWidth;C>2&&(this.Canvas.lineWidth=C)}if(this.Canvas.beginPath(),this.Frame.SubFrame.length>0)for(var m in this.Frame.SubFrame){var f=this.Frame.SubFrame[m].Frame;o=f.ChartBorder.GetTopTitle(),h=f.ChartBorder.GetBottom(),this.Canvas.moveTo(V(t),o),this.Canvas.lineTo(V(t),h)}else this.Canvas.moveTo(V(t),o),this.Canvas.lineTo(V(t),h);this.Canvas.stroke(),this.Canvas.restore()}this.Frame.GetXData(t);var d={},D=this.Frame.GetYData(e,d);if(this.StringFormatY.RValue=d.RightYValue,this.IsShowClose&&null!=this.Close&&(D=this.Close),this.StringFormatX.Value=this.CursorIndex,this.StringFormatY.Value=D,this.StringFormatY.FrameID=d.FrameID,(1==this.ShowTextMode.Left&&this.Frame.ChartBorder.Left>=30||2==this.ShowTextMode.Left||1==this.ShowTextMode.Right&&this.Frame.ChartBorder.Right>=30||2==this.ShowTextMode.Right)&&this.StringFormatY.Operator()){var p=this.StringFormatY.Text;this.Canvas.font=this.Font;var S=this.Canvas.measureText(p).width+4;if(this.Frame.ChartBorder.Left>=30&&1==this.ShowTextMode.Left?(this.Canvas.fillStyle=this.TextBGColor,n<S?(this.Canvas.fillRect(2,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(p,4,e,S)):(this.Canvas.fillRect(n-2,e-this.TextHeight/2,-S,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(p,n-4,e,S))):2==this.ShowTextMode.Left&&(this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(n,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(p,n+2,e,S)),this.StringFormatY.RText){p=this.StringFormatY.RText;S=this.Canvas.measureText(p).width+4}if(this.Frame.ChartBorder.Right>=30&&1==this.ShowTextMode.Right)this.Canvas.fillStyle=this.TextBGColor,l>S?(this.Canvas.fillRect(s+2,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(p,s+4,e,S)):(this.Canvas.fillRect(u-2-S,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(p,u-4,e,S));else if(2==this.ShowTextMode.Right){this.Canvas.fillStyle=this.TextBGColor;var v=s-S;this.Canvas.fillRect(v,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(p,v+2,e,S)}}if(1==this.ShowTextMode.Bottom&&this.StringFormatX.Operator()){p=this.StringFormatX.Text;this.Canvas.font=this.Font,this.Canvas.fillStyle=this.TextBGColor;S=this.Canvas.measureText(p).width+4;t-S/2<3?(this.Canvas.fillRect(t-1,h+2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="top",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(p,t+1,h+2,S)):s-n-t<S?(this.Canvas.fillRect(t-S,h+2,S,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="top",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(p,t-1,h+2,S)):(this.Canvas.fillRect(t-S/2,h+2,S,this.TextHeight),this.Canvas.textAlign="center",this.Canvas.textBaseline="top",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(p,t,h+2,S))}}else this.HScreenDraw()}},this.HScreenDraw=function(){var t=this.LastPoint.X,e=this.LastPoint.Y;e=this.Frame.GetXFromIndex(this.CursorIndex);var a=this.Frame.ChartBorder.GetLeft(),i=this.Frame.ChartBorder.GetRightEx(),r=this.Frame.ChartBorder.GetTop(),n=this.Frame.ChartBorder.GetBottom(),s=this.Frame.ChartBorder.Bottom;if(this.PointY=[[a,e],[i,e]],this.PointX=[[t,r],[t,n]],this.IsShowCorss){if(this.Canvas.save(),this.Canvas.strokeStyle=this.HPenColor,0==this.HPenType&&this.Canvas.setLineDash([3,2]),this.Canvas.beginPath(),this.Canvas.moveTo(V(t),r),this.Canvas.lineTo(V(t),n),this.Canvas.stroke(),this.Canvas.restore(),this.Canvas.save(),this.Canvas.strokeStyle=this.VPenColor,0==this.VPenType)this.Canvas.setLineDash([3,2]);else if(2==this.VPenType){var o=this.Frame.SubFrame[0].Frame.DataWidth;o>2&&(this.Canvas.lineWidth=o)}if(this.Canvas.beginPath(),this.Frame.SubFrame.length>0)for(var h in this.Frame.SubFrame){var l=this.Frame.SubFrame[h].Frame;this.Canvas.moveTo(l.ChartBorder.GetLeft(),V(e)),this.Canvas.lineTo(l.ChartBorder.GetRightTitle(),V(e))}else this.Canvas.moveTo(a,V(e)),this.Canvas.lineTo(i,V(e));this.Canvas.stroke(),this.Canvas.restore()}var u=this.Frame.GetXData(e),c={},C=this.Frame.GetYData(t,c);if(this.StringFormatX.Value=u,this.StringFormatY.Value=C,this.StringFormatY.FrameID=c.FrameID,(1==this.ShowTextMode.Left&&this.Frame.ChartBorder.Top>=30||2==this.ShowTextMode.Left||1==this.ShowTextMode.Right&&this.Frame.ChartBorder.Bottom>=30||2==this.ShowTextMode.Right)&&this.StringFormatY.Operator()){var m=this.StringFormatY.Text;this.Canvas.font=this.Font;var f=this.Canvas.measureText(m).width+4;if(this.Frame.ChartBorder.Top>=30&&1==this.ShowTextMode.Left){var d=t,D=r;this.Canvas.save(),this.Canvas.translate(d,D),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,r>=f?(this.Canvas.fillRect(-f,-this.TextHeight/2,f,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,-2,0,f)):(this.Canvas.fillRect(f-r,-this.TextHeight/2,-f,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,f-r-2,0,f)),this.Canvas.restore()}else if(2==this.ShowTextMode.Left){d=t,D=r;this.Canvas.save(),this.Canvas.translate(d,D),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(0,-this.TextHeight/2,f,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,2,0,f),this.Canvas.restore()}if(this.Frame.ChartBorder.Bottom>=30&&1==this.ShowTextMode.Right){d=t,D=n;this.Canvas.save(),this.Canvas.translate(d,D),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,s>f?(this.Canvas.fillRect(0,-this.TextHeight/2,f,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,2,0,f)):(this.Canvas.fillRect(s-f,-this.TextHeight/2,f,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,s-f+2,0,f)),this.Canvas.restore()}else if(2==this.ShowTextMode.Right){d=t,D=n;this.Canvas.save(),this.Canvas.translate(d,D),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(0,-this.TextHeight/2,-f,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,-2,0,f),this.Canvas.restore()}}if(1===this.ShowTextMode.Bottom&&this.StringFormatX.Operator()){m=this.StringFormatX.Text;this.Canvas.font=this.Font,this.Canvas.fillStyle=this.TextBGColor;f=this.Canvas.measureText(m).width+4;if(e-f/2<3){d=a,D=e;this.Canvas.save(),this.Canvas.translate(d,D),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillRect(0,0,f,this.TextHeight),this.Canvas.textAlign="center",this.Canvas.textBaseline="top",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,0,0,f),this.Canvas.restore()}else{d=a,D=e;this.Canvas.save(),this.Canvas.translate(d,D),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillRect(-f/2,0,f,this.TextHeight),this.Canvas.textAlign="center",this.Canvas.textBaseline="top",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(m,0,0,f),this.Canvas.restore()}}}}function G(){this.Frame,this.Canvas,this.Data,this.Symbol,this.HQChart,this.HPenType=0,this.VPenType=0,this.LineDash=r.JSCommonResource_Global_JSChartResource.DepthCorss.LineDash,this.AskColor=r.JSCommonResource_Global_JSChartResource.DepthCorss.AskColor.Line,this.BidColor=r.JSCommonResource_Global_JSChartResource.DepthCorss.BidColor.Line,this.LineWidth=r.JSCommonResource_Global_JSChartResource.DepthCorss.LineWidth,this.IsShowTooltip=!0,this.Tooltip={LineHeight:r.JSCommonResource_Global_JSChartResource.DepthCorss.Tooltip.LineHeight,Border:{Top:r.JSCommonResource_Global_JSChartResource.DepthCorss.Tooltip.Border.Top,Left:r.JSCommonResource_Global_JSChartResource.DepthCorss.Tooltip.Border.Left,Bottom:r.JSCommonResource_Global_JSChartResource.DepthCorss.Tooltip.Border.Bottom,Center:r.JSCommonResource_Global_JSChartResource.DepthCorss.Tooltip.Border.Center},Font:r.JSCommonResource_Global_JSChartResource.DepthCorss.Tooltip.Font,TextColor:r.JSCommonResource_Global_JSChartResource.DepthCorss.Tooltip.TextColor,BGColor:r.JSCommonResource_Global_JSChartResource.DepthCorss.Tooltip.BGColor},this.Font=r.JSCommonResource_Global_JSChartResource.CorssCursorTextFont,this.TextColor=r.JSCommonResource_Global_JSChartResource.CorssCursorTextColor,this.TextBGColor=r.JSCommonResource_Global_JSChartResource.CorssCursorBGColor,this.TextHeight=20,this.LastPoint,this.PointX,this.PointY,this.StringFormatX,this.StringFormatY,this.IsShowCorss=!0,this.IsShow=!0,this.GetVol=function(t,e){if(!this.Data)return null;var a=e?this.Data.Asks:this.Data.Bids;if(!a||!Array.isArray(a)||a.length<=0)return null;for(var i in a){var r=a[i];if(r.Price==t)return r.Vol}return null},this.Draw=function(){if(this.Status=0,this.LastPoint&&this.Data&&this.IsShow){var t=this.LastPoint.X,e=this.LastPoint.Y,a=!1,r=new i.JSCommon_Rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight());if(a=r.IsPointIn(t,e),this.PointY=null,this.PointY,a&&!0!==this.Frame.IsHScreen){var n=this.Frame.ChartBorder.GetLeft(),s=this.Frame.ChartBorder.GetRight(),o=this.Frame.ChartBorder.GetTopTitle(),h=this.Frame.ChartBorder.GetBottom(),l=(this.Frame.ChartBorder.Right,this.Frame.ChartBorder.GetChartWidth(),this.Frame.GetXData(t)),u=this.Frame.GetXFromPrice(l);if(u){var c=this.GetVol(u.Price,u.IsAsk);if(e=this.Frame.GetYFromData(c),u.Vol=c,u.Y=e,this.PointY=[[n,e],[s,e]],this.PointX=[[t,o],[t,h]],this.IsShowCorss){u.IsAsk?this.Canvas.strokeStyle=this.AskColor:this.Canvas.strokeStyle=this.BidColor,this.Canvas.save(),this.Canvas.lineWidth=this.LineWidth;this.Canvas.lineWidth;if(1==this.HPenType||0==this.HPenType){0==this.HPenType&&this.Canvas.setLineDash(this.LineDash);var C=V(e);this.Canvas.beginPath(),this.Canvas.moveTo(n,C),this.Canvas.lineTo(s,C),this.Canvas.stroke(),0==this.HPenType&&this.Canvas.setLineDash([])}0==this.VPenType&&this.Canvas.setLineDash(this.LineDash);var m=V(u.X);this.Canvas.beginPath(),this.Canvas.moveTo(m,o),this.Canvas.lineTo(m,h),this.Canvas.stroke(),0==this.VPenType&&this.Canvas.setLineDash([]),this.Canvas.restore()}if(this.HQChart){var f=this.HQChart.GetEvent(25);f&&f.Callback(f,u,this)}this.IsShowTooltip&&this.DrawTooltip(u)}}}},this.DrawTooltip=function(t){t.Price,t.Vol;var e=this.Tooltip.Border;this.Canvas.font=this.Tooltip.Font;var a=2;this.Symbol&&(a=s.JSCommonCoordinateData.GetfloatPrecision(this.Symbol));var i="\u64ce\u64ce: 9999.99\u4ebf ";a>=5&&(i="\u64ce\u64ce: ".concat(99.99.toFixed(a)," ")),this.Tooltip.Width=this.Canvas.measureText(i).width+e.Left,this.Tooltip.Height=4*this.Tooltip.LineHeight+e.Top+e.Bottom+e.Center;var r=this.Frame.ChartBorder.GetRight(),n=this.Frame.ChartBorder.GetTop(),o=t.X+2,h=t.Y-this.Tooltip.Height-2;o+this.Tooltip.Width>=r&&(o=t.X-this.Tooltip.Width-2),h<n&&(h=t.Y+2),this.Canvas.fillStyle=this.Tooltip.BGColor,this.Canvas.fillRect(o,h,this.Tooltip.Width,this.Tooltip.Height);var l=e.Left+o,u=e.Top+h;this.Canvas.textBaseline="top",this.Canvas.textAlign="left",this.Canvas.fillStyle=this.Tooltip.TextColor,this.Canvas.fillText("\u59d4\u6258\u4ef7",l,u),u+=this.Tooltip.LineHeight,this.Canvas.fillText(t.Price.toFixed(a),l,u),u+=this.Tooltip.LineHeight,u+=e.Center,this.Canvas.fillText("\u7d2f\u8ba1",l,u),u+=this.Tooltip.LineHeight,this.Canvas.fillText(t.Vol.toFixed(4),l,u)}}function k(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ClassName="ChartOrderbookDepth",this.Data=null,this.AskColor={Line:r.JSCommonResource_Global_JSChartResource.DepthChart.AskColor.Line,Area:r.JSCommonResource_Global_JSChartResource.DepthChart.AskColor.Area},this.BidColor={Line:r.JSCommonResource_Global_JSChartResource.DepthChart.BidColor.Line,Area:r.JSCommonResource_Global_JSChartResource.DepthChart.BidColor.Area},this.LineWidth=r.JSCommonResource_Global_JSChartResource.DepthChart.LineWidth,this.Draw=function(){this.Data&&(this.Canvas.save(),this.Canvas.lineWidth=this.LineWidth,this.DrawArea(this.Data.Bids,this.BidColor.Line,this.BidColor.Area,!0),this.DrawArea(this.Data.Asks,this.AskColor.Line,this.AskColor.Area,!1),this.Canvas.restore())},this.DrawArea=function(t,e,a,i){var r=this.ChartFrame.VerticalRange,n=[];for(var s in t){var o=t[s];if(i){if(o.Price<r.Min)break}else if(o.Price>r.Max)break;var h=this.ChartFrame.GetXFromIndex(o.Price),l=this.ChartFrame.GetYFromData(o.Vol);n.push({X:h,Y:l})}if(!(n.length<=1)){var u=this.ChartBorder.GetLeft(),c=this.ChartBorder.GetBottom(),C=this.ChartBorder.GetRight();for(var s in this.Canvas.beginPath(),this.Canvas.moveTo(n[0].X,c),n){o=n[s];this.Canvas.lineTo(o.X,o.Y)}for(var s in this.Canvas.lineTo(i?u:C,n[n.length-1].Y),this.Canvas.lineTo(i?u:C,c),this.Canvas.lineTo(n[0].X,c),this.Canvas.closePath(),this.Canvas.fillStyle=a,this.Canvas.fill(),this.Canvas.beginPath(),this.Canvas.moveTo(n[0].X,c),n){o=n[s];this.Canvas.lineTo(o.X,o.Y)}this.Canvas.lineTo(i?u:C,n[n.length-1].Y),this.Canvas.strokeStyle=e,this.Canvas.stroke()}},this.GetMaxMin=function(){var t={Min:null,Max:null,XMin:null,XMax:null},e=this.ChartFrame.VerticalRange;for(var a in this.Data.Asks){var i=this.Data.Asks[a];if(i.Price>e.Max)break;(null==t.XMin||t.XMin>i.Price)&&(t.XMin=i.Price),(null==t.XMax||t.XMax<i.Price)&&(t.XMax=i.Price),(null==t.Min||t.Min>i.Vol)&&(t.Min=i.Vol),(null==t.Max||t.Max<i.Vol)&&(t.Max=i.Vol)}for(var a in this.Data.Bids){i=this.Data.Bids[a];if(i.Price<e.Min)break;(null==t.XMin||t.XMin>i.Price)&&(t.XMin=i.Price),(null==t.XMax||t.XMax<i.Price)&&(t.XMax=i.Price),(null==t.Min||t.Min>i.Vol)&&(t.Min=i.Vol),(null==t.Max||t.Max<i.Vol)&&(t.Max=i.Vol)}return t}}function V(t){return parseInt(t)+.5}function H(t){return.5+t<<0}t.exports={JSCommonChartPaint:{IChartPaintin:l,ChartKLine:u,ChartLine:C,ChartSubLine:m,ChartSingleText:c,ChartPointDot:f,ChartStick:d,ChartLineStick:D,ChartStickLine:p,ChartOverlayKLine:v,ChartMinuteInfo:A,ChartRectangle:S,ChartMultiText:g,ChartMultiHtmlDom:T,ChartMultiLine:I,ChartBackground:E,ChartBuySell:F,ChartMultiBar:x,ChartMACD:L,ChartLock:N,ChartVolStick:_,ChartBand:w,ChartMinuteVolumBar:y,ChartSplashPaint:M,ChartPie:b,ChartCircle:O,ChartChinaMap:R,ChartRadar:P,ChartCorssCursor:B,DepthChartCorssCursor:G,ChartOrderbookDepth:k},JSCommonChartPaint_IChartPainting:l,JSCommonChartPaint_ChartKLine:u,JSCommonChartPaint_ChartLine:C,JSCommonChartPaint_ChartSubLine:m,JSCommonChartPaint_ChartSingleText:c,JSCommonChartPaint_ChartPointDot:f,JSCommonChartPaint_ChartStick:d,JSCommonChartPaint_ChartLineStick:D,JSCommonChartPaint_ChartStickLine:p,JSCommonChartPaint_ChartBackground:E,JSCommonChartPaint_ChartMinuteVolumBar:y,JSCommonChartPaint_ChartOverlayKLine:v,JSCommonChartPaint_ChartLock:N,JSCommonChartPaint_ChartVolStick:_,JSCommonChartPaint_ChartBand:w,JSCommonChartPaint_ChartPie:b,JSCommonChartPaint_ChartCircle:O,JSCommonChartPaint_ChartChinaMap:R,JSCommonChartPaint_ChartRadar:P,JSCommonChartPaint_ChartMinuteInfo:A,JSCommonChartPaint_ChartRectangle:S,JSCommonChartPaint_ChartMultiText:g,JSCommonChartPaint_ChartMultiLine:I,JSCommonChartPaint_ChartMultiHtmlDom:T,JSCommonChartPaint_ChartMultiBar:x,JSCommonChartPaint_ChartBuySell:F,JSCommonChartPaint_ChartMACD:L,JSCommonChartPaint_ChartCorssCursor:B,JSCommonChartPaint_DepthChartCorssCursor:G,JSCommonChartPaint_ChartOrderbookDepth:k,JSCommonChartPaint_ChartSplashPaint:M}}).call(this,a("0de9")["default"])},"56c3":function(t,e,a){"use strict";a.r(e);var i=a("ccab"),r=a("aa2e");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},"57dc":function(t,e,a){"use strict";(function(e){var i=r(a("eff7"));function r(t){return t&&t.__esModule?t:{default:t}}t.exports={getPeopleList:function(t){var a="/manager/people";return e("log",a," at src/manage.js:5"),(0,i.default)(a,"POST",t,"get_people_list")},changeManagerGrade:function(t){var a="/manager/people/changeMGd";return e("log",a," at src/manage.js:15"),(0,i.default)(a,"POST",t,"change_manager_grade")},changeUserStatus:function(t){var a="/manager/people/changeUst";return e("log",a," at src/manage.js:25"),(0,i.default)(a,"POST",t,"change_user_status")},deleteManager:function(t){var a="/manager/people/deleteM";return e("log",a," at src/manage.js:35"),(0,i.default)(a,"POST",t,"delete_manager")},changePw:function(t){var a="/manager/people/changePw";return e("log",a," at src/manage.js:45"),(0,i.default)(a,"POST",t,"change_password")},getManagerMsg:function(t){var a="/manager/message";return e("log",a," at src/manage.js:55"),(0,i.default)(a,"POST",t,"get_manager_message")},updateManagerMsg:function(t){var a="/manager/updateMsg";return e("log",a," at src/manage.js:65"),(0,i.default)(a,"POST",t,"update_manager_message")}}}).call(this,a("0de9")["default"])},"5a1f":function(t,e,a){"use strict";a.r(e);var i=a("bd66"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"5fe6":function(t,e,a){"use strict";a.r(e);var i=a("21fd"),r=a("762a");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"04ed0f7c",null,!1,i["a"],s);e["default"]=h.exports},6352:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","container loading5"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","shape shape1"),attrs:{_i:1}}),a("view",{staticClass:t._$s(2,"sc","shape shape2"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","shape shape3"),attrs:{_i:3}}),a("view",{staticClass:t._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},"66d9":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("image",{staticClass:t._$s(1,"sc","backimg"),attrs:{src:t._$s(1,"a-src",t.backimg_url),_i:1}}),a("view"),t._$s(3,"i",t.click_cnt<10)?a("view",[a("view",[a("text",{attrs:{_i:5},on:{click:function(e){return t.tap()}}})]),a("view",[a("form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:t._$s(8,"sc","input"),attrs:{disabled:t._$s(8,"a-disabled",t.lock),_i:8},domProps:{value:t._$s(8,"v-model",t.email)},on:{blur:function(e){return t.checkemail()},input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pw,expression:"pw"}],staticClass:t._$s(9,"sc","input"),attrs:{disabled:t._$s(9,"a-disabled",t.lock),_i:9},domProps:{value:t._$s(9,"v-model",t.pw)},on:{blur:function(e){return t.checkpw()},input:function(e){e.target.composing||(t.pw=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.repw,expression:"repw"}],staticClass:t._$s(10,"sc","input"),attrs:{disabled:t._$s(10,"a-disabled",t.lock),_i:10},domProps:{value:t._$s(10,"v-model",t.repw)},on:{blur:function(e){return t.checkrepw()},input:function(e){e.target.composing||(t.repw=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:t._$s(11,"sc","input"),attrs:{disabled:t._$s(11,"a-disabled",t.lock),_i:11},domProps:{value:t._$s(11,"v-model",t.name)},on:{blur:function(e){return t.checkname()},input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pid,expression:"pid"}],staticClass:t._$s(12,"sc","input"),attrs:{disabled:t._$s(12,"a-disabled",t.lock),_i:12},domProps:{value:t._$s(12,"v-model",t.pid)},on:{blur:function(e){return t.checkpid()},input:function(e){e.target.composing||(t.pid=e.target.value)}}}),a("view",{staticClass:t._$s(13,"sc","auth_box"),attrs:{_i:13}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.auth,expression:"auth"}],staticClass:t._$s(14,"sc","auth_code"),attrs:{_i:14},domProps:{value:t._$s(14,"v-model",t.auth)},on:{blur:function(e){return t.checkauth()},input:function(e){e.target.composing||(t.auth=e.target.value)}}}),a("button",{staticClass:t._$s(15,"sc","auth_btn"),attrs:{_i:15},on:{click:function(e){return t.sendauth()}}})])])]),a("view",[a("button",{staticClass:t._$s(17,"sc","button"),attrs:{_i:17},on:{click:function(e){return t.submit()}}})])]):a("view",[a("view",[a("text")]),a("view",[a("form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pw,expression:"pw"}],staticClass:t._$s(23,"sc","input"),attrs:{_i:23},domProps:{value:t._$s(23,"v-model",t.pw)},on:{blur:function(e){return t.checkpw()},input:function(e){e.target.composing||(t.pw=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.repw,expression:"repw"}],staticClass:t._$s(24,"sc","input"),attrs:{_i:24},domProps:{value:t._$s(24,"v-model",t.repw)},on:{blur:function(e){return t.checkrepw()},input:function(e){e.target.composing||(t.repw=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:t._$s(25,"sc","input"),attrs:{_i:25},domProps:{value:t._$s(25,"v-model",t.name)},on:{blur:function(e){return t.checkname()},input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.telno,expression:"telno"}],staticClass:t._$s(26,"sc","input"),attrs:{_i:26},domProps:{value:t._$s(26,"v-model",t.telno)},on:{blur:function(e){return t.checktelno()},input:function(e){e.target.composing||(t.telno=e.target.value)}}})])]),a("view",[a("button",{staticClass:t._$s(28,"sc","button"),attrs:{_i:28},on:{click:function(e){return t.apply()}}})])])])},n=[]},6876:function(t,e,a){"use strict";var i=r(a("eff7"));function r(t){return t&&t.__esModule?t:{default:t}}t.exports={ckemail:function(t){var e="/user/ckemail/"+t;return(0,i.default)(e,"GET",{},"ckemail")},auth:function(t){var e="/user/auth";return(0,i.default)(e,"POST",t,"auth_user")},reauth:function(t){var e="/user/reauth";return(0,i.default)(e,"POST",t,"reauth_user")},changepw:function(t){var e="/user/changepw";return(0,i.default)(e,"POST",t,"change_password")},register:function(t){var e="/user/register";return(0,i.default)(e,"POST",t,"register")},login:function(t){var e="/user/login";return(0,i.default)(e,"POST",t,"login")},apply:function(t){var e="/manager/apply";return(0,i.default)(e,"POST",t,"apply")},get_user_message:function(t){var e="/user/message";return(0,i.default)(e,"POST",t,"get_user_message")}}},"68f0":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={globalData:{kind:"",uid:"",jwt:""},onLaunch:function(){t("log","App Launch"," at App.vue:9")},onShow:function(){t("log","App Show"," at App.vue:12")},onHide:function(){t("log","App Hide"," at App.vue:15")}};e.default=a}).call(this,a("0de9")["default"])},7304:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("6876"));function r(t){return t&&t.__esModule?t:{default:t}}var n={components:{api:i.default},data:function(){return{backimg_url:"/static/login_back.jpg",click_cnt:0,lock:!1,email:"",pw:"",repw:"",name:"",pid:"",auth:"",telno:""}},methods:{tap:function(){this.click_cnt=this.click_cnt+1},checkemail:function(){var t=this.email,e=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(0==t.length)return uni.showToast({title:"\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1;if(!e.test(t))return uni.showToast({title:"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e\uff01",duration:800,icon:"none",position:"bottom"}),!1;var a=!0;return a},checkpw:function(){var t=this.pw;return""==t?(uni.showToast({title:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1):!(t.length<4||t.length>32)||(uni.showToast({title:"\u5bc6\u7801\u957f\u5ea6\u4e3a4-32\u4f4d\uff01",duration:800,icon:"none",position:"bottom"}),!1)},checkrepw:function(){var t=this.pw,e=this.repw;return""==t?(uni.showToast({title:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1):t==e||(uni.showToast({title:"\u786e\u8ba4\u5bc6\u7801\u4e0e\u5bc6\u7801\u4e0d\u4e00\u81f4\uff01",duration:800,icon:"none",position:"bottom"}),!1)},checkname:function(){var t=this.name;return 0!=t.length||(uni.showToast({title:"\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1)},checkpid:function(){var t=this.pid;if(0==t.length)return uni.showToast({title:"\u8eab\u4efd\u8bc1\u53f7\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1;if(18!=t.length)return uni.showToast({title:"\u8eab\u4efd\u8bc1\u53f7\u7801\u957f\u5ea6\u4e0d\u6b63\u786e\uff01",duration:800,icon:"none",position:"bottom"}),!1;for(var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],a=["1","0","X","9","8","7","6","5","4","3","2"],i=t+"",r=t[17],n=i.substring(0,17),s=n.split(""),o=s.length,h=0,l=0;l<o;l++)h+=s[l]*e[l];var u=h%11,c=a[u],C=/^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/,m=C.test(t),f=!(r!==c||!m);return!!f||(uni.showToast({title:"\u8eab\u4efd\u8bc1\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff01",duration:800,icon:"none",position:"bottom"}),!1)},checkauth:function(){var t=this.auth;return 0!=t.length||(uni.showToast({title:"\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1)},sendauth:function(){var e=this;this.checkemail()&&this.checkpw()&&this.checkrepw()&&this.checkname()&&this.checkpid()&&i.default.ckemail(this.email).then((function(a){if(t("log","\u9a8c\u8bc1\u90ae\u7bb1",a," at pages/register/register.vue:243"),200==a.statusCode){if("FAIL"==a.data)uni.showToast({title:"\u8be5\u90ae\u7bb1\u5df2\u7ecf\u6ce8\u518c\uff01",duration:800,icon:"none",position:"bottom"});else{var r={email:e.email,pw:e.pw,name:e.name,pid:e.pid};i.default.auth({data:r}).then((function(a){t("log","\u53d1\u9001\u9a8c\u8bc1\u7801",a," at pages/register/register.vue:259"),200==a.statusCode?(uni.showToast({title:"\u6210\u529f\u53d1\u9001\u9a8c\u8bc1\u7801\uff01",duration:800,icon:"none",position:"bottom"}),t("log","\u6210\u529f\u53d1\u9001\u9a8c\u8bc1\u7801"," at pages/register/register.vue:267"),e.lock=!0):t("log","\u53d1\u9001\u9a8c\u8bc1\u7801\u5931\u8d25"," at pages/register/register.vue:270")}))}t("log","\u6210\u529f\u9a8c\u8bc1\u90ae\u7bb1"," at pages/register/register.vue:274")}else t("log","\u9a8c\u8bc1\u90ae\u7bb1\u5931\u8d25"," at pages/register/register.vue:276")}))},submit:function(){var e=this;this.checkemail()&&this.checkpw()&&this.checkrepw()&&this.checkname()&&this.checkpid()&&this.checkauth()&&i.default.ckemail(this.email).then((function(a){if(t("log","\u9a8c\u8bc1\u90ae\u7bb1",a," at pages/register/register.vue:285"),200==a.statusCode){if("FAIL"==a.data)uni.showToast({title:"\u8be5\u90ae\u7bb1\u5df2\u7ecf\u6ce8\u518c\uff01",duration:800,icon:"none",position:"bottom"});else{var r={email:e.email,pw:e.pw,name:e.name,pid:e.pid,auth:e.auth};i.default.register({data:r}).then((function(e){t("log","\u6ce8\u518c",e," at pages/register/register.vue:301"),200==e.statusCode?("OK"==e.data?(uni.showToast({title:"\u6ce8\u518c\u6210\u529f\uff01",duration:800,icon:"none",position:"bottom"}),getApp().globalData.kind="",getApp().globalData.uid="",getApp().globalData.jwt="",uni.navigateTo({url:"../login/login"})):uni.showToast({title:e.data+"\uff01",duration:800,icon:"none",position:"bottom"}),t("log","\u6210\u529f\u6ce8\u518c"," at pages/register/register.vue:325")):t("log","\u6ce8\u518c\u5931\u8d25"," at pages/register/register.vue:327")}))}t("log","\u6210\u529f\u9a8c\u8bc1\u90ae\u7bb1"," at pages/register/register.vue:331")}else t("log","\u9a8c\u8bc1\u90ae\u7bb1\u5931\u8d25"," at pages/register/register.vue:333")}))},checktelno:function(){var t=this.telno;return 0==t.length?(uni.showToast({title:"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1):11==t.length||(uni.showToast({title:"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e\uff01",duration:800,icon:"none",position:"bottom"}),!1)},apply:function(){if(this.checkpw()&&this.checkrepw()&&this.checkname()&&this.checktelno()){var e={pw:this.pw,name:this.name,telno:this.telno};i.default.apply({data:e}).then((function(e){t("log","\u7533\u8bf7",e," at pages/register/register.vue:368"),200==e.statusCode?(uni.showToast({title:"\u7533\u8bf7\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u901a\u8fc7\uff01",duration:800,icon:"none",position:"bottom"}),uni.showModal({title:"\u8bf7\u7262\u8bb0\u8d26\u6237ID",content:e.data,showCancel:!1,success:function(e){e.confirm&&(t("log","\u7528\u6237\u70b9\u51fb\u786e\u5b9a"," at pages/register/register.vue:382"),uni.navigateBack({}))}}),t("log","\u6210\u529f\u7533\u8bf7"," at pages/register/register.vue:387")):t("log","\u6ce8\u518c\u5931\u8d25"," at pages/register/register.vue:389")}))}}}};e.default=n}).call(this,a("0de9")["default"])},"75dd":function(t,e,a){"use strict";a.r(e);var i=a("2b6e"),r=a("8aac");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"0f5ca878",null,!1,i["a"],s);e["default"]=h.exports},"75e1":function(t,e,a){"use strict";a.r(e);var i=a("f3ee"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"762a":function(t,e,a){"use strict";a.r(e);var i=a("c2ac"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"78b5":function(t,e,a){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,e,a){return e&&r(t.prototype,e),a&&r(t,a),t}Object.defineProperty(e,"__esModule",{value:!0}),e.initVueI18n=T,e.I18n=void 0;var s=function(t){return null!==t&&"object"===typeof t},o=function(){function t(){i(this,t),this._caches=Object.create(null)}return n(t,[{key:"interpolate",value:function(t,e){if(!e)return[t];var a=this._caches[t];return a||(a=u(t),this._caches[t]=a),c(a,e)}}]),t}(),h=/^(?:\d)+/,l=/^(?:\w)+/;function u(t){var e=[],a=0,i="";while(a<t.length){var r=t[a++];if("{"===r){i&&e.push({type:"text",value:i}),i="";var n="";r=t[a++];while(void 0!==r&&"}"!==r)n+=r,r=t[a++];var s="}"===r,o=h.test(n)?"list":s&&l.test(n)?"named":"unknown";e.push({value:n,type:o})}else"%"===r?"{"!==t[a]&&(i+=r):i+=r}return i&&e.push({type:"text",value:i}),e}function c(t,e){var a=[],i=0,r=Array.isArray(e)?"list":s(e)?"named":"unknown";if("unknown"===r)return a;while(i<t.length){var n=t[i];switch(n.type){case"text":a.push(n.value);break;case"list":a.push(e[parseInt(n.value,10)]);break;case"named":"named"===r&&a.push(e[n.value]);break;case"unknown":0;break}i++}return a}var C=Object.prototype.hasOwnProperty,m=function(t,e){return C.call(t,e)},f=new o;function d(t,e){return!!e.find((function(e){return-1!==t.indexOf(e)}))}function D(t,e){return e.find((function(e){return 0===t.indexOf(e)}))}function p(t,e){if(t){if(t=t.trim().replace(/_/g,"-"),e[t])return t;if(t=t.toLowerCase(),0===t.indexOf("zh"))return-1!==t.indexOf("-hans")?"zh-Hans":-1!==t.indexOf("-hant")||d(t,["-tw","-hk","-mo","-cht"])?"zh-Hant":"zh-Hans";var a=D(t,["en","fr","es"]);return a||void 0}}var S=function(){function t(e){var a=e.locale,r=e.fallbackLocale,n=e.messages,s=e.watcher,o=e.formater;i(this,t),this.locale="en",this.fallbackLocale="en",this.message={},this.messages={},this.watchers=[],r&&(this.fallbackLocale=r),this.formater=o||f,this.messages=n,this.setLocale(a),s&&this.watchLocale(s)}return n(t,[{key:"setLocale",value:function(t){var e=this,a=this.locale;this.locale=p(t,this.messages)||this.fallbackLocale,this.message=this.messages[this.locale],this.watchers.forEach((function(t){t(e.locale,a)}))}},{key:"getLocale",value:function(){return this.locale}},{key:"watchLocale",value:function(t){var e=this,a=this.watchers.push(t)-1;return function(){e.watchers.splice(a,1)}}},{key:"t",value:function(t,e,a){var i=this.message;return"string"===typeof e?(e=p(e,this.messages),e&&(i=this.messages[e])):a=e,m(i,t)?this.formater.interpolate(i[t],a).join(""):(console.warn("Cannot translate the value of keypath ".concat(t,". Use the value of keypath as default.")),t)}}]),t}();function v(t,e){t.$i18n&&t.$i18n.vm.$watch("locale",(function(t){e.setLocale(t)}),{immediate:!0})}function g(){return"undefined"!==typeof navigator?navigator.userLanguage||navigator.language:"undefined"!==typeof plus?plus.os.language:uni.getSystemInfoSync().language}function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",a=arguments.length>2?arguments[2]:void 0,i=new S({locale:a||e,fallbackLocale:e,messages:t}),r=function(t,e){if("function"!==typeof getApp)r=function(t,e){return i.t(t,e)};else{var n=getApp().$vm;n.$t&&n.$i18n?(v(n,i),r=function(t,e){var a=n.$i18n,r=a.silentTranslationWarn;a.silentTranslationWarn=!0;var s=n.$t(t,e);return a.silentTranslationWarn=r,s!==t?s:i.t(t,a.locale,e)}):(a||i.setLocale(g()),r=function(t,e){return i.t(t,e)})}return r(t,e)};return{t:function(t,e){return r(t,e)},getLocale:function(){return i.getLocale()},setLocale:function(t){return i.setLocale(t)},mixin:{beforeCreate:function(){var t=this,e=i.watchLocale((function(){t.$forceUpdate()}));this.$once("hook:beforeDestroy",(function(){e()}))},methods:{$$t:function(t,e){return r(t,e)}}}}}e.I18n=S},"7a46":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","topbox"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","searchinput"),attrs:{_i:2}},[i("image",{staticClass:t._$s(3,"sc","searchlogo"),attrs:{src:t._$s(3,"a-src",a("023e")),_i:3}}),i("input",{attrs:{_i:4},on:{input:function(e){return t.inputchange(e)}}})])]),i("view"),i("view",{staticClass:t._$s(6,"sc","HSlist"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.HSdata}),(function(e,a,r,n){return t._$s("7-"+n,"i",""==t.search_value||-1!=e[0].indexOf(t.search_value)||-1!=e[1].indexOf(t.search_value))?i("view",{key:t._$s(7,"f",{forIndex:r,key:a}),staticClass:t._$s("7-"+n,"sc","HSitem"),attrs:{_i:"7-"+n},on:{click:function(a){return t.choose_Stock(e)},longpress:function(a){return t.remove(e)}}},[i("view",{staticClass:t._$s("8-"+n,"sc","HSitem_col"),attrs:{_i:"8-"+n}},[i("view",[t._v(t._$s("9-"+n,"t0-0",t._s(e[1])))]),i("view",[t._v(t._$s("10-"+n,"t0-0",t._s(e[0].substr(0,6))))])]),i("view",{staticClass:t._$s("11-"+n,"sc","HSitem_col"),attrs:{_i:"11-"+n}},[i("view",{class:t._$s("12-"+n,"c",[e[3]>0?"HSitem_red":"HSitem_green"]),attrs:{_i:"12-"+n}},[t._v(t._$s("12-"+n,"t0-0",t._s((e[2]-0).toFixed(2))))]),i("view",{staticClass:t._$s("13-"+n,"sc","SEL_msg"),attrs:{_i:"13-"+n}},[t._v(t._$s("13-"+n,"t0-0",t._s(e[5])))])]),i("view",{staticClass:t._$s("14-"+n,"sc","HSitem_col"),attrs:{_i:"14-"+n}},[i("view",{class:t._$s("15-"+n,"c",[e[3]>0?"HSitem_red":"HSitem_green"]),attrs:{_i:"15-"+n}},[t._v(t._$s("15-"+n,"t0-0",t._s((e[3]-0).toFixed(2))))]),i("view",{staticClass:t._$s("16-"+n,"sc","SEL_msg"),attrs:{_i:"16-"+n}},[t._v(t._$s("16-"+n,"t0-0",t._s(e[4])))])])]):t._e()})),0)])},n=[]},"7e0e":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"loading5",data:function(){return{}}};e.default=i},8193:function(t,e,a){"use strict";a.r(e);var i=a("1abd"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},8602:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("af4e"));function r(t){return t&&t.__esModule?t:{default:t}}var n={top:"top",bottom:"bottom",center:"center",message:"top",dialog:"center",share:"bottom"},s={data:function(){return{config:n}},mixins:[i.default]};e.default=s},8961:function(t,e){var a={Chart:{Log:console.log},Complier:{Log:console.log}};t.exports={JSConsole:{Chart:a.Chart,Complier:a.Complier}}},"8aac":function(t,e,a){"use strict";a.r(e);var i=a("9130"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"8bb2":function(t,e,a){"use strict";(function(e){var i=a("8961"),r=a("c638"),n=a("a3c0"),s=a("f19e"),o=a("e1bb"),h=a("290c"),l=a("f621"),u=a("5090"),c=a("9c28"),C=a("d475"),m=a("2f51"),f=a("a793"),d=a("bc6b"),D=a("c1db");function p(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=S(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,n=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw n}}}}function S(t,e){if(t){if("string"===typeof t)return v(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function g(){this.Height,this.Width,this.ID,this.WebGLCanvas,this.IsUniApp=!1,this.CanvasNode=null,this.ComponentObject=null,this.GetContext=function(){var t;if(this.CanvasNode&&this.CanvasNode.node){var a=this.CanvasNode.width,r=this.CanvasNode.height,n=this.CanvasNode.node;n._height=r,n._width=a,i.JSConsole.Chart.Log("[JSCanvasElement::GetContext] create by getContext('2d')"),t=n.getContext("2d");var s=e.getSystemInfoSync().pixelRatio;n.width=a*s,n.height=r*s,t.restore(),t.save(),t.scale(s,s),t.draw=function(t,e){e&&e()},t.DomNode=n}else t=this.ComponentObject?e.createCanvasContext(this.ID,this.ComponentObject):e.createCanvasContext(this.ID);return this.IsUniApp&&(i.JSConsole.Chart.Log("[JSCanvasElement::GetContext] measureText() => JSUniAppCanvasHelper.MeasureText()"),t.measureText=function(e){var a=f.JSCommonUniApp.JSUniAppCanvasHelper.MeasureText(e,t);return{width:a}},t.fillText_backup=t.fillText,t.fillText=function(e,a,i,r){t.fillText_backup(e,a,i)}),t},this.GetWebGLCanvas=function(t){var a=this,r=e.createSelectorQuery();r.select(t).node().exec((function(t){i.JSConsole.Chart.Log("[JSCanvasElement::GetWebGLCanvas] res ",t),a.WebGLCanvas=t[0].node}))}}function T(t){this.JSChartContainer,this.CanvasElement=t,this.AddEventCallback=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddEventCallback&&(i.JSConsole.Chart.Log("[JSChart:AddEventCallback] ",t),this.JSChartContainer.AddEventCallback(t))},this.OnSize=function(t){t&&(d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Width)&&(this.CanvasElement.Width=t.Width),d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Height)&&(this.CanvasElement.Height=t.Height)),this.JSChartContainer&&(t&&1==t.Type&&this.JSChartContainer.OnSize?this.JSChartContainer.OnSize():(this.JSChartContainer.Frame&&this.JSChartContainer.Frame.SetSizeChage(!0),this.JSChartContainer.Draw()))},this.CreateKLineChartContainer=function(t){var e=null;if(e="\u5386\u53f2K\u7ebf\u56fe\u6a2a\u5c4f"===t.Type?new lt(this.CanvasElement):new nt(this.CanvasElement),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),t.KLine&&(t.KLine.DragMode>=0&&(e.DragMode=t.KLine.DragMode),t.KLine.Right>=0&&(e.Right=t.KLine.Right),t.KLine.Period>=0&&(e.Period=t.KLine.Period),t.KLine.MaxReqeustDataCount>0&&(e.MaxReqeustDataCount=t.KLine.MaxReqeustDataCount),t.KLine.Info&&t.KLine.Info.length>0&&e.SetKLineInfo(t.KLine.Info,!1),t.KLine.Policy&&t.KLine.Policy.length>0&&e.SetPolicyInfo(t.KLine.Policy,!1),0==t.KLine.KLineDoubleClick&&(e.MinuteDialog=this.MinuteDialog=null),t.KLine.MaxRequestMinuteDayCount>0&&(e.MaxRequestMinuteDayCount=t.KLine.MaxRequestMinuteDayCount),t.KLine.DrawType&&(e.KLineDrawType=t.KLine.DrawType),t.KLine.RightSpaceCount>=0&&(e.RightSpaceCount=t.KLine.RightSpaceCount),t.KLine.DataWidth>=1&&(e.KLineSize={DataWidth:t.KLine.DataWidth})),t.SplashTitle&&(e.SplashTitle=t.SplashTitle),!t.Windows||t.Windows.length<=0)return null;if(t.Language&&("CN"===t.Language?e.LanguageID=m.JSCommonResource_JSCHART_LANGUAGE_ID.LANGUAGE_CHINESE_ID:"EN"===t.Language&&(e.LanguageID=m.JSCommonResource_JSCHART_LANGUAGE_ID.LANGUAGE_ENGLISH_ID)),t.SourceDatatLimit&&e.SetSourceDatatLimit(t.SourceDatatLimit),t.EnableZoomUpDown&&(e.EnableZoomUpDown=t.EnableZoomUpDown),t.ZoomStepPixel>0&&(e.ZoomStepPixel=t.ZoomStepPixel),e.Create(t.Windows.length),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(e.Frame.ChartBorder.Bottom=t.Border.Bottom)),t.KLine){if(t.KLine.PageSize>0){var a=e.GetMaxPageSize();a<t.KLine.PageSize?e.PageSize=a:e.PageSize=t.KLine.PageSize}t.KLine.InfoDrawType&&(e.ChartPaint[0].InfoDrawType=t.KLine.InfoDrawType)}if(t.DragDownload&&(t.DragDownload.Day&&1==t.DragDownload.Day.Enable&&(e.DragDownload.Day.Enable=!0),t.DragDownload.Minute&&1==t.DragDownload.Minute.Enable&&(e.DragDownload.Minute.Enable=!0)),1==t.IsApiPeriod&&(e.IsApiPeriod=t.IsApiPeriod),1==t.CorssCursorTouchEnd&&(e.CorssCursorTouchEnd=t.CorssCursorTouchEnd),1==t.IsClickShowCorssCursor&&(e.IsClickShowCorssCursor=t.IsClickShowCorssCursor),1==t.IsFullDraw&&(e.IsFullDraw=t.IsFullDraw),t.CorssCursorInfo&&(isNaN(t.CorssCursorInfo.Left)||(e.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(e.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(e.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(e.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),1==t.CorssCursorInfo.IsShowClose&&(e.ChartCorssCursor.IsShowClose=t.CorssCursorInfo.IsShowClose),d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.CorssCursorInfo.HPenType)&&(e.ChartCorssCursor.HPenType=t.CorssCursorInfo.HPenType),t.CorssCursorInfo.VPenType>0&&(e.ChartCorssCursor.VPenType=t.CorssCursorInfo.VPenType)),"function"==typeof t.UpdateUICallback&&(e.UpdateUICallback=t.UpdateUICallback),t.Frame)for(var i in t.Frame){var r=t.Frame[i];e.Frame.SubFrame[i]&&(r.SplitCount&&(e.Frame.SubFrame[i].Frame.YSplitOperator.SplitCount=r.SplitCount),r.StringFormat&&(e.Frame.SubFrame[i].Frame.YSplitOperator.StringFormat=r.StringFormat),isNaN(r.Height)||(e.Frame.SubFrame[i].Height=r.Height),0==r.IsShowBorder&&(e.Frame.SubFrame[i].Frame.IsShowBorder=r.IsShowBorder),0==r.IsShowXLine&&(e.Frame.SubFrame[i].Frame.IsShowXLine=r.IsShowXLine),0==r.IsShowYLine&&(e.Frame.SubFrame[i].Frame.IsShowYLine=r.IsShowYLine),"bottom"==r.XMessageAlign&&(e.Frame.SubFrame[i].Frame.XMessageAlign=r.XMessageAlign),0==r.IsShowTitle&&(e.Frame.SubFrame[i].Frame.IsShowTitle=!1),r.UpdateTitleUICallback&&e.Frame.SubFrame[i].Frame.TitlePaint&&(e.Frame.SubFrame[i].Frame.TitlePaint.UpdateUICallback=r.UpdateTitleUICallback),!1!==r.IsShowLeftText&&!0!==r.IsShowLeftText||(e.Frame.SubFrame[i].Frame.IsShowYText[0]=r.IsShowLeftText),!1!==r.IsShowRightText&&!0!==r.IsShowRightText||(e.Frame.SubFrame[i].Frame.IsShowYText[1]=r.IsShowRightText),r.TopSpace>=0&&(e.Frame.SubFrame[i].Frame.ChartBorder.TopSpace=r.TopSpace),r.BottomSpace>=0&&(e.Frame.SubFrame[i].Frame.ChartBorder.BottomSpace=r.BottomSpace),r.Custom&&(e.Frame.SubFrame[i].Frame.YSplitOperator.Custom=r.Custom),d.JSCommonSplit_IFrameSplitOperator.IsNumber(r.SplitType)&&(e.Frame.SubFrame[i].Frame.YSplitOperator.SplitType=r.SplitType),d.JSCommonSplit_IFrameSplitOperator.IsNumber(r.FloatPrecision)&&(e.Frame.SubFrame[i].Frame.YSplitOperator.FloatPrecision=r.FloatPrecision),d.JSCommonSplit_IFrameSplitOperator.IsNumber(r.BorderLine)&&(e.Frame.SubFrame[i].Frame.BorderLine=r.BorderLine))}for(var i in t.KLine&&(0==t.KLine.ShowKLine&&(e.ChartPaint[0].IsShow=!1),0==t.KLine.IsShowMaxMinPrice&&(e.ChartPaint[0].IsShowMaxMinPrice=!1)),t.KLineTitle&&(0==t.KLineTitle.IsShowName&&(e.TitlePaint[0].IsShowName=!1),0==t.KLineTitle.IsShowSettingInfo&&(e.TitlePaint[0].IsShowSettingInfo=!1),0==t.KLineTitle.IsShow&&(e.TitlePaint[0].IsShow=!1),t.KLineTitle.UpdateUICallback&&(e.TitlePaint[0].UpdateUICallback=t.KLineTitle.UpdateUICallback),t.KLineTitle.LineCount>1&&(e.TitlePaint[0].LineCount=t.KLineTitle.LineCount)),t.Overlay){r=t.Overlay[i];if(r.Symbol){e.OverlayChartPaint[0].Symbol=r.Symbol,r.Color&&(e.OverlayChartPaint[0].Color=r.Color),e.OverlayChartPaint[0].SetOption(r);break}}if(t.ExtendChart)for(var i in t.ExtendChart){r=t.ExtendChart[i];e.CreateExtendChart(r.Name,r)}var n=new h.JSCommonIndexScript.JSIndexScript;if(t.ColorIndex){r=t.ColorIndex;var s=n.Get(r.Index);s&&(e.ColorIndex=new C.JSCommonIndex_ScriptIndex(s.Name,s.Script,s.Args,s))}if(t.TradeIndex){r=t.TradeIndex;var o=n.Get(r.Index);o&&(e.TradeIndex=new C.JSCommonIndex_ScriptIndex(o.Name,o.Script,o.Args,o))}for(var i in t.Windows){r=t.Windows[i];if(r.Script)e.WindowIndex[i]=new C.JSCommonIndex_ScriptIndex(r.Name,r.Script,r.Args,r);else if(r.API){var l=r.API;e.WindowIndex[i]=new pt(l.Name,l.Script,l.Args,r)}else{var u=rt.Get(r.Index);if(u)e.WindowIndex[i]=u.Create(),e.CreateWindowIndex(i);else{var c=n.Get(r.Index);if(!c)continue;r.Lock&&(c.Lock=r.Lock),c.ID=r.Index;var f=c.Args;r.Args&&(f=r.Args),e.WindowIndex[i]=new C.JSCommonIndex_ScriptIndex(c.Name,c.Script,f,c),r.StringFormat>0&&(e.WindowIndex[i].StringFormat=r.StringFormat),r.FloatPrecision>=0&&(e.WindowIndex[i].FloatPrecision=r.FloatPrecision)}}null!=r.Modify&&(e.Frame.SubFrame[i].Frame.ModifyIndex=r.Modify),null!=r.Change&&(e.Frame.SubFrame[i].Frame.ChangeIndex=r.Change),1==r.IsDrawTitleBG&&(e.Frame.SubFrame[i].Frame.IsDrawTitleBG=r.IsDrawTitleBG),"function"==typeof r.UpdateUICallback&&(e.WindowIndex[i].UpdateUICallback=r.UpdateUICallback),isNaN(r.TitleHeight)||(e.Frame.SubFrame[i].Frame.ChartBorder.TitleHeight=r.TitleHeight),0==r.IsShowIndexName&&(e.Frame.SubFrame[i].Frame.IsShowIndexName=!1),r.IndexParamSpace>=0&&(e.Frame.SubFrame[i].Frame.IndexParamSpace=r.IndexParamSpace)}return e},this.CreateCustomKLineChartContainer=function(t){var e=new ht(this.CanvasElement);if(t.KLine&&(t.KLine.DragMode>=0&&(e.DragMode=t.KLine.DragMode),t.KLine.Right>=0&&(e.Right=t.KLine.Right),t.KLine.Period>=0&&(e.Period=t.KLine.Period),t.KLine.MaxReqeustDataCount>0&&(e.MaxReqeustDataCount=t.KLine.MaxReqeustDataCount),t.KLine.Info&&t.KLine.Info.length>0&&e.SetKLineInfo(t.KLine.Info,!1),0==t.KLine.KLineDoubleClick&&(e.MinuteDialog=this.MinuteDialog=null),t.KLine.PageSize>0&&(e.PageSize=t.KLine.PageSize),0==t.KLine.IsShowTooltip&&(e.IsShowTooltip=!1)),t.CustomStock&&(e.CustomStock=t.CustomStock),t.QueryDate&&(e.QueryDate=t.QueryDate),"function"==typeof t.UpdateUICallback&&(e.UpdateUICallback=t.UpdateUICallback),!t.Windows||t.Windows.length<=0)return null;if(e.Create(t.Windows.length),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(e.Frame.ChartBorder.Bottom=t.Border.Bottom)),0==t.IsShowCorssCursorInfo&&(e.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),t.Frame)for(var a in t.Frame){var i=t.Frame[a];i.SplitCount&&(e.Frame.SubFrame[a].Frame.YSplitOperator.SplitCount=i.SplitCount),i.StringFormat&&(e.Frame.SubFrame[a].Frame.YSplitOperator.StringFormat=i.StringFormat),"bottom"==i.XMessageAlign&&(e.Frame.SubFrame[a].Frame.XMessageAlign=i.XMessageAlign)}t.KLineTitle&&(0==t.KLineTitle.IsShowName&&(e.TitlePaint[0].IsShowName=!1),0==t.KLineTitle.IsShowSettingInfo&&(e.TitlePaint[0].IsShowSettingInfo=!1));var r=new h.JSCommonIndexScript.JSIndexScript;for(var a in t.Windows){i=t.Windows[a];if(i.Script)e.WindowIndex[a]=new C.JSCommonIndex_ScriptIndex(i.Name,i.Script,i.Args,i);else{var n=rt.Get(i.Index);if(n)e.WindowIndex[a]=n.Create(),e.CreateWindowIndex(a);else{var s=r.Get(i.Index);if(!s)continue;i.Lock&&(s.Lock=i.Lock),e.WindowIndex[a]=new C.JSCommonIndex_ScriptIndex(s.Name,s.Script,s.Args,s)}}null!=i.Modify&&(e.Frame.SubFrame[a].Frame.ModifyIndex=i.Modify),null!=i.Change&&(e.Frame.SubFrame[a].Frame.ChangeIndex=i.Change),isNaN(i.TitleHeight)||(e.Frame.SubFrame[a].Frame.ChartBorder.TitleHeight=i.TitleHeight)}return e},this.CreateMinuteChartContainer=function(t){var e=null;e="\u5206\u949f\u8d70\u52bf\u56fe\u6a2a\u5c4f"===t.Type?new ut(this.CanvasElement):new st(this.CanvasElement),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter);var a=2;if(t.Windows&&t.Windows.length>0&&(a+=t.Windows.length),1==t.EnableScrollUpDown&&(e.EnableScrollUpDown=t.EnableScrollUpDown),t.Info&&t.Info.length>0&&e.SetMinuteInfo(t.Info,!1),t.SplashTitle&&(e.SplashTitle=t.SplashTitle),t.Language&&("CN"===t.Language?e.LanguageID=m.JSCommonResource_JSCHART_LANGUAGE_ID.LANGUAGE_CHINESE_ID:"EN"===t.Language&&(e.LanguageID=m.JSCommonResource_JSCHART_LANGUAGE_ID.LANGUAGE_ENGLISH_ID)),e.Create(a),1==t.CorssCursorTouchEnd&&(e.CorssCursorTouchEnd=t.CorssCursorTouchEnd),1==t.IsFullDraw&&(e.IsFullDraw=t.IsFullDraw),t.CorssCursorInfo&&(isNaN(t.CorssCursorInfo.Left)||(e.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(e.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(e.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(e.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss)),t.MinuteInfo&&e.CreateMinuteInfo(t.MinuteInfo),t.DayCount>1&&(e.DayCount=t.DayCount),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(e.Frame.ChartBorder.Bottom=t.Border.Bottom)),t.Frame){for(var i in t.Frame){var r=t.Frame[i];e.Frame.SubFrame[i]&&(r.SplitCount&&(e.Frame.SubFrame[i].Frame.YSplitOperator.SplitCount=r.SplitCount),r.StringFormat&&(e.Frame.SubFrame[i].Frame.YSplitOperator.StringFormat=r.StringFormat),"bottom"==r.XMessageAlign&&(e.Frame.SubFrame[i].Frame.XMessageAlign=r.XMessageAlign),!1!==r.IsShowLeftText&&!0!==r.IsShowLeftText||(e.Frame.SubFrame[i].Frame.IsShowYText[0]=r.IsShowLeftText),!1!==r.IsShowRightText&&!0!==r.IsShowRightText||(e.Frame.SubFrame[i].Frame.IsShowYText[1]=r.IsShowRightText),r.Height>=0&&(e.Frame.SubFrame[i].Height=r.Height),r.Custom&&(e.Frame.SubFrame[i].Frame.YSplitOperator.Custom=r.Custom),d.JSCommonSplit_IFrameSplitOperator.IsNumber(r.BorderLine)&&(e.Frame.SubFrame[i].Frame.BorderLine=r.BorderLine))}e.UpdateXShowText()}if(t.MinuteTitle&&(0==t.MinuteTitle.IsShowName&&(e.TitlePaint[0].IsShowName=!1),0==t.MinuteTitle.IsShow&&(e.TitlePaint[0].IsShow=!1),t.MinuteTitle.UpdateUICallback&&(e.TitlePaint[0].UpdateUICallback=t.MinuteTitle.UpdateUICallback),t.MinuteTitle.LineCount>1&&(e.TitlePaint[0].LineCount=t.MinuteTitle.LineCount)),"function"==typeof t.UpdateUICallback&&(e.UpdateUICallback=t.UpdateUICallback),t.ExtendChart)for(var i in t.ExtendChart){r=t.ExtendChart[i];e.CreateExtendChart(r.Name,r)}for(var i in t.Overlay){r=t.Overlay[i];if(r.Symbol){e.OverlayChartPaint[0].Symbol=r.Symbol,r.Color&&(e.OverlayChartPaint[0].Color=r.Color);break}}if(t.Overlay&&t.Overlay.length&&(e.OverlayChartPaint[0].Symbol=t.Overlay[0].Symbol),t.MinuteLine&&(0==t.MinuteLine.IsDrawAreaPrice&&(e.ChartPaint[0].IsDrawArea=!1),0==t.MinuteLine.IsShowAveragePrice))for(var i in e.ChartPaint[1].IsShow=!1,e.TitlePaint[0].IsShowAveragePrice=!1,e.ExtendChartPaint){r=e.ExtendChartPaint[i];"MinuteTooltipPaint"==r.ClassName&&(r.IsShowAveragePrice=!1)}var n=new h.JSCommonIndexScript.JSIndexScript;for(var i in t.Windows){r=t.Windows[i];if(r.Script)e.WindowIndex[2+parseInt(i)]=new C.JSCommonIndex_ScriptIndex(r.Name,r.Script,r.Args,r);else{var s=rt.Get(r.Index);if(s)e.WindowIndex[2+parseInt(i)]=s.Create(),e.CreateWindowIndex(2+parseInt(i));else{var o=n.Get(r.Index);if(!o)continue;var l=o.Args;r.Args&&(l=r.Args),r.Lock&&(o.Lock=r.Lock),e.WindowIndex[2+parseInt(i)]=new C.JSCommonIndex_ScriptIndex(o.Name,o.Script,l,o),r.StringFormat>0&&(e.WindowIndex[2+parseInt(i)].StringFormat=r.StringFormat),r.FloatPrecision>=0&&(e.WindowIndex[2+parseInt(i)].FloatPrecision=r.FloatPrecision)}}isNaN(r.TitleHeight)||(e.Frame.SubFrame[2+parseInt(i)].Frame.ChartBorder.TitleHeight=r.TitleHeight)}return e},this.CreateHistoryMinuteChartContainer=function(t){var e=new ot(this.CanvasElement),a=2;if(t.Windows&&t.Windows.length>0&&(a+=t.Windows.length),e.Create(a),0==t.IsShowCorssCursorInfo&&(e.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(e.Frame.ChartBorder.Bottom=t.Border.Bottom)),t.Frame)for(var i in t.Frame){var r=t.Frame[i];r.SplitCount&&(e.Frame.SubFrame[i].Frame.YSplitOperator.SplitCount=r.SplitCount),r.StringFormat&&(e.Frame.SubFrame[i].Frame.YSplitOperator.StringFormat=r.StringFormat),"bottom"==r.XMessageAlign&&(e.Frame.SubFrame[i].Frame.XMessageAlign=r.XMessageAlign)}var n=new h.JSCommonIndexScript.JSIndexScript;for(var i in t.Windows){r=t.Windows[i];if(r.Script)e.WindowIndex[2+parseInt(i)]=new C.JSCommonIndex_ScriptIndex(r.Name,r.Script,r.Args,r);else{var s=rt.Get(r.Index);if(s)e.WindowIndex[2+parseInt(i)]=s.Create(),e.CreateWindowIndex(2+parseInt(i));else{var o=n.Get(r.Index);if(!o)continue;r.Lock&&(o.Lock=r.Lock),e.WindowIndex[2+parseInt(i)]=new C.JSCommonIndex_ScriptIndex(o.Name,o.Script,o.Args,o)}}isNaN(r.TitleHeight)||(e.Frame.SubFrame[2+parseInt(i)].Frame.ChartBorder.TitleHeight=r.TitleHeight)}return e.TradeDate=20181009,t.HistoryMinute&&(t.HistoryMinute.TradeDate&&(e.TradeDate=t.HistoryMinute.TradeDate),null!=t.HistoryMinute.IsShowName&&(e.TitlePaint[0].IsShowName=t.HistoryMinute.IsShowName),null!=t.HistoryMinute.IsShowDate&&(e.TitlePaint[0].IsShowDate=t.HistoryMinute.IsShowDate)),e},this.CreateKLineTrainChartContainer=function(t){var e="K\u7ebf\u8bad\u7ec3\u6a2a\u5c4f"==t.Type,a=new ct(this.CanvasElement,e);if(t.NetworkFilter&&(a.NetworkFilter=t.NetworkFilter),1==t.IsApiPeriod&&(a.IsApiPeriod=t.IsApiPeriod),t.KLine&&(t.KLine.Right>=0&&(a.Right=t.KLine.Right),t.KLine.Period>=0&&(a.Period=t.KLine.Period),t.KLine.MaxReqeustDataCount>0&&(a.MaxReqeustDataCount=t.KLine.MaxReqeustDataCount),t.KLine.Info&&t.KLine.Info.length>0&&a.SetKLineInfo(t.KLine.Info,!1),t.KLine.PageSize>0&&(a.PageSize=t.KLine.PageSize),0==t.KLine.IsShowTooltip&&(a.IsShowTooltip=!1),t.KLine.MaxRequestMinuteDayCount>0&&(a.MaxRequestMinuteDayCount=t.KLine.MaxRequestMinuteDayCount),t.KLine.DrawType&&(a.KLineDrawType=t.KLine.DrawType)),t.Train&&(t.Train.DataCount&&(a.TrainDataCount=t.Train.DataCount),t.Train.Callback&&(a.TrainCallback=t.Train.Callback),t.Train.StartDate&&(a.TrainStartDate=t.Train.StartDate)),!t.Windows||t.Windows.length<=0)return null;if(a.Create(t.Windows.length),t.Border&&(isNaN(t.Border.Left)||(a.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(a.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(a.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(a.Frame.ChartBorder.Bottom=t.Border.Bottom)),t.ExtendChart)for(var i in t.ExtendChart){var r=t.ExtendChart[i];a.CreateExtendChart(r.Name,r)}if(0==t.IsShowCorssCursorInfo&&(a.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),1==t.CorssCursorTouchEnd&&(a.CorssCursorTouchEnd=t.CorssCursorTouchEnd),1==t.IsClickShowCorssCursor&&(a.IsClickShowCorssCursor=t.IsClickShowCorssCursor),1==t.IsFullDraw&&(a.IsFullDraw=t.IsFullDraw),t.CorssCursorInfo&&(isNaN(t.CorssCursorInfo.Left)||(a.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(a.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(a.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(a.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),1==t.CorssCursorInfo.IsShowClose&&(a.ChartCorssCursor.IsShowClose=t.CorssCursorInfo.IsShowClose),t.CorssCursorInfo.HPenType>0&&(a.ChartCorssCursor.HPenType=t.CorssCursorInfo.HPenType),t.CorssCursorInfo.VPenType>0&&(a.ChartCorssCursor.VPenType=t.CorssCursorInfo.VPenType)),t.Frame)for(var i in t.Frame)if(a.Frame.SubFrame[i]){r=t.Frame[i];r.SplitCount&&(a.Frame.SubFrame[i].Frame.YSplitOperator.SplitCount=r.SplitCount),r.StringFormat&&(a.Frame.SubFrame[i].Frame.YSplitOperator.StringFormat=r.StringFormat),r.Height>0&&(a.Frame.SubFrame[i].Height=r.Height),!1!==r.IsShowLeftText&&!0!==r.IsShowLeftText||(a.Frame.SubFrame[i].Frame.IsShowYText[0]=r.IsShowLeftText),!1!==r.IsShowRightText&&!0!==r.IsShowRightText||(a.Frame.SubFrame[i].Frame.IsShowYText[1]=r.IsShowRightText)}a.TitlePaint[0].IsShowName=!1,a.TitlePaint[0].IsShowSettingInfo=!1,a.TitlePaint[0].IsShowDateTime=!1;var n=new h.JSCommonIndexScript.JSIndexScript;for(var i in t.Windows){r=t.Windows[i];if(r.Script)a.WindowIndex[i]=new C.JSCommonIndex_ScriptIndex(r.Name,r.Script,r.Args,r);else{var s=rt.Get(r.Index);if(s)a.WindowIndex[i]=s.Create(),a.CreateWindowIndex(i);else{var o=n.Get(r.Index);if(!o)continue;r.Lock&&(o.Lock=r.Lock),a.WindowIndex[i]=new C.JSCommonIndex_ScriptIndex(o.Name,o.Script,o.Args,o)}}null!=r.Modify&&(a.Frame.SubFrame[i].Frame.ModifyIndex=r.Modify),null!=r.Change&&(a.Frame.SubFrame[i].Frame.ChangeIndex=r.Change),isNaN(r.TitleHeight)||(a.Frame.SubFrame[i].Frame.ChartBorder.TitleHeight=r.TitleHeight)}return a},this.CreateDepthChartContainer=function(t){var e=null;if(e=new Ct(this.CanvasElement),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),1==t.EnableScrollUpDown&&(e.EnableScrollUpDown=t.EnableScrollUpDown),d.JSCommonSplit_IFrameSplitOperator.IsPlusNumber(t.MaxVolRate)&&(e.MaxVolRate=t.MaxVolRate),t.ZoomStepPixel>0&&(e.ZoomStepPixel=t.ZoomStepPixel),e.Create(t.Listener),t.Border&&(d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Border.Left)?e.Frame.ChartBorder.Left=t.Border.Left:t.Border.Left=e.Frame.ChartBorder.Left,d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Border.Right)?e.Frame.ChartBorder.Right=t.Border.Right:t.Border.Right=e.Frame.ChartBorder.Right,d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Border.Top)?e.Frame.ChartBorder.Top=t.Border.Top:t.Border.Top=e.Frame.ChartBorder.Top,d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Border.Bottom)?e.Frame.ChartBorder.Bottom=t.Border.Bottom:t.Border.Bottom=e.Frame.ChartBorder.Bottom),1==t.IsFullDraw&&(e.IsFullDraw=t.IsFullDraw),!0===t.CorssCursorTouchEnd&&(e.CorssCursorTouchEnd=t.CorssCursorTouchEnd),t.CorssCursorInfo){var a=t.CorssCursorInfo;d.JSCommonSplit_IFrameSplitOperator.IsNumber(a.HPenType)&&(e.ChartCorssCursor.HPenType=a.HPenType),d.JSCommonSplit_IFrameSplitOperator.IsNumber(a.VPenType)&&(e.ChartCorssCursor.VPenType=a.VPenType),d.JSCommonSplit_IFrameSplitOperator.IsBool(a.IsShowTooltip)&&(e.ChartCorssCursor.IsShowTooltip=a.IsShowTooltip)}if(t.Frame){a=t.Frame;a.SplitCount&&(e.Frame.YSplitOperator.SplitCount=a.SplitCount),d.JSCommonSplit_IFrameSplitOperator.IsNumber(a.SplitType)&&(e.Frame.YSplitOperator.SplitType=a.SplitType),d.JSCommonSplit_IFrameSplitOperator.IsNumber(a.Height)&&(e.Frame.Height=a.Height),d.JSCommonSplit_IFrameSplitOperator.IsNumber(a.LineType)&&(e.Frame.YSplitOperator.LineType=a.LineType),Array.isArray(a.IgnoreYValue)&&(e.Frame.YSplitOperator.IgnoreYValue=a.IgnoreYValue),!1!==a.IsShowLeftText&&!0!==a.IsShowLeftText||(e.Frame.IsShowYText[0]=a.IsShowLeftText,e.Frame.YSplitOperator.IsShowLeftText=a.IsShowLeftText),!1!==a.IsShowRightText&&!0!==a.IsShowRightText||(e.Frame.IsShowYText[1]=a.IsShowRightText,e.Frame.YSplitOperator.IsShowRightText=a.IsShowRightText),0==a.IsShowXLine&&(e.Frame.IsShowXLine=a.IsShowXLine),0==a.IsShowYLine&&(e.Frame.IsShowYLine=a.IsShowYLine)}return e},this.SetOption=function(t){i.JSConsole.Chart.Log("[JSChart::SetOption]",t);var e=null;switch(t.Type){case"\u5386\u53f2K\u7ebf\u56fe":case"\u5386\u53f2K\u7ebf\u56fe\u6a2a\u5c4f":e=this.CreateKLineChartContainer(t);break;case"\u81ea\u5b9a\u4e49\u6307\u6570\u5386\u53f2K\u7ebf\u56fe":e=this.CreateCustomKLineChartContainer(t);break;case"\u5206\u949f\u8d70\u52bf\u56fe":case"\u5206\u949f\u8d70\u52bf\u56fe\u6a2a\u5c4f":e=this.CreateMinuteChartContainer(t);break;case"\u5386\u53f2\u5206\u949f\u8d70\u52bf\u56fe":e=this.CreateHistoryMinuteChartContainer(t);break;case"K\u7ebf\u8bad\u7ec3":case"K\u7ebf\u8bad\u7ec3\u6a2a\u5c4f":e=this.CreateKLineTrainChartContainer(t);break;case"\u6df1\u5ea6\u56fe":e=this.CreateDepthChartContainer(t);break;case"\u7b80\u5355\u56fe\u5f62":return this.CreateSimpleChart(t);case"\u96f7\u8fbe\u56fe":case"\u997c\u56fe":return this.CreatePieChart(t);case"\u5730\u56fe":return this.CreateMapChart(t);default:return!1}if(!e)return!1;for(var a in 1!=t.IsAutoUpdate&&1!=t.IsAutoUpate||(e.IsAutoUpdate=!0),t.AutoUpdateFrequency>0&&(e.AutoUpdateFrequency=t.AutoUpdateFrequency),t.EventCallback){var r=t.EventCallback[a];e.AddEventCallback(r)}if(!t.Symbol)return!1;this.JSChartContainer=e,e.Draw(),e.ChangeSymbol(t.Symbol),this.JSChartContainer.Draw()},this.ChangeSymbol=function(t){this.JSChartContainer&&this.JSChartContainer.ChangeSymbol(t)},this.ChangeIndex=function(t,e,a){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeIndex&&this.JSChartContainer.ChangeIndex(t,e,a)},this.ChangeScriptIndex=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeScriptIndex&&this.JSChartContainer.ChangeScriptIndex(t,e)},this.GetIndexInfo=function(){return this.JSChartContainer&&"function"==typeof this.JSChartContainer.GetIndexInfo?this.JSChartContainer.GetIndexInfo():[]},this.ChangePeriod=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangePeriod&&this.JSChartContainer.ChangePeriod(t,e)},this.ChangeInstructionIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeInstructionIndex&&this.JSChartContainer.ChangeInstructionIndex(t)},this.ChangeInstructionScriptIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeInstructionIndex&&this.JSChartContainer.ChangeInstructionScriptIndex(t)},this.CancelInstructionIndex=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.CancelInstructionIndex&&this.JSChartContainer.CancelInstructionIndex()},this.ChangeIndexTemplate=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeIndexTemplate&&(i.JSConsole.Chart.Log("[JSChart:ChangeIndexTemplate] ",t),this.JSChartContainer.ChangeIndexTemplate(t))},this.ChangeRight=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeRight&&this.JSChartContainer.ChangeRight(t)},this.ChangeKLineDrawType=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeKLineDrawType&&this.JSChartContainer.ChangeKLineDrawType(t)},this.ChangMainDataControl=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetMainDataConotrl&&this.JSChartContainer.SetMainDataConotrl(t)},this.OverlaySymbol=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.OverlaySymbol&&this.JSChartContainer.OverlaySymbol(t,e)},this.ForceLandscape=function(t){this.JSChartContainer&&(i.JSConsole.Chart.Log("[JSChart::ForceLandscape] bForceLandscape="+t),this.JSChartContainer.IsForceLandscape=t)},this.LockIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.LockIndex&&(i.JSConsole.Chart.Log("[JSChart:LockIndex] lockData",t),this.JSChartContainer.LockIndex(t))},this.ChangeTradeDate=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeTradeDate&&(i.JSConsole.Chart.Log("[JSChart:ChangeTradeDate] date",t),this.JSChartContainer.ChangeTradeDate(t))},this.ChangeDayCount=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeDayCount&&(i.JSConsole.Chart.Log("[JSChart:ChangeDayCount] count",t),this.JSChartContainer.ChangeDayCount(t))},this.StopAutoUpdate=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.StopAutoUpdate&&(i.JSConsole.Chart.Log("[JSChart::StopAutoUpdate] Stop."),this.JSChartContainer.StopAutoUpdate())},this.StopAutoUpdata=this.StopAutoUpdate,this.ChartDestory=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChartDestory&&(i.JSConsole.Chart.Log("[JSChart::ChartDestory]"),this.JSChartContainer.ChartDestory())},this.CreateSimpleChart=function(t){var e=new mt(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),t.FrameType>0&&(e.FrameType=t.FrameType),isNaN(t.SplitCount)||(e.YSplitCount=t.SplitCount),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(e.Frame.ChartBorder.Bottom=t.Border.Bottom),isNaN(t.Border.TitleHeight)||(e.Frame.ChartBorder.TitleHeight=t.Border.TitleHeight)),t.XFontType&&(e.Frame.XFontType=t.XFontType),t.Frame&&(t.Frame[0].MaxDistanceWidth&&(e.Frame.MaxDistanceWidth=t.Frame[0].MaxDistanceWidth),null!=t.Frame[0].IsShowBorder&&(e.Frame.IsShowBorder=t.Frame[0].IsShowBorder),t.Frame[0].StringFormat&&(e.Frame.YSplitOperator.StringFormat=t.Frame[0].StringFormat),t.Frame[0].FloatPrecision>=0&&(e.Frame.YSplitOperator.FloatPrecision=t.Frame[0].FloatPrecision),t.Frame[0].IgnoreYValue&&(e.Frame.YSplitOperator.IgnoreYValue=t.Frame[0].IgnoreYValue)),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.JSChartContainer.Draw()},this.CreatePieChart=function(t){var e=new ft(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),t.Radius&&(e.Radius=t.Radius),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(e.Frame.ChartBorder.Bottom=t.Border.Bottom)),t.Frame&&0==t.Frame[0].IsShowBorder&&(e.Frame.IsShowBorder=t.Frame[0].IsShowBorder),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.JSChartContainer.Draw()},this.CreateMapChart=function(t){var e=new dt(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(e.Frame.ChartBorder.Bottom=t.Border.Bottom)),t.Frame&&0==t.Frame[0].IsShowBorder&&(e.Frame.IsShowBorder=t.Frame[0].IsShowBorder),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.JSChartContainer.Draw()},this.OnTouchStart=function(t){this.JSChartContainer&&this.JSChartContainer.ontouchstart(t)},this.OnTouchMove=function(t){this.JSChartContainer&&this.JSChartContainer.ontouchmove(t)},this.OnTouchEnd=function(t){this.JSChartContainer&&this.JSChartContainer.ontouchend(t)},this.SaveToImage=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SaveToImage&&this.JSChartContainer.SaveToImage(t)}}T.Init=function(t){i.JSConsole.Chart.Log("[JSChart.Init] uielement",t);var e=new T(t);return e.OnSize(),e},T.SetDomain=function(t,e){t&&(m.JSCommonResource_Global_JSChartResource.Domain=t,m.JSCommonResource_Global_JSChartResource.Index.StockHistoryDayApiUrl=t+"/API/StockHistoryDay",m.JSCommonResource_Global_JSChartResource.Index.MarketLongShortApiUrl=t+"/API/FactorTiming",m.JSCommonResource_Global_JSChartResource.Index.MarketAttentionApiUrl=t+"/API/MarketAttention",m.JSCommonResource_Global_JSChartResource.Index.MarketHeatApiUrl=t+"/API/MarketHeat"),e&&(m.JSCommonResource_Global_JSChartResource.CacheDomain=e),o.JSCommonComplier.JSComplier.SetDomain(t,e)},T.SetStyle=function(t){t&&m.JSCommonResource_Global_JSChartResource.SetStyle(t)},T.GetResource=function(){return m.JSCommonResource_Global_JSChartResource},T.GetKLineZoom=function(){return Y},T.GetChinaFuturesTimeData=function(){return s.JSCommonCoordinateData_Global_FuturesTimeData},T.GetInternalTimeData=function(t){switch(t){case"NYMEXTimeData":return s.JSCommonCoordinateData_Global_NYMEXTimeData;case"COMEXTimeData":return s.JSCommonCoordinateData_Global_COMEXTimeData;case"NYBOTTimeData":return s.JSCommonCoordinateData_Global_NYBOTTimeData;case"CBOTTimeData":return s.JSCommonCoordinateData_Global_CBOTTimeData;case"LMETimeData":return s.JSCommonCoordinateData_Global_LMETimeData;case"FuturesTimeData":return s.JSCommonCoordinateData_Global_FuturesTimeData;default:return null}};var I={RECV_INDEX_DATA:2,RECV_HISTROY_DATA:3,RECV_TRAIN_MOVE_STEP:4,CHART_STATUS:5,BARRAGE_PLAY_END:6,RECV_START_AUTOUPDATE:9,RECV_STOP_AUTOUPDATE:10,ON_TITLE_DRAW:12,RECV_MINUTE_DATA:14,ON_CLICK_INDEXTITLE:15,RECV_KLINE_UPDATE_DATA:16,ON_INDEXTITLE_DRAW:19,ON_CUSTOM_VERTICAL_DRAW:20,ON_ENABLE_SPLASH_DRAW:22,ON_DRAW_DEPTH_TOOLTIP:25,ON_PHONE_TOUCH:27},x={OP_SCROLL_LEFT:1,OP_SCROLL_RIGHT:2,OP_ZOOM_OUT:3,OP_ZOOM_IN:4,OP_GOTO_HOME:5};function A(t){this.ClassName="JSChartContainer";this.Frame,this.ChartPaint=new Array,this.ChartPaintEx=[],this.ChartInfo=new Array,this.ChartInfoPaint,this.ExtendChartPaint=new Array,this.TitlePaint=new Array,this.OverlayChartPaint=new Array,this.ChartDrawPicture=new Array,this.CurrentChartDrawPicture=null,this.SelectChartDrawPicture=null,this.ChartCorssCursor,this.IsClickShowCorssCursor=!1,this.ChartSplashPaint=null,this.SplashTitle="\u6570\u636e\u52a0\u8f7d\u4e2d",this.Canvas=t.GetContext("2d"),this.UIElement=t,this.MouseDrag,this.DragMode=1,this.PhoneTouchInfo,this.EnableScrollUpDown=!1,this.TouchTimer=null,this.LastDrawStatus,this.LastDrawID=1,this.SnapshotType=0,this.CursorIndex=0,this.LastPoint=new E,this.IsForceLandscape=!1,this.CorssCursorTouchEnd=!1,this.EnableAnimation=!1,this.FrameSplitData=new Map,this.FrameSplitData.set("double",new d.JSCommonSplit_SplitData),this.FrameSplitData.set("price",new d.JSCommonSplit_PriceSplitData),this.UpdateUICallback,this.IsOnTouch=!1,this.IsFullDraw=!1,this.LanguageID=m.JSCommonResource_JSCHART_LANGUAGE_ID.LANGUAGE_CHINESE_ID,this.FormatDateString=d.JSCommonSplit_IFrameSplitOperator.FormatDateString,this.FormatValueString=d.JSCommonSplit_IFrameSplitOperator.FormatValueString,this.ToFixedPoint=L,this.ToFixedRect=M,this.FormatTimeString=d.JSCommonSplit_IFrameSplitOperator.FormatTimeString,this.mapEvent=new Map,this.NetworkFilter,this.IsDestroy=!1,this.ChartDestory=function(){this.IsDestroy=!0,this.StopAutoUpdate()},this.AddEventCallback=function(t){if(t&&t.event&&t.callback){var e={Callback:t.callback,Source:t};this.mapEvent.set(t.event,e)}},this.RemoveEventCallback=function(t){this.mapEvent.has(t)&&this.mapEvent.delete(t)},this.GetEvent=function(t){if(!this.mapEvent.has(t))return null;var e=this.mapEvent.get(t);return e},this.GetIndexEvent=function(){return this.GetEvent(I.RECV_INDEX_DATA)},this.GetBarrageEvent=function(){return this.GetEvent(I.BARRAGE_PLAY_END)},this.GetEnableSplashEvent=function(){return this.GetEvent(I.ON_ENABLE_SPLASH_DRAW)},this.IsPhoneDragging=function(t){var e=t.changedTouches.length,a=t.touches.length;return 1==e&&1==a},this.IsPhonePinching=function(t){var e=t.changedTouches.length,a=t.touches.length;return(1==e||2==e)&&2==a},this.IsSingleTouch=function(t){var e=t.touches.length;return 1==e},this.GetToucheData=function(t,e){for(var a=new Array,i=0;i<t.touches.length;++i){var r=t.touches[i];e?a.push({clientX:r.y,clientY:r.x,pageX:r.y,pageY:r.x}):a.push({clientX:r.x,clientY:r.y,pageX:r.x,pageY:r.y})}return a},this.ontouchstart=function(t){var e=this;if(e.IsOnTouch=!0,e.PhonePinch=null,this.IsPhoneDragging(t)){if(e.TryClickLock||this.TryClickIndexTitle){var a=this.GetToucheData(t,e.IsForceLandscape),i=a[0].clientX,r=a[0].clientY;if(e.TryClickLock&&e.TryClickLock(i,r))return;if(e.TryClickIndexTitle&&e.TryClickIndexTitle(i,r))return}null!=this.TouchTimer&&clearTimeout(this.TouchTimer),1==this.ChartCorssCursor.IsShow&&(this.TouchTimer=setTimeout((function(){if(n.Click.X==n.LastMove.X&&n.Click.Y==n.LastMove.Y){e.MouseDrag;e.MouseDrag=null;var a=n.Click.X,i=n.Click.Y;e.IsForceLandscape&&(i=e.UIElement.Height-n.Click.Y),e.OnMouseMove(a,i,t)}}),800));var n={Click:{},LastMove:{}};a=this.GetToucheData(t,e.IsForceLandscape);if(n.Click.X=a[0].clientX,n.Click.Y=a[0].clientY,n.LastMove.X=a[0].clientX,n.LastMove.Y=a[0].clientY,1==e.DragMode&&(e.MouseDrag=n),this.PhoneTouchInfo={Start:{X:a[0].clientX,Y:a[0].clientY},End:{X:a[0].clientX,Y:a[0].clientY}},e.IsClickShowCorssCursor){i=n.Click.X,r=n.Click.Y;e.OnMouseMove(i,r,t,!0)}this.TouchEvent({EventID:I.ON_PHONE_TOUCH,FunctionName:"OnTouchStart"},t)}else if(this.IsPhonePinching(t)){var s={Start:{},Last:{}};a=this.GetToucheData(t,e.IsForceLandscape);s.Start={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},s.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},e.PhonePinch=s}},this.ontouchmove=function(t){var e=this,a=this.GetToucheData(t,e.IsForceLandscape);if(this.IsPhoneDragging(t)){var i=e.MouseDrag;if(null==i){var r=a[0].clientX,n=a[0].clientY;e.OnMouseMove(r,n,t)}else{var s=Math.abs(i.LastMove.X-a[0].clientX);if(s=parseInt(s),1==e.DragMode){if(s<5)return;var o=!0;i.LastMove.X<a[0].clientX&&(o=!1),e.DataMove(s,o)?(e.UpdataDataoffset(),e.UpdatePointByCursorIndex(),e.UpdateFrameMaxMin(),e.ResetFrameXYSplit(),e.Draw()):e.DragDownloadData&&e.DragDownloadData(),i.LastMove.X=a[0].clientX,i.LastMove.Y=a[0].clientY}}this.PhoneTouchInfo.End.X=a[0].clientX,this.PhoneTouchInfo.End.Y=a[0].clientY}else if(this.IsPhonePinching(t)){var h=e.PhonePinch;if(!h)return;if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Touch)return;var l=Math.abs(a[0].pageY-a[1].pageY),u=Math.abs(h.Last.Y-h.Last.Y2),c=l-u,C=Math.abs(a[0].pageX-a[1].pageX),m=Math.abs(h.Last.X-h.Last.X2),f=C-m,d=this.ZoomStepPixel;if(Math.abs(c)<d&&Math.abs(f)<d)return;var D=c;if(Math.abs(c)<d&&(D=f),D>0){var p={};if(p.Index=parseInt(Math.abs(e.CursorIndex-.5).toFixed(0)),!e.Frame.ZoomUp(p))return;e.CursorIndex=p.Index,e.UpdatePointByCursorIndex(),e.UpdataDataoffset(),e.UpdateFrameMaxMin(),e.ResetFrameXYSplit(),e.Draw()}else{p={};if(p.Index=parseInt(Math.abs(e.CursorIndex-.5).toFixed(0)),!e.Frame.ZoomDown(p))return;e.CursorIndex=p.Index,e.UpdataDataoffset(),e.UpdatePointByCursorIndex(),e.UpdateFrameMaxMin(),e.ResetFrameXYSplit(),e.Draw()}h.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY}}},this.ontouchend=function(t){this.IsOnTouch=!1,i.JSConsole.Chart.Log("[JSChartContainer:ontouchend] IsOnTouch="+this.IsOnTouch+" LastDrawStatus="+this.LastDrawStatus),null!=this.TouchTimer&&clearTimeout(this.TouchTimer),this.TouchEvent({EventID:I.ON_PHONE_TOUCH,FunctionName:"OnTouchEnd"},t),this.Draw()},this.TouchEvent=function(t,e){var a=t.EventID,i=this.GetEvent(a);if(!i||!i.Callback)return!1;var n=this.PhoneTouchInfo;if(!n||!n.Start||!n.End)return!1;var s=n.End.X,o=n.End.Y,h=n.End.X,l=n.End.Y,u={X:s,Y:o,FrameID:-1,FunctionName:t.FunctionName,Drag:{Start:{X:n.Start.X,Y:n.Start.Y},End:{X:n.End.X,Y:n.End.Y}}},c=!1,C=new r.JSCommon_Rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight());if(c=C.IsPointIn(h,l),c){var m={},f=this.Frame.GetYData(l,m);if(d.JSCommonSplit_IFrameSplitOperator.IsNumber(m.FrameID)&&m.FrameID>=0){var D=this.Frame.GetXData(h);u.FrameID=m.FrameID,u.Data={X:D,Y:f}}}return i.Callback(i,u,this),!0},this.FullDraw=function(t){var e=this,a=this;if(this.Canvas.clearRect(0,0,this.UIElement.Width,this.UIElement.Height),this.Frame.SetDrawOtherChart((function(){for(var t in e.ExtendChartPaint){var a=e.ExtendChartPaint[t];a.IsCallbackDraw&&a.Draw()}})),this.Frame.Draw(),this.Frame.DrawCustomVertical){var i=this.GetEvent(I.ON_CUSTOM_VERTICAL_DRAW);this.Frame.DrawCustomVertical(i)}if(this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return this.Frame.DrawInsideHorizontal(),this.ChartSplashPaint.Draw(),this.LastDrawStatus="FullDraw",void this.Canvas.draw();for(var r in this.ChartPaint){var n=this.ChartPaint[r];n.IsDrawFirst&&n.Draw()}for(var r in this.ChartPaint){n=this.ChartPaint[r];n.IsDrawFirst||n.Draw()}for(var r in this.ChartPaintEx){n=this.ChartPaintEx[r];n.Draw()}for(var r in this.OverlayChartPaint){n=this.OverlayChartPaint[r];n.Draw()}this.Frame.DrawInsideHorizontal&&this.Frame.DrawInsideHorizontal(),this.Frame.DrawCustomHorizontal&&this.Frame.DrawCustomHorizontal(),this.ChartInfoPaint&&this.ChartInfoPaint.Draw(),this.Frame.DrawLock();var s="DrawDynamicInfo"==t||this.IsOnTouch;s&&a.ChartCorssCursor&&(a.ChartCorssCursor.LastPoint=a.LastPoint,a.ChartCorssCursor.CursorIndex=a.CursorIndex,a.ChartCorssCursor.Draw());var o=this.GetEvent(I.ON_TITLE_DRAW),h=this.GetEvent(I.ON_INDEXTITLE_DRAW);for(var r in a.TitlePaint){n=a.TitlePaint[r];if(n.IsDynamic){if("DynamicChartTitlePainting"==n.ClassName?n.OnDrawEvent=h:n.OnDrawEvent=o,n.CursorIndex=a.CursorIndex,!s&&this.ChartPaint[0]&&this.ChartPaint[0].Data&&this.ChartPaint[0].Data.Data){var l=this.ChartPaint[0].Data,u=l.Data.length;u>0&&(n.CursorIndex=u-1-l.DataOffset)}n.FullDraw&&n.FullDraw()}}if(s)for(var r in this.ExtendChartPaint){n=this.ExtendChartPaint[r];n.IsCallbackDraw||(n.LatestPoint={X:this.LastPoint.X,Y:this.LastPoint.Y},n.IsDynamic&&n.DrawAfterTitle&&n.Draw())}this.LastDrawStatus="FullDraw",this.Canvas.draw(!1)},this.Draw=function(){var t=this;if(this.IsFullDraw)this.FullDraw("Draw");else if(1!=this.IsOnTouch||"MinuteChartContainer"!=this.ClassName&&"MinuteChartHScreenContainer"!=this.ClassName){var e=this;if(this.Canvas.clearRect(0,0,this.UIElement.Width,this.UIElement.Height),this.Frame.SetDrawOtherChart((function(){for(var e in t.ExtendChartPaint){var a=t.ExtendChartPaint[e];a.IsCallbackDraw&&a.Draw()}})),this.Frame.Draw(),this.Frame.DrawCustomVertical){var a=this.GetEvent(I.ON_CUSTOM_VERTICAL_DRAW);this.Frame.DrawCustomVertical(a)}if(this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return this.Frame.DrawInsideHorizontal(),this.ChartSplashPaint.Draw(),this.LastDrawStatus="Draw",void this.Canvas.draw();for(var i in this.ChartPaint){var r=this.ChartPaint[i];r.IsDrawFirst&&r.Draw()}for(var i in this.ChartPaint){r=this.ChartPaint[i];r.IsDrawFirst||r.Draw()}for(var i in this.ChartPaintEx){r=this.ChartPaintEx[i];r.Draw()}for(var i in this.OverlayChartPaint){r=this.OverlayChartPaint[i];r.Draw()}for(var i in this.ExtendChartPaint){r=this.ExtendChartPaint[i];r.IsCallbackDraw||(r.IsDynamic||r.IsAnimation||r.Draw())}this.Frame.DrawInsideHorizontal&&this.Frame.DrawInsideHorizontal(),this.Frame.DrawCustomHorizontal&&this.Frame.DrawCustomHorizontal(),this.ChartInfoPaint&&this.ChartInfoPaint.Draw(),this.Frame.DrawLock();var n=this.GetEvent(I.ON_TITLE_DRAW),s=this.GetEvent(I.ON_INDEXTITLE_DRAW);for(var i in this.TitlePaint){r=this.TitlePaint[i];r.IsDynamic&&("DynamicChartTitlePainting"==r.ClassName?r.OnDrawEvent=s:r.OnDrawEvent=n,"function"==typeof r.DrawTitle&&r.DrawTitle())}if(this.LastDrawStatus="Draw",this.IsOnTouch)this.Canvas.draw(!1);else{++this.LastDrawID;this.LastDrawID;this.Canvas.draw(!1,(function(){e.Frame.Snapshot(e.SnapshotType)}))}}},this.TempImage=null,this.DrawDynamicInfo=function(){if(this.IsFullDraw)this.FullDraw("DrawDynamicInfo");else{var t=this,a=this.Frame.ChartBorder.GetChartWidth(),i=this.Frame.ChartBorder.GetChartHeight();if(1==t.SnapshotType){if(null==this.Frame.ScreenImageData)return;e.canvasPutImageData({canvasId:this.UIElement.ID,x:0,y:0,width:a,height:i,data:this.Frame.ScreenImageData,success:function(e){t.DrawDynamicChart(!0)}})}else{if(null==this.Frame.ScreenImagePath)return;t.Canvas&&t.Canvas.DomNode?(this.TempImage||(this.TempImage=t.Canvas.DomNode.createImage()),this.TempImage.src=this.Frame.ScreenImagePath,this.TempImage.onload=function(){t.Canvas.clearRect(0,0,a,i),t.Canvas.drawImage(t.TempImage,0,0,a,i),t.DrawDynamicChart(!1)}):(t.Canvas.drawImage(this.Frame.ScreenImagePath,0,0,a,i),t.DrawDynamicChart(!1))}}},this.DrawDynamicChart=function(t){var e=this;for(var a in e.ChartCorssCursor&&(e.ChartCorssCursor.LastPoint=e.LastPoint,e.ChartCorssCursor.CursorIndex=e.CursorIndex,e.ChartCorssCursor.Draw()),e.TitlePaint){var r=e.TitlePaint[a];r.IsDynamic&&(r.CursorIndex=e.CursorIndex,r.Draw())}for(var a in this.ExtendChartPaint){r=this.ExtendChartPaint[a];r.IsDynamic&&r.DrawAfterTitle&&r.Draw()}if(this.EnableAnimation)for(var a in this.ExtendChartPaint){r=this.ExtendChartPaint[a];!0===r.IsAnimation&&r.Draw()}this.LastDrawStatus="DrawDynamicInfo",i.JSConsole.Chart.Log("[JSChartContainer:DrawDynamicChart][ID="+this.UIElement.ID+"] draw ....."),e.Canvas.draw(t,(function(){i.JSConsole.Chart.Log("[JSChartContainer:DrawDynamicChart] finish.")}))},this.DrawAnimation=function(){var t=this;if(this.EnableAnimation){if(this.Frame.ScreenImagePath&&!this.IsOnTouch){for(var e in this.ExtendChartPaint){var a=this.ExtendChartPaint[e];!0===a.IsAnimation&&(a.IsMoveStep=!0)}this.DrawDynamicInfo()}this.UIElement.WebGLCanvas.requestAnimationFrame((function(){t.DrawAnimation()}))}},this.StartAnimation=function(t){var e=this;if(i.JSConsole.Chart.Log("[JSChartContainer::StartAnimation] ",this.UIElement.WebGLCanvas),this.UIElement.WebGLCanvas){var a=!1,r=null;for(var n in this.ExtendChartPaint){var s=this.ExtendChartPaint[n];if("BarragePaint"===s.ClassName){a=!0,r=s.BarrageList;break}}if(!a){var o=new c.JSCommonExtendChartPaint_BarragePaint;o.Canvas=this.Canvas,o.ChartBorder=this.Frame.ChartBorder,o.ChartFrame=this.Frame,o.HQChart=this,o.SetOption(t),this.ExtendChartPaint.push(o),r=o.BarrageList}this.EnableAnimation=!0;return this.UIElement.WebGLCanvas.requestAnimationFrame((function(){e.DrawAnimation()})),r}},this.StopAnimation=function(){this.EnableAnimation=!1,this.DrawDynamicInfo()},this.OnMouseMove=function(t,e,a,i){var r=this.LastPoint.Y;this.LastPoint.X=t,this.LastPoint.Y=e;var n=this.CursorIndex;if(this.CursorIndex=this.Frame.GetXData(t),"KLineChartContainer"==this.ClassName||"KLineChartHScreenContainer"==this.ClassName){if(n==this.CursorIndex&&Math.abs(r-e)<1)return}else if(parseInt(n-.5)==parseInt(this.CursorIndex-.5)&&Math.abs(r-e)<1)return;i?this.FullDraw():this.IsForceLandscape?this.Draw():this.DrawDynamicInfo()},this.OnDoubleClick=function(t,e,a){},this.UpdatePointByCursorIndex=function(){this.LastPoint.X=this.Frame.GetXFromIndex(this.CursorIndex);var t=Math.abs(this.CursorIndex-.5);t=parseInt(t.toFixed(0)),"KLineChartContainer"==this.ClassName&&(t=this.CursorIndex);var e=this.Frame.Data;if(!(e.DataOffset+t>=e.Data.length)){var a=e.Data[e.DataOffset+t].Close;this.LastPoint.Y=this.Frame.GetYFromData(a)}},this.ResetFrameXYSplit=function(){"function"==typeof this.Frame.ResetXYSplit&&this.Frame.ResetXYSplit()},this.UpdateFrameMaxMin=function(){var t=new Array,e=new Array;for(var a in this.ChartPaint){var i=this.ChartPaint[a];0!=i.IsShow&&e.push(i)}for(var a in this.OverlayChartPaint)e.push(this.OverlayChartPaint[a]);for(var a in e){var r=e[a],n=r.GetMaxMin();if(null!=n&&null!=n.Max&&null!=n.Min){var s=null;for(var o in t)if(t[o].Frame==r.ChartFrame){s=t[o];break}s?(s.Range.Max<n.Max&&(s.Range.Max=n.Max),s.Range.Min>n.Min&&(s.Range.Min=n.Min)):(s={},s.Frame=r.ChartFrame,s.Range=n,t.push(s))}}for(var a in t){i=t[a];i.Frame&&i.Range&&(null!=i.Range.Max&&null!=i.Range.Min&&(i.Frame.YSpecificMaxMin?(i.Frame.HorizontalMax=i.Frame.YSpecificMaxMin.Max,i.Frame.HorizontalMin=i.Frame.YSpecificMaxMin.Min):(i.Frame.HorizontalMax=i.Range.Max,i.Frame.HorizontalMin=i.Range.Min),i.Frame.XYSplit=!0))}},this.DataMoveLeft=function(){var t=null;return t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data,!!t&&(!(t.DataOffset<=0)&&(--t.DataOffset,!0))},this.DataMoveRight=function(){var t=null;if(t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data,!t)return!1;var e=0;return e=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount,!!e&&(!(e+t.DataOffset>=t.Data.length)&&(++t.DataOffset,!0))},this.UpdataDataoffset=function(){var t=null;if(t=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data,t){for(var e in this.ChartPaint){var a=this.ChartPaint[e];a.Data&&(a.Data.DataOffset=t.DataOffset)}for(var e in this.OverlayChartPaint){a=this.OverlayChartPaint[e];a.Data&&(a.Data.DataOffset=t.DataOffset)}}},this.DataMove=function(t,e){if(t=parseInt(t/this.StepPixel),t<=0)return!1;var a=null;if(a=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data,!a)return!1;var i=0;if(i=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount,!i)return!1;if(e){if(this.RightSpaceCount>0){if(i+a.DataOffset>=a.Data.length+this.RightSpaceCount-1)return!1;a.DataOffset+=t,a.DataOffset+i>=a.Data.length+this.RightSpaceCount&&(a.DataOffset=a.Data.length-(i-this.RightSpaceCount))}else{if(i+a.DataOffset>=a.Data.length)return!1;a.DataOffset+=t,a.DataOffset+i>=a.Data.length&&(a.DataOffset=a.Data.length-i)}return!0}return!(a.DataOffset<=0)&&(a.DataOffset-=t,a.DataOffset<0&&(a.DataOffset=0),!0)},this.GetSubFrameIndex=function(t,e){if(!this.Frame.SubFrame||this.Frame.SubFrame.length<=0)return-1;for(var a in this.Frame.SubFrame){var i=this.Frame.SubFrame[a].Frame,r=i.ChartBorder.GetLeft(),n=i.ChartBorder.GetTop(),s=i.ChartBorder.GetHeight(),o=i.ChartBorder.GetWidth();if(this.Canvas.rect(r,n,o,s),this.Canvas.isPointInPath(t,e))return parseInt(a)}return 0},this.GetDataIndexByPoint=function(t){var e=this.Frame;this.Frame.SubFrame&&this.Frame.SubFrame.length>0&&(e=this.Frame.SubFrame[0].Frame);var a=null;if(a=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data,a&&e){var i=parseInt(e.GetXData(t));return a.DataOffset+i}},this.SaveToImage=function(t){var a=this.UIElement.Width,r=this.UIElement.Height;i.JSConsole.Chart.Log("[JSChartContainer::SaveToImage]",this.UIElement),e.canvasToTempFilePath({x:0,y:0,width:a,height:r,canvasId:this.UIElement.ID,success:function(e){var i={ImagePath:e.tempFilePath,Width:a,Height:r};"function"==typeof t&&t(i)}})}}function F(t,e){var a=1;if(isNaN(t))return t;t<0&&(a=-1);var i=Math.pow(10,e),r=Math.round(Math.abs(t)*i)/i*a;if(/^(\d+(?:\.\d+)?)(e)([\-]?\d+)$/.test(r))var n=r.toFixed2(e);else n=r.toString();var s=n.indexOf(".");s<0&&e>0&&(s=n.length,n+=".");while(n.length<=s+e)n+="0";return n}function y(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function L(t){return parseInt(t)+.5}function M(t){return.5+t<<0}function E(){this.X,this.Y}function N(){this.UIElement,this.Left=50,this.Right=80,this.Top=50,this.Bottom=50,this.TitleHeight=15,this.TopSpace=0,this.BottomSpace=0,this.GetChartWidth=function(){return this.UIElement.Width},this.GetChartHeight=function(){return this.UIElement.Height},this.GetLeft=function(){return this.Left},this.GetRight=function(){return this.UIElement.Width-this.Right},this.GetTop=function(){return this.Top},this.GetTopEx=function(){return this.Top+this.TitleHeight+this.TopSpace},this.GetTopTitle=function(){return this.Top+this.TitleHeight},this.GetBottom=function(){return this.UIElement.Height-this.Bottom},this.GetBottomEx=function(){return this.UIElement.Height-this.Bottom-this.BottomSpace},this.GetWidth=function(){return this.UIElement.Width-this.Left-this.Right},this.GetHeight=function(){return this.UIElement.Height-this.Top-this.Bottom},this.GetHeightEx=function(){return this.UIElement.Height-this.Top-this.Bottom-this.TitleHeight-this.TopSpace-this.BottomSpace},this.GetRightEx=function(){return this.UIElement.Width-this.Right-this.TitleHeight-this.TopSpace},this.GetWidthEx=function(){return this.UIElement.Width-this.Left-this.Right-this.TitleHeight-this.TopSpace-this.BottomSpace},this.GetLeftEx=function(){return this.Left+this.BottomSpace},this.GetRightTitle=function(){return this.UIElement.Width-this.Right-this.TitleHeight},this.GetTitleHeight=function(){return this.TitleHeight}}function _(){this.HorizontalInfo=new Array,this.VerticalInfo=new Array,this.ClassName="IChartFramePainting",this.Canvas,this.Identify,this.ChartBorder,this.PenBorder=m.JSCommonResource_Global_JSChartResource.FrameBorderPen,this.TitleBGColor=m.JSCommonResource_Global_JSChartResource.FrameTitleBGColor,this.IsShow=!0,this.SizeChange=!0,this.XYSplit=!0,this.HorizontalMax,this.HorizontalMin,this.XPointCount=10,this.YSplitOperator,this.XSplitOperator,this.Data,this.YSpecificMaxMin=null,this.YSplitScale=null,this.IsShowBorder=!0,this.IsShowIndexName=!0,this.IndexParamSpace=2,this.IsLocked=!1,this.LockPaint=null,this.BorderLine=null,this.Draw=function(){this.DrawFrame(),this.DrawBorder(),this.SizeChange=!1,this.XYSplit=!1},this.DrawFrame=function(){},this.DrawBorder=function(){if(this.IsShowBorder){var t=L(this.ChartBorder.GetLeft()),e=L(this.ChartBorder.GetTop()),a=L(this.ChartBorder.GetRight()),i=L(this.ChartBorder.GetBottom()),r=a-t,n=i-e;null==this.BorderLine?(this.Canvas.strokeStyle=this.PenBorder,this.Canvas.strokeRect(t,e,r,n)):d.JSCommonSplit_IFrameSplitOperator.IsNumber(this.BorderLine)&&(this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),(1&this.BorderLine)>0&&(this.Canvas.moveTo(t,e),this.Canvas.lineTo(a,e)),(2&this.BorderLine)>0&&(this.Canvas.moveTo(t,i),this.Canvas.lineTo(a,i)),(4&this.BorderLine)>0&&(this.Canvas.moveTo(t,e),this.Canvas.lineTo(t,i)),(8&this.BorderLine)>0&&(this.Canvas.moveTo(a,e),this.Canvas.lineTo(a,i)),this.Canvas.stroke())}},this.DrawTitleBG=function(){},this.DrawLock=function(){this.IsLocked&&(null==this.LockPaint&&(this.LockPaint=new u.JSCommonChartPaint_ChartLock),this.LockPaint.Canvas=this.Canvas,this.LockPaint.ChartBorder=this.ChartBorder,this.LockPaint.ChartFrame=this,this.LockPaint.Draw())},this.SetLock=function(t){t?(this.IsLocked=!0,this.LockPaint||(this.LockPaint=new u.JSCommonChartPaint_ChartLock),t.Callback&&(this.LockPaint.Callback=t.Callback),t.IndexName&&(this.LockPaint.IndexName=t.IndexName),t.ID&&(this.LockPaint.LockID=t.ID),t.BG&&(this.LockPaint.BGColor=t.BG),t.Text&&(this.LockPaint.Title=t.Text),t.TextColor&&(this.LockPaint.TextColor=t.TextColor),t.Font&&(this.LockPaint.Font=t.Font),t.Count&&(this.LockPaint.LockCount=t.Count)):this.IsLocked=!1}}function w(){this.newMethod=_,this.newMethod(),delete this.newMethod,this.ClassName="NoneFrame",this.Snapshot=function(){},this.DrawInsideHorizontal=function(){},this.SetSizeChage=function(t){this.SizeChange=t,this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}}}function b(){this.newMethod=_,this.newMethod(),delete this.newMethod,this.ClassName="AverageWidthFrame",this.DataWidth=50,this.DistanceWidth=10,this.MinXDistance=30,this.MinYDistance=10,this.XMessageAlign="top",this.IsShowTitle=!0,this.IsShowYText=[!0,!0],this.XBottomOffset=m.JSCommonResource_Global_JSChartResource.Frame.XBottomOffset,this.YTextTopOffset=m.JSCommonResource_Global_JSChartResource.Frame.YTopOffset,this.YTextPosition=[0,0],this.IsShowXLine=!0,this.IsShowYLine=!0,this.ShortYLineLength=5,this.ShortXLineLength=5,this.DrawOtherChart,this.DrawFrame=function(){this.XPointCount>0&&(this.DistanceWidth=this.ChartBorder.GetWidth()/(4*this.XPointCount),this.DataWidth=2*this.DistanceWidth),this.DrawHorizontal(),this.DrawVertical()},this.GetYFromData=function(t){if(t<=this.HorizontalMin)return this.ChartBorder.GetBottomEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetTopEx();var e=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetBottomEx()-e},this.DrawInsideHorizontal=function(){if(!0!==this.IsHScreen&&(!1!==this.IsShowYText[0]||!1!==this.IsShowYText[1])){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),a=this.ChartBorder.GetBottom(),i=this.ChartBorder.GetTopTitle(),r=this.ChartBorder.Right,n=this.ChartBorder.Left;this.ChartBorder.TitleHeight;if(!(n>=10)&&(n<10&&!0===this.IsShowYText[0]||r<10&&!0===this.IsShowYText[1]))for(var s=null,o=this.HorizontalInfo.length-1;o>=0;--o){var h=this.HorizontalInfo[o],l=this.GetYFromData(h.Value);if(!(null!=l&&null!=s&&Math.abs(l-s)<this.MinYDistance)){if(null!=h.Message[0]&&n<10&&!0===this.IsShowYText[0]){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="left";var u=l;l>=a-2?this.Canvas.textBaseline="bottom":l<=i+2?(this.Canvas.textBaseline="top",u+=this.YTextTopOffset):this.Canvas.textBaseline="middle";var c={X:t,Y:u,Text:{BaseLine:this.Canvas.textBaseline,Font:this.Canvas.font,Value:h.Message[0]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(c)||this.Canvas.fillText(h.Message[0],t+1,u)}if(null!=h.Message[1]&&r<10&&!0===this.IsShowYText[1]){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="right";u=l;l>=a-2?this.Canvas.textBaseline="bottom":l<=i+2?(this.Canvas.textBaseline="top",u+=this.YTextTopOffset):this.Canvas.textBaseline="middle";var C=this.Canvas.measureText(h.Message[1]).width;c={X:e-C,Y:u,Text:{BaseLine:this.Canvas.textBaseline,TextAlign:this.Canvas.textAlign,Font:this.Canvas.font,Value:h.Message[1]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(c)||this.Canvas.fillText(h.Message[1],e-1,u)}s=l}}}},this.DrawHorizontal=function(){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),a=this.ChartBorder.GetBottom(),i=this.ChartBorder.GetTopTitle(),r=this.ChartBorder.Right,n=this.ChartBorder.Left;this.ChartBorder.TitleHeight;this.Canvas.save();for(var s=null,o=this.HorizontalInfo.length-1;o>=0;--o){var h=this.HorizontalInfo[o],l=this.GetYFromData(h.Value);if(!(null!=l&&null!=s&&Math.abs(l-s)<this.MinYDistance)){var u=L(l);a!=l&&this.IsShowYLine&&(2==h.LineType?(this.Canvas.strokeStyle=h.LineColor,this.Canvas.setLineDash([5,5]),this.Canvas.beginPath(),this.Canvas.moveTo(t,u),this.Canvas.lineTo(e,u),this.Canvas.stroke(),this.Canvas.setLineDash([])):3==h.LineType||h.LineType>0&&(this.Canvas.strokeStyle=h.LineColor,m.JSCommonResource_Global_JSChartResource.FrameYLineDash?(this.Canvas.setLineDash(m.JSCommonResource_Global_JSChartResource.FrameYLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(t,u),this.Canvas.lineTo(e,u),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.beginPath(),this.Canvas.moveTo(t,u),this.Canvas.lineTo(e,u),this.Canvas.stroke())));var c=l;if(l>=a-2?this.Canvas.textBaseline="bottom":l<=i+2?(this.Canvas.textBaseline="top",c+=this.YTextTopOffset):this.Canvas.textBaseline="middle",this.Canvas.fillStyle=h.TextColor,this.Canvas.strokeStyle=h.TextColor,null!=h.Message[0]&&n>10&&!0===this.IsShowYText[0]&&(null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.textAlign="right",this.Canvas.fillText(h.Message[0],t-2,c)),null!=h.Message[1]&&r>10&&!0===this.IsShowYText[1]){null!=h.Font&&(this.Canvas.font=h.Font);var C=e;if(3==h.LineType){var f=this.ShortYLineLength;this.Canvas.beginPath(),this.Canvas.moveTo(C,u),this.Canvas.lineTo(C+f,u),this.Canvas.stroke(),C+=f}this.Canvas.textAlign="left",this.Canvas.fillText(h.Message[1],C+2,c)}s=l}}this.Canvas.restore()},this.GetXFromIndex=function(t){var e=this.XPointCount;if(1==e)return 0==t?this.ChartBorder.GetLeft():this.ChartBorder.GetRight();if(e<=0)return this.ChartBorder.GetLeft();if(t>=e)return this.ChartBorder.GetRight();var a=this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()*t/e;return a},this.DrawVertical=function(){var t=this.ChartBorder.GetTopTitle(),e=this.ChartBorder.GetBottom(),a=this.ChartBorder.GetRight();if(!(this.ChartBorder.Bottom<=5)){var i=e;"bottom"==this.XMessageAlign?i=this.ChartBorder.GetChartHeight():this.XMessageAlign="top";var r=null,n=null;for(var s in this.VerticalInfo){var o=this.GetXFromIndex(this.VerticalInfo[s].Value);if(o>a)break;if(!(null!=r&&Math.abs(o-r)<this.MinXDistance)){var h=this.VerticalInfo[s],l=L(o);if(this.IsShowXLine&&h.LineType>0&&(2==h.LineType?(this.Canvas.strokeStyle=h.LineColor,this.Canvas.setLineDash([5,5]),this.Canvas.beginPath(),this.Canvas.moveTo(l,t),this.Canvas.lineTo(l,e),this.Canvas.stroke(),this.Canvas.setLineDash([])):3==h.LineType||h.LineType>0&&(m.JSCommonResource_Global_JSChartResource.FrameXLineDash?(this.Canvas.strokeStyle=h.LineColor,this.Canvas.beginPath(),this.Canvas.setLineDash(m.JSCommonResource_Global_JSChartResource.FrameXLineDash),this.Canvas.moveTo(l,t),this.Canvas.lineTo(l,e),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.strokeStyle=h.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(l,t),this.Canvas.lineTo(l,e),this.Canvas.stroke()))),null!=this.VerticalInfo[s].Message[0]&&this.ChartBorder.Bottom>5){var u=null,c=null;null!=this.VerticalInfo[s].Font&&(this.Canvas.font=this.VerticalInfo[s].Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.strokeStyle=h.TextColor;var C=this.Canvas.measureText(this.VerticalInfo[s].Message[0]).width;if(o<C/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline=this.XMessageAlign,u=o+C,c=o):o+C/2>=this.ChartBorder.GetChartWidth()?(this.Canvas.textAlign="right",this.Canvas.textBaseline=this.XMessageAlign,u=o+C,c=o):(this.Canvas.textAlign="center",this.Canvas.textBaseline=this.XMessageAlign,u=o+C/2,c=o-C/2),null!=n&&n>c)continue;i=e;if(3==h.LineType){var f=this.ShortXLineLength;this.Canvas.beginPath(),this.Canvas.moveTo(l,i),this.Canvas.lineTo(l,i+f),this.Canvas.stroke(),i+=f+2}this.Canvas.fillText(this.VerticalInfo[s].Message[0],o,i+this.XBottomOffset),n=u}r=o}}}},this.GetYData=function(t){return t<this.ChartBorder.GetTopEx()?this.HorizontalMax:t>this.ChartBorder.GetBottomEx()?this.HorizontalMin:(this.ChartBorder.GetBottomEx()-t)/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetXData=function(t){return t<=this.ChartBorder.GetLeft()?0:t>=this.ChartBorder.GetRight()?this.XPointCount:(t-this.ChartBorder.GetLeft())*(1*this.XPointCount/this.ChartBorder.GetWidth())},this.DrawCustomItem=function(t){if((t.Message[1]||t.Message[0])&&!(t.Value>this.HorizontalMax||t.Value<this.HorizontalMin)){var e=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetRight(),i=this.ChartBorder.GetBottom(),r=this.ChartBorder.GetTopTitle(),n=this.ChartBorder.Right,s=this.ChartBorder.Left;this.ChartBorder.TitleHeight;this.IsHScreen&&(s=this.ChartBorder.Top,n=this.ChartBorder.Bottom,r=this.ChartBorder.GetTop(),i=this.ChartBorder.GetBottom());var o=18,h=this.GetYFromData(t.Value);if(t.Message[0])if(s<10){null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var l=this.Canvas.measureText(t.Message[0]).width+2,u=t.LineColor,c=this.RGBToStruct(t.LineColor);if(c&&(u="rgba(".concat(c.R,", ").concat(c.G,", ").concat(c.B,", ").concat(m.JSCommonResource_Global_JSChartResource.FrameLatestPrice.BGAlpha,")")),this.Canvas.fillStyle=u,this.IsHScreen){var C=r,f=h-o/2-1;this.Canvas.fillRect(f,C,o,l),this.DrawHScreenText({X:h,Y:C},{Text:t.Message[0],Color:t.TextColor,XOffset:1,YOffset:2}),this.DrawLine(C+l,i,h,t.LineColor,t.LineType)}else{C=h-o/2-1,f=e+1;this.Canvas.fillRect(f,C,l,o),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Message[0],f+1,h),this.DrawLine(f+l,a,h,t.LineColor,t.LineType)}}else{null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle";l=this.Canvas.measureText(t.Message[0]).width+2;if(this.Canvas.fillStyle=t.LineColor,this.IsHScreen){C=r-l,f=h-o/2-1;this.Canvas.fillRect(f,C,o,l),this.DrawHScreenText({X:h,Y:C},{Text:t.Message[0],Color:t.TextColor,XOffset:1,YOffset:2}),this.DrawLine(C+l,i,h,t.LineColor,t.LineType)}else{C=h-o/2-1;this.Canvas.fillRect(e-l,C,l,o),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Message[0],e-1,h),this.DrawLine(e,a,h,t.LineColor,t.LineType)}}else if(t.Message[1])if(n<10){null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";l=this.Canvas.measureText(t.Message[1]).width+2,u=t.LineColor,c=this.RGBToStruct(t.LineColor);if(c&&(u="rgba(".concat(c.R,", ").concat(c.G,", ").concat(c.B,", ").concat(m.JSCommonResource_Global_JSChartResource.FrameLatestPrice.BGAlpha,")")),this.Canvas.fillStyle=u,this.IsHScreen){C=i-l,f=h-o/2-1;this.Canvas.fillRect(f,C,o,l),this.DrawHScreenText({X:h,Y:C},{Text:t.Message[1],Color:t.TextColor,XOffset:1,YOffset:2}),this.DrawLine(r,C,h,t.LineColor,t.LineType)}else{C=h-o/2-1,f=a-l;this.Canvas.fillRect(f,C,l,o),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Message[1],f+1,h),this.DrawLine(e,f,h,t.LineColor,t.LineType)}}else{null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";l=this.Canvas.measureText(t.Message[1]).width+2;if(this.Canvas.fillStyle=t.LineColor,this.IsHScreen){C=i,f=h-o/2-1;this.Canvas.fillRect(f,C,o,l),this.DrawHScreenText({X:h,Y:C},{Text:t.Message[1],Color:t.TextColor,XOffset:1,YOffset:2}),this.DrawLine(r,C,h,t.LineColor,t.LineType)}else{C=h-o/2-1;this.Canvas.fillRect(a,C,l,o),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Message[1],a+1,h),this.DrawLine(e,a,h,t.LineColor,t.LineType)}}}},this.DrawLine=function(t,e,a,i,r){-1!=r&&(0==r?(this.Canvas.strokeStyle=i,this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(L(a),t),this.Canvas.lineTo(L(a),e)):(this.Canvas.moveTo(t,L(a)),this.Canvas.lineTo(e,L(a))),this.Canvas.stroke()):this.DrawDotLine(t,e,a,i))},this.DrawDotLine=function(t,e,a,i){this.Canvas.save(),this.Canvas.strokeStyle=i,this.Canvas.setLineDash([5,5]),this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(L(a),t),this.Canvas.lineTo(L(a),e)):(this.Canvas.moveTo(t,L(a)),this.Canvas.lineTo(e,L(a))),this.Canvas.stroke(),this.Canvas.restore()},this.RGBToStruct=function(t){if(/^(rgb|RGB)/.test(t)){var e=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),a={};return 3!=e.length?null:(a.R=Number(e[0]),a.G=Number(e[1]),a.B=Number(e[2]),a)}return null},this.DrawHScreenText=function(t,e){this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=e.Color,this.Canvas.save(),this.Canvas.translate(t.X,t.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e.Text,e.XOffset,e.YOffset),this.Canvas.restore()}}function O(){this.newMethod=b,this.newMethod(),delete this.newMethod,this.ClassName="MinuteFrame",this.MinXDistance=10,this.CustomHorizontalInfo=[],this.DrawFrame=function(){this.SplitXYCoordinate(),this.DrawTitleBG(),this.DrawHorizontal(),this.DrawVertical()},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator())},this.GetXFromIndex=function(t){var e=this.XPointCount-1;if(1==e)return 0==t?this.ChartBorder.GetLeft():this.ChartBorder.GetRight();if(e<=0)return this.ChartBorder.GetLeft();if(t>=e)return this.ChartBorder.GetRight();var a=this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()*t/e;return a},this.GetXData=function(t){return t<=this.ChartBorder.GetLeft()?0:t>=this.ChartBorder.GetRight()?this.XPointCount:(t-this.ChartBorder.GetLeft())*(1*this.XPointCount/this.ChartBorder.GetWidth())},this.DrawCustomHorizontal=function(){for(var t in this.CustomHorizontalInfo){var e=this.CustomHorizontalInfo[t];switch(e.Type){case 0:case 1:this.DrawCustomItem(e);break}}}}function R(){this.newMethod=O,this.newMethod(),delete this.newMethod,this.ClassName="MinuteHScreenFrame",this.IsHScreen=!0,this.DrawTitleBG=function(){},this.DrawInsideHorizontal=function(){},this.GetYData=function(t){return t<this.ChartBorder.GetLeftEx()?this.HorizontalMin:t>this.ChartBorder.GetRightEx()?this.HorizontalMax:(t-this.ChartBorder.GetLeftEx())/this.ChartBorder.GetWidthEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetXData=function(t){if(t<=this.ChartBorder.GetTop())return 0;if(t>=this.ChartBorder.GetBottom())return this.XPointCount;var e=this.XPointCount-1;return(t-this.ChartBorder.GetTop())*(1*e/this.ChartBorder.GetHeight())},this.GetXFromIndex=function(t){var e=this.XPointCount-1;if(1==e)return 0==t?this.ChartBorder.GetTop():this.ChartBorder.GetBottom();if(e<=0)return this.ChartBorder.GetTop();if(t>=e)return this.ChartBorder.GetBottom();var a=this.ChartBorder.GetTop()+this.ChartBorder.GetHeight()*t/e;return a},this.GetYFromData=function(t){if(t<=this.HorizontalMin)return this.ChartBorder.GetLeft();if(t>=this.HorizontalMax)return this.ChartBorder.GetRightEx();var e=this.ChartBorder.GetWidthEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetLeft()+e},this.DrawHorizontal=function(){for(var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetBottom(),a=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight(),r=this.ChartBorder.Top,n=this.ChartBorder.Bottom,s=null,o=this.HorizontalInfo.length-1;o>=0;--o){var h=this.HorizontalInfo[o],l=this.GetYFromData(h.Value);if(!(null!=l&&Math.abs(l-s)<this.MinYDistance)){if(this.Canvas.strokeStyle=h.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(L(l),t),this.Canvas.lineTo(L(l),e),this.Canvas.stroke(),l>=i-2)this.Canvas.textBaseline="top",l=i;else if(l<=a+2){if(this.Canvas.textBaseline="bottom",l=a,null!=l&&Math.abs(l-s)<2*this.MinYDistance)continue}else this.Canvas.textBaseline="middle";if(null!=h.Message[0]&&r>10){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="right";var u=l,c=t;this.Canvas.save(),this.Canvas.translate(u,c),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(h.Message[0],-2,0),this.Canvas.restore()}if(null!=h.Message[1]&&n>10){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="left";u=l,c=e;this.Canvas.save(),this.Canvas.translate(u,c),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(h.Message[1],2,0),this.Canvas.restore()}s=l}}},this.DrawVertical=function(){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRightEx(),a=this.ChartBorder.GetBottom(),i=null;for(var r in this.VerticalInfo){var n=this.GetXFromIndex(this.VerticalInfo[r].Value);if(n>a)break;if(!(null!=i&&Math.abs(n-i)<this.MinXDistance)){if(this.Canvas.strokeStyle=this.VerticalInfo[r].LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t,L(n)),this.Canvas.lineTo(e,L(n)),this.Canvas.stroke(),null!=this.VerticalInfo[r].Message[0]){null!=this.VerticalInfo[r].Font&&(this.Canvas.font=this.VerticalInfo[r].Font),this.Canvas.fillStyle=this.VerticalInfo[r].TextColor;var s=this.Canvas.measureText(this.VerticalInfo[r].Message[0]).width;n<s/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top"):n+s/2>=this.ChartBorder.GetChartHeight()?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top"):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top");var o=t,h=n;this.Canvas.save(),this.Canvas.translate(o,h),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.VerticalInfo[r].Message[0],0,0),this.Canvas.restore()}i=n}}}}function P(){this.newMethod=b,this.newMethod(),delete this.newMethod,this.ClassName="KLineFrame",this.ToolbarID=y(),this.ModifyIndex=!0,this.ChangeIndex=!0,this.CustomHorizontalInfo=[],this.LastCalculateStatus={Width:0,XPointCount:0},this.CustomVerticalInfo=[],this.DrawCustomVerticalEvent,this.RightSpaceCount=0,this.DrawFrame=function(){this.SplitXYCoordinate(),1==this.SizeChange&&this.CalculateDataWidth(),this.DrawOtherChart&&this.DrawOtherChart(),this.DrawTitleBG(),this.DrawHorizontal(),this.DrawVertical()},this.GetXFromIndex=function(t){t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(var e=this.ChartBorder.GetLeft()+m.JSCommonResource_Global_JSChartResource.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,a=1;a<=t;++a)e+=this.DistanceWidth+this.DataWidth;return e},this.GetXData=function(t){if(t<=this.ChartBorder.GetLeft())return 0;if(t>=this.ChartBorder.GetRight())return this.XPointCount-1;var e=this.ChartBorder.GetLeft()+m.JSCommonResource_Global_JSChartResource.FrameLeftMargin,a=this.ChartBorder.GetRight()-m.JSCommonResource_Global_JSChartResource.FrameRightMargin,i=this.DistanceWidth,r=this.DataWidth,n=0,s=e+i/2+r+i;while(s<a&&n<1e4&&n+1<this.XPointCount){if(s>t)break;s+=r+i,++n}return n},this.DrawCustomHorizontal=function(){for(var t in this.CustomHorizontalInfo){var e=this.CustomHorizontalInfo[t];switch(e.Type){case 0:case 1:this.DrawCustomItem(e);break}}},this.DrawCustomVerticalItem=function(t){this.Canvas.save(),1==t.Data.Line.Type&&this.Canvas.setLineDash([5,5]),this.Canvas.strokeStyle=t.Data.Line.Color,this.Canvas.beginPath(),t.IsHScreen?(this.Canvas.moveTo(t.Top,L(t.X)),this.Canvas.lineTo(t.Bottom,L(t.X))):(this.Canvas.moveTo(L(t.X),t.Top),this.Canvas.lineTo(L(t.X),t.Bottom)),this.Canvas.stroke(),this.Canvas.restore()},this.DrawCustomVertical=function(){if(this.CustomVerticalInfo&&!(this.CustomVerticalInfo.length<=0)&&this.Data){var t=this.IsHScreen,e=this.ChartBorder.GetTopEx(),a=this.ChartBorder.GetBottomEx(),i=this.DataWidth,r=this.DistanceWidth,n=this.ChartBorder.GetLeft()+r/2+2;t&&(n=this.ChartBorder.GetTop()+r/2+2,e=this.ChartBorder.GetLeftEx(),a=this.ChartBorder.GetRightEx());for(var s=0,o=this.Data.DataOffset;o<this.Data.Data.length&&s<this.XPointCount;++o,++s,n+=i+r){var h=this.Data.Data[o];for(var l in this.CustomVerticalInfo){var u=this.CustomVerticalInfo[l];if(0==u.Type){if(d.JSCommonSplit_IFrameSplitOperator.IsNumber(u.Time)){if(h.Date!=u.Date||h.Time!=u.Time)continue}else if(h.Date!=u.Date)continue;var c=n,C=n+i,m=c+(C-c)/2,f={X:m,Top:e,Bottom:a,Data:u,IsHScreen:t};this.DrawCustomVerticalItem(f),this.DrawCustomVerticalEvent&&this.DrawCustomVerticalEvent.Callback(this.DrawCustomVerticalEvent,f,this);break}}}for(o=1;s<this.XPointCount;++o,++s,n+=i+r)for(var l in this.CustomVerticalInfo){u=this.CustomVerticalInfo[l];if(1==u.Type&&u.Space==o){c=n,C=n+i,m=c+(C-c)/2,f={X:m,Top:e,Bottom:a,Data:u,IsHScreen:t};this.DrawCustomVerticalItem(f),this.DrawCustomVerticalEvent&&this.DrawCustomVerticalEvent.Callback(this.DrawCustomVerticalEvent,f,this);break}}}},this.CalculateDataWidth=function(){if(!(this.XPointCount<2)){var t=this.GetFrameWidth()-m.JSCommonResource_Global_JSChartResource.FrameMargin;if(this.ZoomIndex>=0&&this.LastCalculateStatus.Width==t&&this.LastCalculateStatus.XPointCount==this.XPointCount){var e=this.DistanceWidth/2+m.JSCommonResource_Global_JSChartResource.FrameLeftMargin+(this.DataWidth+this.DistanceWidth)*(this.XPointCount-1);this.DataWidth,this.DistanceWidth,this.XPointCount;if(e<=t)return}this.LastCalculateStatus.Width=t,this.LastCalculateStatus.XPointCount=this.XPointCount;for(var a=0;a<Y.length;++a){Y[a][0],Y[a][1];if((Y[a][0]+Y[a][1])*this.XPointCount<t)return this.ZoomIndex=a,this.DataWidth=Y[a][0],this.DistanceWidth=Y[a][1],this.TrimKLineDataWidth(t),void i.JSConsole.Chart.Log("[KLineFrame::CalculateDataWidth] ZoomIndex=".concat(this.ZoomIndex," DataWidth=").concat(this.DataWidth," DistanceWidth=").concat(this.DistanceWidth))}this.ZoomIndex=Y.length-1,this.DataWidth=t/this.XPointCount,this.DistanceWidth=0}},this.OnSize=function(t){for(var e=this.GetFrameWidth()-m.JSCommonResource_Global_JSChartResource.FrameMargin,a=0,i=this.DistanceWidth/2+m.JSCommonResource_Global_JSChartResource.FrameLeftMargin+(this.DataWidth+this.DistanceWidth);i<e;i+=this.DataWidth+this.DistanceWidth,++a);return t.CurCount=this.XPointCount,t.CalcCount=a,t.DataWidth=this.DataWidth,t.DistanceWidth=this.DistanceWidth,t.Changed=!1,this.LastCalculateStatus.Width=e,t.CurCount==t.CalcCount||(this.XPointCount=a,this.LastCalculateStatus.XPointCount=this.XPointCount,this.Data&&(this.Data.DataOffset+=t.CurCount-t.CalcCount,this.Data.DataOffset<0&&(this.Data.DataOffset=0),t.Changed=!0)),t},this.SetDataWidth=function(t){var e=Y.length-1;for(var a in Y){var i=Y[a];if(i[0]<=t){e=parseInt(a)-1;break}}this.ZoomIndex=e,this.DataWidth=Y[this.ZoomIndex][0],this.DistanceWidth=Y[this.ZoomIndex][1];for(var r=this.GetFrameWidth()-m.JSCommonResource_Global_JSChartResource.FrameMargin,n=0,s=this.DistanceWidth/2+m.JSCommonResource_Global_JSChartResource.FrameLeftMargin+(this.DataWidth+this.DistanceWidth);s<=r;s+=this.DataWidth+this.DistanceWidth,++n);this.XPointCount=n,this.LastCalculateStatus.XPointCount=this.XPointCount,this.LastCalculateStatus.Width=r;var o={XPointCount:this.XPointCount,DataWidth:this.DataWidth,DistanceWidth:this.DistanceWidth};return o},this.TrimKLineDataWidth=function(t){var e=Y[this.ZoomIndex],a=Y[this.ZoomIndex][0],i=Y[this.ZoomIndex][1];if(1!=a||0!=i)if(e[0]<4)while(1){if((this.DistanceWidth+this.DataWidth)*this.XPointCount+this.DistanceWidth>t){this.DistanceWidth-=.01;break}this.DistanceWidth+=.01}else while(1){if((this.DistanceWidth+this.DataWidth)*this.XPointCount+this.DistanceWidth>t){this.DataWidth-=.01;break}this.DataWidth+=.01}else this.DataWidth=t/this.XPointCount},this.IsOverlayMaxMin=function(t){if(!this.ChartKLine)return!1;if(!this.ChartKLine.Max||!this.ChartKLine.Min)return!1;var e=this.Canvas.measureText(t.Text.Value).width+4,a=this.ChartKLine.Max,i=this.ChartKLine.Min,r=!1,n=!1,s=20;if(a.X>=t.X&&a.X<=t.X+e){var o=a.Y+s,h=a.Y-s;(o>=t.Y-s&&o<=t.Y+s||h>=t.Y-s&&h<=t.Y+s)&&(r=!0)}if(1==r)return!0;if(i.X>=t.X&&i.X<=t.X+e){o=i.Y+s,h=i.Y-s;(o>=t.Y-s&&o<=t.Y+s||h>=t.Y-s&&h<=t.Y+s)&&(n=!0)}return r||n},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator())},this.CalculateCount=function(t){var e=this.GetFrameWidth()-m.JSCommonResource_Global_JSChartResource.FrameMargin;return parseInt(e/(Y[t][0]+Y[t][1]))},this.ZoomUp=function(t){if(this.ZoomIndex<=0)return!1;if(this.Data.DataOffset<0)return!1;var e=this.Data.Data.length,a=e+this.RightSpaceCount,i=0,r=this.Data.DataOffset+this.XPointCount-1,n=this.Data.DataOffset+t.Index;r>=e&&(i=r-(this.Data.Data.length-1),r=this.Data.Data.length-1,i>this.RightSpaceCount&&(i=this.RightSpaceCount));var s=this.CalculateCount(this.ZoomIndex-1);--this.ZoomIndex,this.XPointCount=s,s>=a?(s=a,this.XPointCount=s,this.Data.DataOffset=0):(this.XPointCount=s,this.Data.DataOffset=r-(this.XPointCount-i)+1),this.DataWidth=Y[this.ZoomIndex][0],this.DistanceWidth=Y[this.ZoomIndex][1];var o=this.GetFrameWidth()-m.JSCommonResource_Global_JSChartResource.FrameMargin;return this.TrimKLineDataWidth(o),this.LastCalculateStatus.XPointCount=this.XPointCount,t.Index=n-this.Data.DataOffset,!0},this.ZoomDown=function(t){if(this.ZoomIndex+1>=Y.length)return!1;if(this.Data.DataOffset<0)return!1;var e=this.Data.Data.length,a=e+this.RightSpaceCount;if(this.XPointCount>=e)return!1;var i=0,r=this.Data.DataOffset+this.XPointCount-1;r>=this.Data.Data.length&&(i=r-(this.Data.Data.length-1),r=this.Data.Data.length-1,i>this.RightSpaceCount&&(i=this.RightSpaceCount));var n=this.CalculateCount(this.ZoomIndex+1),s=this.Data.DataOffset+t.Index;++this.ZoomIndex,n>=a?(n=a,this.XPointCount=n,this.Data.DataOffset=0):(this.XPointCount=n,this.Data.DataOffset=r-(this.XPointCount-i)+1),this.DataWidth=Y[this.ZoomIndex][0],this.DistanceWidth=Y[this.ZoomIndex][1];var o=this.GetFrameWidth()-m.JSCommonResource_Global_JSChartResource.FrameMargin;return this.TrimKLineDataWidth(o),this.LastCalculateStatus.XPointCount=this.XPointCount,t.Index=s-this.Data.DataOffset,!0},this.GetFrameWidth=function(){return this.IsHScreen?this.ChartBorder.GetHeight():this.ChartBorder.GetWidth()}}function B(){this.newMethod=P,this.newMethod(),delete this.newMethod,this.ClassName="KLineHScreenFrame",this.IsHScreen=!0,this.DrawInsideHorizontal=function(){if(!1!==this.IsShowYText[0]||!1!==this.IsShowYText[1]){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRightEx(),a=this.ChartBorder.GetTop(),i=this.ChartBorder.GetBottom(),r=this.ChartBorder.Top,n=this.ChartBorder.Bottom,s=(this.ChartBorder.TitleHeight,1),o=(r<10*s||2==this.YTextPosition[0])&&!0===this.IsShowYText[0],h=(n<10*s||2==this.YTextPosition[1])&&!0===this.IsShowYText[1];if(o||h)for(var l=null,u=this.HorizontalInfo.length-1;u>=0;--u){var c=this.HorizontalInfo[u],C=this.GetYFromData(c.Value);if(!(null!=C&&null!=l&&Math.abs(C-l)<this.MinYDistance)){if(null!=c.Message[0]&&o){null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline=C>=e-2?"top":C<=t+2?"bottom":"middle";this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,c.Message[0];var m=C,f=a;this.Canvas.save(),this.Canvas.translate(m,f),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(c.Message[0],-2,0),this.Canvas.restore()}if(null!=c.Message[1]&&h){null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline=C>=e-2?"top":C<=t+2?"bottom":"middle";var d=this.Canvas.measureText(c.Message[1]).width;this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,c.Message[1],m=C,f=i;this.Canvas.save(),this.Canvas.translate(m,f),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(c.Message[1],2,0),this.Canvas.restore()}l=C}}}},this.DrawTitleBG=function(){},this.GetYFromData=function(t){if(t<=this.HorizontalMin)return this.ChartBorder.GetLeftEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetRightEx();var e=this.ChartBorder.GetWidthEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetLeftEx()+e},this.DrawHorizontal=function(){for(var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetBottom(),a=this.ChartBorder.Top,i=this.ChartBorder.Bottom,r=this.ChartBorder.GetLeft(),n=null,s=this.HorizontalInfo.length-1;s>=0;--s){var o=this.HorizontalInfo[s],h=this.GetYFromData(o.Value);if(!(null!=h&&Math.abs(h-n)<15)){if(h!=r&&(2==o.LineType?(this.Canvas.strokeStyle=o.LineColor,this.Canvas.setLineDash([5,5]),this.Canvas.beginPath(),this.Canvas.moveTo(L(h),t),this.Canvas.lineTo(L(h),e),this.Canvas.stroke(),this.Canvas.setLineDash([])):o.LineType>0&&(this.Canvas.strokeStyle=o.LineColor,m.JSCommonResource_Global_JSChartResource.FrameYLineDash?(this.Canvas.setLineDash(m.JSCommonResource_Global_JSChartResource.FrameYLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(L(h),t),this.Canvas.lineTo(L(h),e),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.beginPath(),this.Canvas.moveTo(L(h),t),this.Canvas.lineTo(L(h),e),this.Canvas.stroke()))),null!=o.Message[0]&&a>10){null!=o.Font&&(this.Canvas.font=o.Font),this.Canvas.fillStyle=o.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline="middle";var l=h,u=t;this.Canvas.save(),this.Canvas.translate(l,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(o.Message[0],-2,0),this.Canvas.restore()}if(null!=o.Message[1]&&i>10){null!=o.Font&&(this.Canvas.font=o.Font),this.Canvas.fillStyle=o.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";l=h,u=e;this.Canvas.save(),this.Canvas.translate(l,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(o.Message[1],2,0),this.Canvas.restore()}n=h}}},this.GetXFromIndex=function(t){t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(var e=this.ChartBorder.GetTop()+m.JSCommonResource_Global_JSChartResource.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,a=1;a<=t;++a)e+=this.DistanceWidth+this.DataWidth;return e},this.DrawVertical=function(){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRightTitle(),a=this.ChartBorder.GetBottom(),i=null;for(var r in this.VerticalInfo){var n=this.GetXFromIndex(this.VerticalInfo[r].Value);if(n>=a)break;if(!(null!=i&&Math.abs(n-i)<80)){var s=this.VerticalInfo[r];if(2==s.LineType?(this.Canvas.setLineDash([5,5]),this.Canvas.beginPath(),this.Canvas.moveTo(t,L(n)),this.Canvas.lineTo(e,L(n)),this.Canvas.stroke(),this.Canvas.setLineDash([])):s.LineType>0&&(this.Canvas.strokeStyle=s.LineColor,m.JSCommonResource_Global_JSChartResource.FrameXLineDash?(this.Canvas.setLineDash(m.JSCommonResource_Global_JSChartResource.FrameXLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(t,L(n)),this.Canvas.lineTo(e,L(n)),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.beginPath(),this.Canvas.moveTo(t,L(n)),this.Canvas.lineTo(e,L(n)),this.Canvas.stroke())),null!=this.VerticalInfo[r].Message[0]){null!=this.VerticalInfo[r].Font&&(this.Canvas.font=this.VerticalInfo[r].Font),this.Canvas.fillStyle=this.VerticalInfo[r].TextColor;var o=this.Canvas.measureText(this.VerticalInfo[r].Message[0]).width;n<o/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top"):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top");var h=t,l=n;this.Canvas.save(),this.Canvas.translate(h,l),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.VerticalInfo[r].Message[0],0,this.XBottomOffset),this.Canvas.restore()}i=n}}},this.GetYData=function(t){return t<this.ChartBorder.GetLeftEx()?this.HorizontalMin:t>this.ChartBorder.GetRightEx()?this.HorizontalMax:(t-this.ChartBorder.GetLeftEx())/this.ChartBorder.GetWidthEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetXData=function(t){if(t<=this.ChartBorder.GetTop())return 0;if(t>=this.ChartBorder.GetBottom())return this.XPointCount-1;var e=this.DistanceWidth,a=this.DataWidth,i=this.ChartBorder.GetTop()+m.JSCommonResource_Global_JSChartResource.FrameLeftMargin,r=this.ChartBorder.GetBottom()-m.JSCommonResource_Global_JSChartResource.FrameRightMargin,n=0,s=i+e/2+a+e;while(s<r&&n<1e4&&n+1<this.XPointCount){if(s>=t)break;s+=a+e,++n}return n}}function G(){this.Frame,this.Height}function k(){this.ClassName="HQTradeFrame",this.SubFrame=new Array,this.SizeChange=!0,this.ChartBorder,this.Canvas,this.ScreenImagePath,this.ScreenImageData=null,this.Data,this.Position,this.SizeChange=!0,this.SnapshotID=0,this.CurrentSnapshotID=0,this.SnapshotStatus=0,this.CalculateChartBorder=function(){if(!(this.SubFrame.length<=0)){var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetHeight(),a=0;for(var i in this.SubFrame){var r=this.SubFrame[i];a+=r.Height}for(var i in this.SubFrame){r=this.SubFrame[i];r.Frame.ChartBorder.Top=t,r.Frame.ChartBorder.Left=this.ChartBorder.Left,r.Frame.ChartBorder.Right=this.ChartBorder.Right;var n=e*(r.Height/a)+t;r.Frame.ChartBorder.Bottom=this.ChartBorder.GetChartHeight()-n,t=n}}},this.Draw=function(){for(var t in!0===this.SizeChange&&this.CalculateChartBorder(),this.SubFrame){var e=this.SubFrame[t];e.Height<=0||e.Frame.Draw()}this.SizeChange=!1},this.DrawLock=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];e.Frame.DrawLock()}},this.DrawInsideHorizontal=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];e.Frame.DrawInsideHorizontal()}},this.DrawCustomHorizontal=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];e.Frame.DrawCustomHorizontal&&e.Frame.DrawCustomHorizontal()}},this.DrawCustomVertical=function(t){for(var e in this.SubFrame){var a=this.SubFrame[e];a.Frame.DrawCustomVerticalEvent=t,a.Frame.DrawCustomVertical&&a.Frame.DrawCustomVertical()}},this.SetSizeChage=function(t){for(var e in this.SizeChange=t,this.SubFrame){var a=this.SubFrame[e];a.Frame.SizeChange=t}this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}},this.SetDrawOtherChart=function(t){for(var e in this.SubFrame){var a=this.SubFrame[e];a.Frame.DrawOtherChart=t}},this.Snapshot=function(t){1==t?this.SnapshotImageData():this.SnapshotImagePath()},this.SnapshotImagePath=function(){var t=this,a=this.ChartBorder.GetChartWidth(),r=this.ChartBorder.GetChartHeight();++this.SnapshotID;var n=this.SnapshotID;this.SnapshotStatus=1,this.Canvas&&this.Canvas.DomNode?e.canvasToTempFilePath({x:0,y:0,width:a,height:r,canvas:this.Canvas.DomNode,success:function(e){t.ScreenImagePath=e.tempFilePath,t.SnapshotStatus=0,t.CurrentSnapshotID=n,i.JSConsole.Chart.Log("[HQTradeFrame::SnapshotImagePath] SnapshotID(".concat(t.SnapshotID,", ").concat(t.CurrentSnapshotID,"), Path=").concat(e.tempFilePath))}}):e.canvasToTempFilePath({x:0,y:0,width:a,height:r,canvasId:this.ChartBorder.UIElement.ID,success:function(e){t.ScreenImagePath=e.tempFilePath,t.SnapshotStatus=0,t.CurrentSnapshotID=n}})},this.SnapshotImageData=function(){var t=this,a=this.ChartBorder.GetChartWidth(),r=this.ChartBorder.GetChartHeight();i.JSConsole.Chart.Log("[HQTradeFrame::SnapshotImageData][ID=".concat(this.ChartBorder.UIElement.ID," invoke canvasGetImageData(").concat(a,", ").concat(r,") SnapshotStatus=").concat(this.SnapshotStatus)),++this.SnapshotID;var n=this.SnapshotID;this.SnapshotStatus=1,e.canvasGetImageData({canvasId:this.ChartBorder.UIElement.ID,x:0,y:0,width:a,height:r,success:function(e){t.ScreenImageData=e.data,t.SnapshotStatus=0,t.CurrentSnapshotID=n,i.JSConsole.Chart.Log("[HQTradeFrame::SnapshotImageData] SnapshotID=".concat(t.SnapshotID,", CurrentSnapshotID=").concat(t.CurrentSnapshotID,", size=").concat(e.data.length))}})},this.GetXData=function(t){return this.SubFrame[0].Frame.GetXData(t)},this.GetYData=function(t,e){var a;for(var i in this.SubFrame){var n=this.SubFrame[i],s=n.Frame.ChartBorder.GetLeft(),o=n.Frame.ChartBorder.GetTopEx(),h=n.Frame.ChartBorder.GetWidth(),l=n.Frame.ChartBorder.GetHeightEx(),u=new r.JSCommon_Rect(s,o,h,l);if(u.IsPointIn(s,t)){a=n.Frame,e&&(e.FrameID=i);break}}if(null!=a){var c=a.GetYData(t);if(1==a.YSplitOperator.CoordinateType){var C=a.YSplitOperator.GetFirstOpenPrice();e.RightYValue=((c-C)/C*100).toFixed(2)+"%"}return c}},this.GetXFromIndex=function(t){return this.SubFrame[0].Frame.GetXFromIndex(t)},this.GetYFromData=function(t){return this.SubFrame[0].Frame.GetYFromData(t)},this.ZoomUp=function(t){var e=this.SubFrame[0].Frame.ZoomUp(t);return this.UpdateAllFrame(),e},this.ZoomDown=function(t){var e=this.SubFrame[0].Frame.ZoomDown(t);return this.UpdateAllFrame(),e},this.SetDataWidth=function(t){var e=this.SubFrame[0].Frame.SetDataWidth(t);return this.UpdateAllFrame(),e},this.OnSize=function(){var t={};return this.SubFrame[0].Frame.OnSize(t),this.UpdateAllFrame(),t},this.UpdateAllFrame=function(){for(var t=this.SubFrame[0].Frame,e=1;e<this.SubFrame.length;++e){var a=this.SubFrame[e];a.Frame.XPointCount=t.XPointCount,a.Frame.ZoomIndex=t.ZoomIndex,a.Frame.DataWidth=t.DataWidth,a.Frame.DistanceWidth=t.DistanceWidth,a.Frame.LastCalculateStatus.Width=t.LastCalculateStatus.Width,a.Frame.LastCalculateStatus.XPointCount=t.LastCalculateStatus.XPointCount}},this.ResetXYSplit=function(){for(var t in this.SubFrame)this.SubFrame[t].Frame.XYSplit=!0},this.GetCurrentPageSize=function(){if(this.SubFrame.length<=0)return null;var t=this.SubFrame[0];return t&&t.Frame?t.Frame.XPointCount:null}}function V(){this.newMethod=k,this.newMethod(),delete this.newMethod,this.ClassName="HQTradeHScreenFrame",this.IsHScreen=!0,this.CalculateChartBorder=function(){if(!(this.SubFrame.length<=0)){var t=this.ChartBorder.Right,e=this.ChartBorder.GetRight(),a=this.ChartBorder.GetWidth(),i=0;for(var r in this.SubFrame){var n=this.SubFrame[r];i+=n.Height}for(var r in this.SubFrame){n=this.SubFrame[r];n.Frame.ChartBorder.Top=this.ChartBorder.Top,n.Frame.ChartBorder.Bottom=this.ChartBorder.Bottom;var s=a*(n.Height/i);n.Frame.ChartBorder.Right=t,n.Frame.ChartBorder.Left=e-s,t+=s,e-=s}}},this.GetYData=function(t,e){var a;for(var i in this.SubFrame){var n=this.SubFrame[i],s=n.Frame.ChartBorder.GetLeftEx(),o=n.Frame.ChartBorder.GetTop(),h=n.Frame.ChartBorder.GetWidthEx(),l=n.Frame.ChartBorder.GetHeight(),u=new r.JSCommon_Rect(s,o,h,l);if(u.IsPointIn(t,o)){a=n.Frame,e&&(e.FrameID=i);break}}if(null!=a)return a.GetYData(t)}}function H(){this.newMethod=b,this.newMethod(),delete this.newMethod,this.ScreenImageData,this.Position,this.ClassName="DepthChartFrame",this.VerticalRange={Max:null,Min:null,Center:null,MaxDiffer:null,Differ:null,Step:.05},this.AskPrice,this.BidPrice,this.MinZoom=.05,this.SetPriceList=function(t,e){this.AskPrice=t,this.BidPrice=e},this.SetDrawOtherChart=function(t){},this.DrawFrame=function(){this.SplitXYCoordinate(),this.DrawHorizontal(),this.DrawVertical()},this.GetXFromIndex=function(t){var e=this.ChartBorder.GetLeft(),a=(this.ChartBorder.GetRight(),this.ChartBorder.GetWidth()),i=a*(t-this.VerticalRange.Min)/(this.VerticalRange.Max-this.VerticalRange.Min);return e+i},this.GetXData=function(t){var e=this.ChartBorder.GetLeft(),a=(this.ChartBorder.GetRight(),this.ChartBorder.GetWidth());return(t-e)/a*(this.VerticalRange.Max-this.VerticalRange.Min)+this.VerticalRange.Min},this.GetXFromPrice=function(t){var e=!1,a=this.GetPrice(this.BidPrice,t);if(null==a&&(a=this.GetPrice(this.AskPrice,t),e=!0),null==a&&this.BidPrice&&Array.isArray(this.BidPrice)&&this.BidPrice.length>0){var i=this.BidPrice[0];t<i&&(e=!1,a=i)}if(null==a&&this.AskPrice&&Array.isArray(this.AskPrice)&&this.AskPrice.length>0){var r=this.AskPrice[this.AskPrice.length-1];t>r&&(e=!0,a=r)}if(null==a)return null;var n=this.GetXFromIndex(a);return{X:n,Price:a,IsAsk:e}},this.GetPrice=function(t,e){if(!t||!Array.isArray(t)||t.length<=0)return null;if(e<t[0]||e>t[t.length-1])return null;var a=null;for(var i in t){var r=t[i];if(e==r)return r;if(e<r)return a;a=r}},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator())},this.Snapshot=function(){this.ScreenImageData=this.Canvas.getImageData(0,0,this.ChartBorder.GetChartWidth(),this.ChartBorder.GetChartHeight())},this.SetSizeChage=function(t){this.SizeChange=t,this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}},this.ZoomUp=function(){var t=this.VerticalRange,e=t.Differ,a=t.MaxDiffer*this.MinZoom;if(e<a)return!1;var i=t.Differ*t.Step;return e-=i,t.Differ=e,t.Min=t.Center-t.Differ,t.Max=t.Center+t.Differ,!0},this.ZoomDown=function(){var t=this.VerticalRange,e=t.Differ;if(e==t.MaxDiffer)return!1;var a=t.Differ*t.Step;return e+=a,e>t.MaxDiffer&&(e=t.MaxDiffer),t.Differ=e,t.Min=t.Center-t.Differ,t.Max=t.Center+t.Differ,!0}}function J(){this.newMethod=b,this.newMethod(),delete this.newMethod,this.ScreenImageData,this.Position,this.IsShowBorder=!1,this.IsShowVertical=!1,this.XFontType=0,this.MaxDistanceWidth=4,this.BarCount=0,this.Draw=function(){this.DrawFrame(),this.IsShowBorder&&this.DrawBorder(),this.SizeChange=!1,this.XYSplit=!1},this.DrawFrame=function(){if(this.XPointCount>0){var t=this.ChartBorder.GetWidth()/(10*this.XPointCount);this.DistanceWidth=4*t,this.DataWidth=6*t,this.DistanceWidth>this.MaxDistanceWidth&&(this.DistanceWidth=this.MaxDistanceWidth,t=this.ChartBorder.GetWidth()/this.XPointCount,this.DataWidth=t-this.MaxDistanceWidth)}this.SplitXYCoordinate(),this.DrawHorizontal(),this.DrawVertical()},this.GetXFromIndex=function(t){t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(var e=this.ChartBorder.GetLeft()+2+this.DistanceWidth/2+this.DataWidth/2,a=1;a<=t;++a)e+=this.DistanceWidth+this.DataWidth;return e},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator())},this.DrawVertical=function(){var t=this.ChartBorder.GetTopEx(),e=this.ChartBorder.GetBottom(),a=this.ChartBorder.GetRight(),i=null;for(var r in this.VerticalInfo){var n=this.GetXFromIndex(this.VerticalInfo[r].Value);if(n>=a)break;if(1==this.XFontType){if(null!=i&&Math.abs(n-i)<20)continue}else if(null!=i&&Math.abs(n-i)<60)continue;if(this.IsShowVertical&&(this.Canvas.strokeStyle=this.VerticalInfo[r].LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(L(n),t),this.Canvas.lineTo(L(n),e),this.Canvas.stroke()),null!=this.VerticalInfo[r].Message[0]){null!=this.VerticalInfo[r].Font&&(this.Canvas.font=this.VerticalInfo[r].Font),this.Canvas.fillStyle=this.VerticalInfo[r].TextColor;var s=this.Canvas.measureText(this.VerticalInfo[r].Message[0]).width;n<s/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top"):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top"),1==this.XFontType?(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.save(),this.Canvas.translate(n,e),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.VerticalInfo[r].Message[0],2,0),this.Canvas.restore()):this.Canvas.fillText(this.VerticalInfo[r].Message[0],n,e)}i=n}},this.Snapshot=function(){var t=this,a=this.ChartBorder.GetChartWidth(),r=this.ChartBorder.GetChartHeight();i.JSConsole.Chart.Log("[SimpleChartFrame::Snapshot][ID="+this.ChartBorder.UIElement.ID+"] invoke canvasToTempFilePath(width="+a+",height="+r+")"),e.canvasToTempFilePath({x:0,y:0,width:a,height:r,canvasId:this.ChartBorder.UIElement.ID,success:function(e){t.ScreenImagePath=e.tempFilePath,i.JSConsole.Chart.Log(e.tempFilePath)}})},this.SetSizeChage=function(t){this.SizeChange=t,this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}}}function U(){this.newMethod=J,this.newMethod(),delete this.newMethod,this.DrawFrame=function(){if(this.XPointCount>0){var t=this.ChartBorder.GetHeightEx()/(10*this.XPointCount);this.DistanceWidth=4*t,this.DataWidth=6*t,this.DistanceWidth>this.MaxDistanceWidth&&(this.DistanceWidth=this.MaxDistanceWidth,t=this.ChartBorder.GetHeightEx()/this.XPointCount,this.DataWidth=t-this.MaxDistanceWidth)}this.SplitXYCoordinate(),this.DrawHorizontal(),this.DrawVertical()},this.GetXFromIndex=function(t){if(t<=this.HorizontalMin)return this.ChartBorder.GetLeft();if(t>=this.HorizontalMax)return this.ChartBorder.GetRight();var e=this.ChartBorder.GetWidth()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetLeft()+e},this.GetYFromData=function(t){t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(var e=this.ChartBorder.GetBottom()-2-this.DistanceWidth/2-this.DataWidth/2,a=1;a<=t;++a)e-=this.DistanceWidth+this.DataWidth;return e},this.DrawHorizontal=function(){this.ChartBorder.GetTopEx(),this.ChartBorder.GetBottom(),this.ChartBorder.GetRight();var t=this.ChartBorder.GetLeft(),e=null;for(var a in this.VerticalInfo){var i=this.VerticalInfo[a],r=this.GetYFromData(i.Value);null!=r&&null!=e&&Math.abs(r-e)<15||(null!=i.Message[0]&&(null!=this.VerticalInfo[a].Font&&(this.Canvas.font=i.Font),this.Canvas.fillStyle=i.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillText(i.Message[0],t-2,r)),e=r)}},this.DrawVertical=function(){var t=this.ChartBorder.GetTopEx(),e=this.ChartBorder.GetBottom(),a=this.ChartBorder.GetRight(),i=(this.ChartBorder.GetLeft(),e);"bottom"==this.XMessageAlign?i=this.ChartBorder.GetChartHeight():this.XMessageAlign="top";var r=null,n=null;for(var s in this.HorizontalInfo){var o=this.HorizontalInfo[s],h=this.GetXFromIndex(o.Value);if(h>a)break;if(!(null!=r&&Math.abs(h-r)<this.MinXDistance)){if(this.IsShowXLine&&(this.Canvas.strokeStyle=o.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(L(h),t),this.Canvas.lineTo(L(h),e),this.Canvas.stroke()),null!=o.Message[0]){var l=null,u=null;null!=o.Font&&(this.Canvas.font=o.Font),this.Canvas.fillStyle=o.TextColor;var c=this.Canvas.measureText(o.Message[0]).width;if(h<c/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline=this.XMessageAlign,l=h+c,u=h):(this.Canvas.textAlign="center",this.Canvas.textBaseline=this.XMessageAlign,l=h+c/2,u=h-c/2),null!=n&&n>u)continue;this.Canvas.fillText(o.Message[0],h,i),n=l}r=h}}}}function W(){this.ChartPaint,this.Data}Number.prototype.toFixed2=Number.prototype.toFixed,Number.prototype.toFixed=function(t){return F(this,t)};var Y=[[48,10],[44,10],[40,9],[36,9],[32,8],[28,8],[24,7],[20,7],[18,6],[16,6],[14,5],[12,5],[8,4],[4,4],[3,3],[3,1],[2,1],[1,1],[1,0]];function X(){this.newMethod=u.JSCommonChartPaint_IChartPainting,this.newMethod(),delete this.newMethod,this.Color="rgb(255,193,37)",this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());for(var a=this.ChartFrame.XPointCount,i=!0,r=0,n=this.Data.DataOffset,s=0;n<this.Data.Data.length&&s<a;++n,++s){var o=this.Data.Data[n];if(null!=o){var h=this.ChartFrame.GetXFromIndex(s);if(h>e)break;for(var l in o){var u=o[l].Value,c=this.ChartFrame.GetYFromData(u);i?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(c,h):this.Canvas.moveTo(h,c),i=!1):t?this.Canvas.lineTo(c,h):this.Canvas.lineTo(h,c),++r}}}r>0&&this.Canvas.stroke()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={Min:null,Max:null};if(!this.Data||!this.Data.Data)return e;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];if(null!=r)for(var n in r){var s=r[n].Value;null==e.Max&&(e.Max=s),null==e.Min&&(e.Min=s),e.Max<s&&(e.Max=s),e.Min>s&&(e.Min=s)}}return e}}function K(){this.newMethod=u.JSCommonChartPaint_IChartPainting,this.newMethod(),delete this.newMethod,this.Color="rgb(255,193,37)",this.Draw=function(){if(this.Data&&this.Data.Data&&1==this.Data.Data.length){var t=this.ChartFrame.IsHScreen;this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight();t&&this.ChartBorder.GetTop();var e=this.ChartFrame.XPointCount,a=this.Data.Data[0],i=this.ChartFrame.GetYFromData(a),r=this.ChartFrame.GetXFromIndex(0),n=this.ChartFrame.GetXFromIndex(e-1),s=parseInt(i.toString())+.5;this.Canvas.beginPath(),t?(this.Canvas.moveTo(s,r),this.Canvas.lineTo(s,n)):(this.Canvas.moveTo(r,s),this.Canvas.lineTo(n,s)),this.Canvas.strokeStyle=this.Color,this.Canvas.stroke()}},this.GetMaxMin=function(){this.ChartFrame.XPointCount;var t={Min:null,Max:null};return this.Data&&this.Data.Data?(1!=this.Data.Data.length||(t.Min=this.Data.Data[0],t.Max=this.Data.Data[0]),t):t}}function z(){this.newMethod=u.JSCommonChartPaint_IChartPainting,this.newMethod(),delete this.newMethod,this.Color="rgb(255,193,37)",this.Font="11px \u5fae\u8f6f\u96c5\u9ed1",this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.Data&&this.Data.Data)if(!0!==this.ChartFrame.IsHScreen){this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight(),this.ChartBorder.GetBottom();var t=this.ChartBorder.GetLeft(),e=this.ChartFrame.XPointCount,a=this.ChartFrame.GetXFromIndex(e-1);for(var i in this.Data.Data){var r=this.Data.Data[i];if(null!=r&&!isNaN(r.Value)&&!isNaN(r.Value2)&&null!=r.Color){var n=Math.max(r.Value,r.Value2),s=Math.min(r.Value,r.Value2),o=this.ChartFrame.GetYFromData(n),h=this.ChartFrame.GetYFromData(s);this.Canvas.fillStyle=r.Color,this.Canvas.fillRect(M(t),M(o),M(a-t),M(h-o))}}for(var l in this.Data.Data){var u=this.Data.Data[l];if(null!=u&&!isNaN(u.Value)&&!isNaN(u.Value2)&&null!=u.Color){var c=Math.max(u.Value,u.Value2),C=Math.min(u.Value,u.Value2),m=this.ChartFrame.GetYFromData(c),f=this.ChartFrame.GetYFromData(C);if(u.Title&&u.TitleColor){var d=a;"left"==u.Align?(this.Canvas.textAlign="left",d=t):(this.Canvas.textAlign="right",d=a),this.Canvas.textBaseline="middle",this.Canvas.fillStyle=u.TitleColor,this.Canvas.font=this.Font;var D=m+(f-m)/2;this.Canvas.fillText(u.Title,d,D)}}}}else this.HScreenDraw()},this.HScreenDraw=function(){var t=this.ChartBorder.GetBottom(),e=this.ChartBorder.GetTop(),a=this.ChartBorder.GetHeight();for(var i in this.Data.Data){var r=this.Data.Data[i];if(null!=r&&!isNaN(r.Value)&&!isNaN(r.Value2)&&null!=r.Color){var n=Math.max(r.Value,r.Value2),s=Math.min(r.Value,r.Value2),o=this.ChartFrame.GetYFromData(n),h=this.ChartFrame.GetYFromData(s);if(this.Canvas.fillStyle=r.Color,this.Canvas.fillRect(M(h),M(e),M(o-h),M(a)),r.Title&&r.TitleColor){var l=o+(h-o)/2,u=t;this.Canvas.save(),this.Canvas.translate(l,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=r.TitleColor,this.Canvas.font=this.Font,this.Canvas.fillText(r.Title,0,-2),this.Canvas.restore()}}}},this.GetMaxMin=function(){this.ChartFrame.XPointCount;var t={Min:null,Max:null};if(!this.Data||!this.Data.Data)return t;for(var e in this.Data.Data){var a=this.Data.Data[e];if(null!=a&&!isNaN(a.Value)&&!isNaN(a.Value2)){var i=Math.max(a.Value,a.Value2),r=Math.min(a.Value,a.Value2);null==t.Max&&(t.Max=i),null==t.Min&&(t.Min=r),t.Max<i&&(t.Max=i),t.Min>r&&(t.Min=r)}}return t}}function $(){this.newMethod=u.JSCommonChartPaint_ChartLine,this.newMethod(),delete this.newMethod,this.YClose,this.IsDrawArea=!0,this.AreaColor="rgba(0,191,255,0.1)",this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else if(this.IsShow){var t=!0===this.ChartFrame.IsHScreen;this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight();!0===t&&this.ChartBorder.GetBottom();for(var e=this.ChartFrame.XPointCount,a=this.ChartFrame.MinuteCount,i=this.ChartBorder.GetBottomEx(),r=this.ChartBorder.GetLeftEx(),n=!0,s={},o=0,h=this.Data.DataOffset,l=0;h<this.Data.Data.length&&l<e;++h,++l){var u=this.Data.Data[h];if(null!=u){var c=this.ChartFrame.GetXFromIndex(l),C=this.ChartFrame.GetYFromData(u);n?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(C,c):this.Canvas.moveTo(c,C),n=!1,s={X:c,Y:C}):t?this.Canvas.lineTo(C,c):this.Canvas.lineTo(c,C),++o,o>=a&&(n=!0,this.Canvas.stroke(),this.IsDrawArea&&(t?(this.Canvas.lineTo(r,c),this.Canvas.lineTo(r,s.X),this.SetFillStyle(this.AreaColor,this.ChartBorder.GetRightEx(),i,this.ChartBorder.GetLeftEx(),i)):(this.Canvas.lineTo(c,i),this.Canvas.lineTo(s.X,i),this.SetFillStyle(this.AreaColor,r,this.ChartBorder.GetTopEx(),r,i)),this.Canvas.fill()),o=0)}}o>0&&(this.Canvas.stroke(),this.IsDrawArea&&(t?(this.Canvas.lineTo(r,c),this.Canvas.lineTo(r,s.X),this.SetFillStyle(this.AreaColor,this.ChartBorder.GetRightEx(),i,this.ChartBorder.GetLeftEx(),i)):(this.Canvas.lineTo(c,i),this.Canvas.lineTo(s.X,i),this.SetFillStyle(this.AreaColor,r,this.ChartBorder.GetTopEx(),r,i)),this.Canvas.fill()))}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(null==this.YClose)return e;e.Min=this.YClose,e.Max=this.YClose;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];r&&(null==e.Max&&(e.Max=r),null==e.Min&&(e.Min=r),e.Max<r&&(e.Max=r),e.Min>r&&(e.Min=r))}if(e.Max==this.YClose&&e.Min==this.YClose)return e.Max=this.YClose+.1*this.YClose,e.Min=this.YClose-.1*this.YClose,e;var n=Math.max(Math.abs(this.YClose-e.Max),Math.abs(this.YClose-e.Min));return e.Max=this.YClose+n,e.Min=this.YClose-n,e}}function q(){this.newMethod=u.JSCommonChartPaint_IChartPainting,this.newMethod(),delete this.newMethod,this.Color="rgb(65,105,225)",this.MainData,this.MainYClose,this.Name="ChartOverlayMinutePriceLine",this.Title,this.Symbol,this.YClose,this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else{var t=!0===this.ChartFrame.IsHScreen;this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight();!0===t&&this.ChartBorder.GetBottom();for(var e=this.ChartFrame.XPointCount,a=this.ChartFrame.MinuteCount,i=!0,r=0,n=this.Data.DataOffset,s=0;n<this.Data.Data.length&&s<e;++n,++s){var o=this.Data.Data[n].Close;if(null!=o){var h=o/this.YClose*this.MainYClose,l=this.ChartFrame.GetXFromIndex(s),u=this.ChartFrame.GetYFromData(h);i?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(u,l):this.Canvas.moveTo(l,u),i=!1):t?this.Canvas.lineTo(u,l):this.Canvas.lineTo(l,u),++r,r>=a&&(i=!0,this.Canvas.stroke(),r=0)}}r>0&&this.Canvas.stroke()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(null==this.YClose)return e;e.Min=this.MainYClose,e.Max=this.MainYClose;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a].Close;if(null!=r){r=r/this.YClose*this.MainYClose;null==e.Max&&(e.Max=r),null==e.Min&&(e.Min=r),e.Max<r&&(e.Max=r),e.Min>r&&(e.Min=r)}}if(e.Max==this.MainYClose&&e.Min==this.MainYClose)return e.Max=this.MainYClose+.1*this.MainYClose,e.Min=this.MainYClose-.1*this.MainYClose,e;var n=Math.max(Math.abs(this.MainYClose-e.Max),Math.abs(this.MainYClose-e.Min));return e.Max=this.MainYClose+n,e.Min=this.MainYClose-n,e}}function j(){this.newMethod=Q,this.newMethod(),delete this.newMethod,this.BarID=0,this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else{var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetTopEx(),i=this.ChartFrame.XPointCount,r=this.ChartBorder.GetBottom()-e/2-2,n=this.ChartFrame.GetXFromIndex(0);if(t>=4){var s=this.ChartFrame.BarCount,o=t,h=0;s>0&&(o=t/s,h=o*this.BarID),n=M(n);for(var l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<i;++l,++u,r-=t+e){var c=this.Data.Data[l];if(null!=c&&0!=c){var C=r+h,m=r+h-t;if(C<a)break;var f=this.ChartFrame.GetXFromIndex(c);if(c>0){this.Canvas.fillStyle=this.UpBarColor;var d=M(Math.abs(f-n)),D=o;Math.abs(a-C)<t&&(o=Math.abs(a-C)),this.Canvas.fillRect(n,M(m),d,M(D+.5))}else{this.Canvas.fillStyle=this.DownBarColor;var p=M(Math.abs(f-n)),S=o;Math.abs(a-C)<o&&(S=Math.abs(a-C)),this.Canvas.fillRect(n,M(m),-p,M(S+.5))}}}}else for(l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<i;++l,++u,r-=t+e){c=this.Data.Data[l];if(null!=c&&0!=c){C=r,m=r-t;if(m<a)break;f=this.ChartFrame.GetXFromIndex(c);var v=this.ChartFrame.GetYFromData(u);this.Canvas.strokeStyle=c>0?this.UpBarColor:this.DownBarColor,this.Canvas.beginPath(),this.Canvas.moveTo(L(f),v),this.Canvas.lineTo(L(n),v),this.Canvas.stroke()}}}}}function Z(){this.newMethod=Q,this.newMethod(),delete this.newMethod,this.BarID=0,this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else{var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetRight(),i=this.ChartFrame.XPointCount,r=this.ChartBorder.GetLeft()+e/2+2,n=this.ChartFrame.GetYFromData(0);if(t>=4){var s=this.ChartFrame.BarCount,o=t,h=0;s>0&&(o=t/s,h=o*this.BarID),n=M(n);for(var l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<i;++l,++u,r+=t+e){var c=this.Data.Data[l];if(null!=c&&0!=c){var C=r+h,m=r+h+o;if(C>a)break;var f=this.ChartFrame.GetXFromIndex(u),d=this.ChartFrame.GetYFromData(c);if(c>0){this.Canvas.fillStyle=this.UpBarColor;var D=M(Math.abs(n-d)),p=o;a-C<o&&(p=a-C),d=n-d>0?n-D:n+D,this.Canvas.fillRect(M(C),d,M(p),D)}else{this.Canvas.fillStyle=this.DownBarColor;var S=M(Math.abs(n-d));a-C<o&&a-C,d=n-d>0?n-S:n+S,this.Canvas.fillRect(M(C),d,M(o),-S)}}}}else for(var v=this.Data.DataOffset,g=0;v<this.Data.Data.length&&g<i;++v,++g,r+=t+e){c=this.Data.Data[v];if(null!=c&&0!=c){C=r,m=r+t;if(m>a)break;f=this.ChartFrame.GetXFromIndex(g),d=this.ChartFrame.GetYFromData(c);this.Canvas.strokeStyle=c>0?this.UpBarColor:this.DownBarColor,this.Canvas.beginPath(),this.Canvas.moveTo(L(f),d),this.Canvas.lineTo(L(f),n),this.Canvas.stroke()}}}}}function Q(){this.newMethod=u.JSCommonChartPaint_IChartPainting,this.newMethod(),delete this.newMethod,this.UpBarColor=m.JSCommonResource_Global_JSChartResource.UpBarColor,this.DownBarColor=m.JSCommonResource_Global_JSChartResource.DownBarColor,this.Draw=function(){if(this.NotSupportMessage)this.DrawNotSupportmessage();else{var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetRight();t&&(i=this.ChartBorder.GetBottom());var r=this.ChartFrame.XPointCount,n=this.ChartBorder.GetLeft()+a/2+2;t&&(n=this.ChartBorder.GetTop()+a/2+2);var s=this.ChartFrame.GetYFromData(0);if(e>=4){s=M(s);for(var o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<r;++o,++h,n+=e+a){var l=this.Data.Data[o];if(null!=l&&0!=l){var u=n,c=n+e;if(c>i)break;var C=this.ChartFrame.GetXFromIndex(h),m=this.ChartFrame.GetYFromData(l);if(l>0)if(this.Canvas.fillStyle=this.UpBarColor,t){var f=M(Math.abs(s-m));m=Math.min(s,m),this.Canvas.fillRect(m,M(u),f,M(e))}else{var d=M(Math.abs(s-m));m=s-m>0?s-d:s+d,this.Canvas.fillRect(M(u),m,M(e),d)}else{this.Canvas.fillStyle=this.DownBarColor;var D=M(Math.abs(s-m));m=s-m>0?s-D:s+D,this.Canvas.fillRect(M(u),m,M(e),-D)}}}}else for(o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<r;++o,++h,n+=e+a){l=this.Data.Data[o];if(null!=l&&0!=l){u=n,c=n+e;if(c>i)break;C=this.ChartFrame.GetXFromIndex(h),m=this.ChartFrame.GetYFromData(l);this.Canvas.strokeStyle=l>0?this.UpBarColor:this.DownBarColor,this.Canvas.beginPath(),t?(this.Canvas.moveTo(m,L(C)),this.Canvas.lineTo(s,L(C))):(this.Canvas.moveTo(L(C),m),this.Canvas.lineTo(L(C),s)),this.Canvas.stroke()}}}},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:0,Max:null},a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];null==e.Max&&(e.Max=r),e.Max<r&&(e.Max=r),e.Min>r&&(e.Min=r)}return e}}function tt(){this.Data,this.Value,this.Text,this.Operator=function(){return!1}}function et(){this.newMethod=tt,this.newMethod(),delete this.newMethod,this.Symbol,this.FrameID,this.LanguageID=m.JSCommonResource_JSCHART_LANGUAGE_ID.LANGUAGE_CHINESE_ID,this.PercentageText,this.RValue,this.RText,this.Operator=function(){if(this.RText=null,d.JSCommonSplit_IFrameSplitOperator.IsString(this.RValue)&&(this.RText=this.RValue),!this.Value)return!1;var t=2;if(0==this.FrameID){t=s.JSCommonCoordinateData.GetfloatPrecision(this.Symbol);this.Text=this.Value.toFixed(t)}else this.Text=d.JSCommonSplit_IFrameSplitOperator.FormatValueString(this.Value,t,this.LanguageID);return!0}}function at(){this.newMethod=tt,this.newMethod(),delete this.newMethod,this.Operator=function(){if(!d.JSCommonSplit_IFrameSplitOperator.IsNumber(this.Value)||this.Value<0)return!1;if(!this.Data)return!1;var t=this.Value;if(t=parseInt(t.toFixed(0)),this.Data.DataOffset+t>=this.Data.Data.length)return!1;var e=this.Data.Data[this.Data.DataOffset+t],a=e.Date;if(this.Text=d.JSCommonSplit_IFrameSplitOperator.FormatDateString(a),r.JSCommon_ChartData.IsMinutePeriod(this.Data.Period,!0)){var i=d.JSCommonSplit_IFrameSplitOperator.FormatTimeString(e.Time);this.Text=this.Text+" "+i}else if(r.JSCommon_ChartData.IsSecondPeriod(this.Data.Period)){i=d.JSCommonSplit_IFrameSplitOperator.FormatTimeString(e.Time,"HH:MM:SS");this.Text=this.Text+" "+i}return!0}}function it(){this.newMethod=tt,this.newMethod(),delete this.newMethod,this.Frame,this.Symbol,this.Operator=function(){if(null==this.Value||isNaN(this.Value))return!1;var t=Math.abs(this.Value);t=parseInt(t.toFixed(0));var e=t;this.Frame&&this.Frame.MinuteCount&&(e=t%this.Frame.MinuteCount);var a=s.JSCommonCoordinateData.MinuteTimeStringData,i=a.GetTimeData(this.Symbol);if(!i)return!1;e<0?e=0:e>i.length&&(e=i.length-1),this.Frame&&t>=this.Frame.XPointCount&&(e=i.length-1);var r=i[e];return this.Text=d.JSCommonSplit_IFrameSplitOperator.FormatTimeString(r),!0}}function rt(){}function nt(t){this.newMethod=A,this.newMethod(t),delete this.newMethod,this.ClassName="KLineChartContainer",this.WindowIndex=new Array,this.ColorIndex,this.TradeIndex,this.Symbol,this.Name,this.Period=0,this.IsApiPeriod=!1,this.Right=0,this.SourceData,this.MaxReqeustDataCount=3e3,this.MaxRequestMinuteDayCount=5,this.PageSize=200,this.KLineDrawType=0,this.SplashTitle="\u4e0b\u8f7d\u5386\u53f2\u6570\u636e",this.IsAutoUpdate=!1,this.AutoUpdateFrequency=3e4,this.AutoUpdateTimer,this.RightSpaceCount=1,this.SourceDataLimit=new Map,this.KLineSize=null,this.StepPixel=4,this.ZoomStepPixel=5,this.EnableZoomUpDown=null,this.DragDownload={Day:{Enable:!1,IsEnd:!1,Status:0},Minute:{Enable:!1,IsEnd:!1,status:0}},this.KLineApiUrl=m.JSCommonResource_Global_JSChartResource.Domain+"/API/KLine2",this.MinuteKLineApiUrl=m.JSCommonResource_Global_JSChartResource.Domain+"/API/KLine3",this.RealtimeApiUrl=m.JSCommonResource_Global_JSChartResource.Domain+"/API/Stock",this.KLineMatchUrl=m.JSCommonResource_Global_JSChartResource.Domain+"/API/KLineMatch",this.DragMinuteKLineApiUrl=m.JSCommonResource_Global_JSChartResource.Domain+"/API/KLine4",this.DragKLineApiUrl=m.JSCommonResource_Global_JSChartResource.Domain+"/API/KLine5",this.BeforeBindMainData=null,this.AfterBindMainData=null,this.ResetDragDownload=function(){this.DragDownload.Day.Status=0,this.DragDownload.Day.IsEnd=!1,this.DragDownload.Minute.Status=0,this.DragDownload.Minute.isEnd=!1},this.ChartOperator=function(t){var e=t.ID;if(e===x.OP_SCROLL_LEFT||e===x.OP_SCROLL_RIGHT){var a=e===x.OP_SCROLL_LEFT,r=1;t.Step>0&&(r=t.Step),this.DataMove(r*this.StepPixel,a)?(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()):e===x.OP_SCROLL_RIGHT&&this.DragDownloadData&&this.DragDownloadData()}else if(e===x.OP_ZOOM_IN||e===x.OP_ZOOM_OUT){var n={};if(n.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),e===x.OP_ZOOM_IN){if(!this.Frame.ZoomUp(n))return}else if(!this.Frame.ZoomDown(n))return;this.CursorIndex=n.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw()}else if(e===x.OP_GOTO_HOME){var s=null;if(s=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data,!s)return;var o=this.PageSize;for(var h in this.Frame.SubFrame){var l=this.Frame.SubFrame[h].Frame;l.XPointCount=o}var u=s.Data.length-o;s.DataOffset=u,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,i.JSConsole.Chart.Log("[KLineChartContainer::ChartOperator] OP_GOTO_HOME, dataOffset=".concat(s.DataOffset," CursorIndex=").concat(this.CursorIndex," PageSize=").concat(o)),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex()}},this.Create=function(t){for(var e in this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new u.JSCommonChartPaint_ChartCorssCursor,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=new at,this.ChartCorssCursor.StringFormatY=new et,this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID,this.ChartSplashPaint=new u.JSCommonChartPaint_ChartSplashPaint,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.SplashTitle=this.SplashTitle,this.ChartSplashPaint.HQChart=this,this.Frame=new k,this.Frame.ChartBorder=new N,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine(),this.Frame.SubFrame){var a=new D.JSCommonChartTitle_DynamicChartTitlePainting;a.Frame=this.Frame.SubFrame[e].Frame,a.Canvas=this.Canvas,a.LanguageID=this.LanguageID,this.Frame.SubFrame[e].Frame.TitlePaint=a,this.TitlePaint.push(a)}},this.CreateChildWindow=function(t){for(var e=0;e<t;++e){var a=new N;a.UIElement=this.UIElement;var i=new P;i.Canvas=this.Canvas,i.ChartBorder=a,i.Identify=e,i.RightSpaceCount=this.RightSpaceCount,i.HorizontalMax=20,i.HorizontalMin=10,0==e?(i.YSplitOperator=new d.JSCommonSplit_FrameSplitKLinePriceY,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price"),i.YSplitOperator.FrameSplitData2=this.FrameSplitData.get("double"),a.BottomSpace=12,a.TopSpace=12):(i.YSplitOperator=new d.JSCommonSplit_FrameSplitY,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),i.YSplitOperator.LanguageID=this.LanguageID),i.YSplitOperator.Frame=i,i.YSplitOperator.ChartBorder=a,i.XSplitOperator=new d.JSCommonSplit_FrameSplitKLineX,i.XSplitOperator.Frame=i,i.XSplitOperator.ChartBorder=a,e!=t-1&&(i.XSplitOperator.ShowText=!1);for(var r=i.HorizontalMin;r<=i.HorizontalMax;r+=1)i.HorizontalInfo[r]=new d.JSCommonSplit_CoordinateInfo,i.HorizontalInfo[r].Value=r,0==e&&r==i.HorizontalMin||(i.HorizontalInfo[r].Message[1]=r.toString(),i.HorizontalInfo[r].Font="14px \u5fae\u8f6f\u96c5\u9ed1");var n=new G;n.Frame=i,n.Height=0==e?20:10,this.Frame.SubFrame[e]=n}},this.CreateSubFrameItem=function(t){var e=new N;e.UIElement=this.UIElement;var a=new P;a.Canvas=this.Canvas,a.ChartBorder=e,a.Identify=t,this.ModifyIndexDialog&&(a.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(a.ChangeIndexEvent=this.ChangeIndexDialog.DoModal),a.HorizontalMax=20,a.HorizontalMin=10,a.YSplitOperator=new d.JSCommonSplit_FrameSplitY,a.YSplitOperator.LanguageID=this.LanguageID,a.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),a.YSplitOperator.Frame=a,a.YSplitOperator.ChartBorder=e,a.XSplitOperator=new d.JSCommonSplit_FrameSplitKLineX,a.XSplitOperator.Frame=a,a.XSplitOperator.ChartBorder=e,a.XSplitOperator.ShowText=!1;var i=this.Frame.SubFrame[0].Frame.XPointCount;a.XPointCount=i,a.Data=this.ChartPaint[0].Data;for(var r=a.HorizontalMin;r<=a.HorizontalMax;r+=1)a.HorizontalInfo[r]=new d.JSCommonSplit_CoordinateInfo,a.HorizontalInfo[r].Value=r,a.HorizontalInfo[r].Message[1]=r.toString(),a.HorizontalInfo[r].Font="14px \u5fae\u8f6f\u96c5\u9ed1";var n=new G;return n.Frame=a,n.Height=10,n},this.CreateMainKLine=function(){var t=new u.JSCommonChartPaint_ChartKLine;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="Main-KLine",t.DrawType=this.KLineDrawType,this.ChartPaint[0]=t,this.TitlePaint[0]=new D.JSCommonChartTitle_DynamicKLineTitlePainting,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].LanguageID=this.LanguageID;var e=new u.JSCommonChartPaint_ChartOverlayKLine;e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.Name="Overlay-KLine",e.DrawType=this.KLineDrawType,this.OverlayChartPaint[0]=e},this.BindMainData=function(t,e){if(this.ChartPaint[0].Data=t,this.ChartPaint[0].Symbol=this.Symbol,this.KLineSize)if(null==this.KLineSize.DataWidth)e=this.Frame.SubFrame[0].Frame.XPointCount-this.RightSpaceCount;else{var a=this.Frame.SetDataWidth(this.KLineSize.DataWidth);e=a.XPointCount-this.RightSpaceCount,this.KLineSize.DataWidth=null}for(var i in this.Frame.SubFrame){var r=this.Frame.SubFrame[i].Frame;r.XPointCount=e+this.RightSpaceCount,r.Data=this.ChartPaint[0].Data,r.XSplitOperator.Symbol=this.Symbol,r.XSplitOperator.Period=this.Period}this.TitlePaint[0].Data=this.ChartPaint[0].Data,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.TitlePaint[0].Period=this.Period,this.ChartCorssCursor.StringFormatX.Data=this.ChartPaint[0].Data,this.Frame.Data=this.ChartPaint[0].Data,this.OverlayChartPaint[0].MainData=this.ChartPaint[0].Data;var n=t.Data.length-e;n<0&&(n=0),this.ChartPaint[0].Data.DataOffset=n,this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.CursorIndex=e,this.CursorIndex+n>=t.Data.length&&(this.CursorIndex=t.Data.length-1-n),this.CursorIndex<0&&(this.CursorIndex=0)},this.UpdateMainData=function(t,e){var a=null;if(this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(a=this.Frame.SubFrame[0].Frame.Data):a=this.Frame.Data,a){var r=0;for(var n in e>0&&t.Data.length>e&&(r=t.Data.length-e,i.JSConsole.Chart.Log("[KLineChartContainer::UpdateMainData]  [count=".concat(e,"->").concat(t.Data.length,"], [newDataCount=").concat(r,"]"))),this.ChartPaint[0].Data=t,this.ChartPaint[0].Symbol=this.Symbol,this.ChartPaint[0].Data.DataOffset=a.DataOffset+r,this.Frame.SubFrame){var s=this.Frame.SubFrame[n].Frame;s.Data=this.ChartPaint[0].Data,0==n&&(s.YSplitOperator.Symbol=this.Symbol,s.YSplitOperator.Data=this.ChartPaint[0].Data,s.YSplitOperator.Period=this.Period)}for(var n in this.TitlePaint[0].Data=this.ChartPaint[0].Data,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.ChartCorssCursor.StringFormatX.Data=this.ChartPaint[0].Data,this.Frame.Data=this.ChartPaint[0].Data,this.OverlayChartPaint){s=this.OverlayChartPaint[n];s.MainData=this.ChartPaint[0].Data}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol}},this.CreateWindowIndex=function(t){this.WindowIndex[t].Create(this,t)},this.BindIndexData=function(t,e){this.WindowIndex[t]&&("function"!=typeof this.WindowIndex[t].RequestData?"function"!=typeof this.WindowIndex[t].ExecuteScript?this.WindowIndex[t].BindData(this,t,e):this.WindowIndex[t].ExecuteScript(this,t,e):this.WindowIndex[t].RequestData(this,t,e))},this.BindInstructionIndexData=function(t){this.ColorIndex&&"function"==typeof this.ColorIndex.ExecuteScript&&this.ColorIndex.ExecuteScript(this,0,t),this.TradeIndex&&"function"==typeof this.TradeIndex.ExecuteScript&&this.TradeIndex.ExecuteScript(this,0,t)},this.GetChartPaint=function(t){var e=new Array;for(var a in this.ChartPaint)if(0!=a){var i=this.ChartPaint[a];i.ChartFrame==this.Frame.SubFrame[t].Frame&&e.push(i)}return e},this.AutoUpdateEvent=function(t){var e=t?I.RECV_START_AUTOUPDATE:I.RECV_STOP_AUTOUPDATE;if(this.mapEvent.has(e)){var a=this,i=this.mapEvent.get(e),n={Stock:{Symbol:this.Symbol,Name:this.Name,Right:this.Right,Period:this.Period}};t&&(n.Callback=function(t){r.JSCommon_ChartData.IsDayPeriod(a.Period,!0)?a.RecvRealtimeData(t):(r.JSCommon_ChartData.IsMinutePeriod(a.Period,!0)||r.JSCommon_ChartData.IsSecondPeriod(a.Period))&&a.RecvMinuteRealtimeData(t)}),i.Callback(i,n,this)}},this.RequestHistoryData=function(){var t=this;if(this.ChartSplashPaint.EnableSplash(!0),this.ResetDragDownload(),this.Draw(),this.NetworkFilter){var a={Name:"KLineChartContainer::RequestHistoryData",Explain:"\u65e5K\u6570\u636e",Request:{Url:t.KLineApiUrl,Type:"POST",Data:{symbol:t.Symbol,count:t.MaxReqeustDataCount,field:["name","symbol","yclose","open","price","high","low","vol"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,(function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e),t.AutoUpdateEvent(!0),t.AutoUpdate()})),1==a.PreventDefault)return}e.request({url:this.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxReqeustDataCount},method:"POST",dataType:"json",success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e),t.AutoUpdateEvent(!0),t.AutoUpdate()}})},this.RecvHistoryData=function(t){var e=t.data,a=nt.JsonDataToHistoryData(e),i=new r.JSCommon_ChartData;i.Data=a,i.DataType=0,i.Symbol=e.symbol,this.SourceData=i,this.BeforeBindMainData&&this.BeforeBindMainData("RecvHistoryData");var n,s=new r.JSCommon_ChartData;if(s.Data=a,s.Right=this.Right,s.Period=this.Period,s.DataType=0,s.Right>0&&!this.IsApiPeriod){var o=s.GetRightDate(s.Right);s.Data=o}if(r.JSCommon_ChartData.IsDayPeriod(s.Period,!1)&&!this.IsApiPeriod){var h=s.GetPeriodData(s.Period);s.Data=h}this.Symbol=e.symbol,this.Name=e.name,this.BindMainData(s,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("RecvHistoryData"),this.Frame.SetSizeChage(!0),this.BindInstructionIndexData(s);for(var l=0;l<this.Frame.SubFrame.length;++l)0==l&&(n=this.Frame.SubFrame[l].Frame),this.BindIndexData(l,s);if(n&&n.YSplitOperator&&(n.YSplitOperator.Symbol=this.Symbol,n.YSplitOperator.Data=this.ChartPaint[0].Data),this.ReqeustKLineInfoData(),this.RequestOverlayHistoryData(),this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.mapEvent.has(I.RECV_HISTROY_DATA)){var u=this.mapEvent.get(I.RECV_HISTROY_DATA);e={HistoryData:s,Stock:{Symbol:this.Symbol,Name:this.Name}};u.Callback(u,e,this)}else"function"==typeof this.UpdateUICallback&&this.UpdateUICallback("RecvHistroyData",this),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback("RecvHistoryData",this)},this.ReqeustHistoryMinuteData=function(){var t=this;if(this.ChartSplashPaint.EnableSplash(!0),this.ResetDragDownload(),this.NetworkFilter){var a={Name:"KLineChartContainer::ReqeustHistoryMinuteData",Explain:"1\u5206\u949fK\u7ebf\u6570\u636e",Request:{Url:t.MinuteKLineApiUrl,Type:"POST",Data:{symbol:t.Symbol,count:t.MaxRequestMinuteDayCount,field:["name","symbol","yclose","open","price","high","low","vol"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,(function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteHistoryData(e),t.AutoUpdateEvent(!0),t.AutoUpdate()})),1==a.PreventDefault)return}e.request({url:this.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestMinuteDayCount},method:"POST",dataType:"json",success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteHistoryData(e),t.AutoUpdateEvent(!0),t.AutoUpdate()}})},this.RecvMinuteHistoryData=function(t){var e=t.data,a=nt.JsonDataToMinuteHistoryData(e),i=new r.JSCommon_ChartData;i.Data=a,i.DataType=1,i.Symbol=e.symbol,this.SourceData=i,this.BeforeBindMainData&&this.BeforeBindMainData("RecvMinuteHistoryData");var n,s=new r.JSCommon_ChartData;if(s.Data=a,s.Right=this.Right,s.Period=this.Period,s.DataType=1,s.Symbol=e.symbol,r.JSCommon_ChartData.IsMinutePeriod(s.Period,!1)&&!this.IsApiPeriod){var o=i.GetPeriodData(s.Period);s.Data=o}this.Symbol=e.symbol,this.Name=e.name,this.BindMainData(s,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("RecvMinuteHistoryData"),this.Frame.SetSizeChage(!0),this.BindInstructionIndexData(s);for(var h=0;h<this.Frame.SubFrame.length;++h)0==h&&(n=this.Frame.SubFrame[h].Frame),this.BindIndexData(h,s);if(n&&n.YSplitOperator&&(n.YSplitOperator.Symbol=this.Symbol,n.YSplitOperator.Data=this.ChartPaint[0].Data),this.OverlayChartPaint[0].Data=null,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.mapEvent.has(I.RECV_HISTROY_DATA)){var l=this.mapEvent.get(I.RECV_HISTROY_DATA);e={HistoryData:s,Stock:{Symbol:this.Symbol,Name:this.Name}};l.Callback(l,e,this)}else"function"==typeof this.UpdateUICallback&&this.UpdateUICallback("RecvMinuteHistoryData",this)},this.RequestRealtimeData=function(){var t=this;if(this.NetworkFilter){var a={Name:"KLineChartContainer::RequestRealtimeData",Explain:"\u5f53\u5929\u6700\u65b0\u65e5\u7ebf\u6570\u636e",Request:{Url:t.RealtimeApiUrl,Data:{symbol:[t.Symbol],field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time"]},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,(function(e){t.RecvRealtimeData(e),t.AutoUpdate()})),1==a.PreventDefault)return}e.request({url:this.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time"],symbol:[t.Symbol],start:-1},method:"POST",dataType:"json",async:!0,success:function(e){t.RecvRealtimeData(e),t.AutoUpdate()}})},this.RecvRealtimeData=function(t){if(1!=this.IsOnTouch){var e=t.data;if(e&&e.stock&&e.stock[0]&&this.Symbol==e.stock[0].symbol){var a=nt.JsonDataToRealtimeData(e),n=this.SourceData.Data[this.SourceData.Data.length-1],s=this.GetHistoryDataCount();if(n.Date==a.Date)n.Close=a.Close,n.High=a.High,n.Low=a.Low,n.Vol=a.Vol,n.Amount=a.Amount;else{if(!(n.Date<a.Date))return;i.JSConsole.Chart.Log("[KLineChartContainer::RecvRealtimeData] insert kline by minute data",a);var o=new r.JSCommon_HistoryData;o.YClose=a.YClose,o.Open=a.Open,o.Close=a.Close,o.High=a.High,o.Low=a.Low,o.Vol=a.Vol,o.Amount=a.Amount,o.Date=a.Date,this.SourceData.Data.push(o)}var h=new r.JSCommon_ChartData;if(h.Data=this.SourceData.Data,h.Period=this.Period,h.Right=this.Right,h.DataType=this.SourceData.DataType,h.Symbol=this.Symbol,h.Right>0&&r.JSCommon_ChartData.IsDayPeriod(h.Period,!0)&&!this.IsApiPeriod){var l=h.GetRightDate(h.Right);h.Data=l}if(!this.IsApiPeriod&&(r.JSCommon_ChartData.IsDayPeriod(h.Period,!1)||r.JSCommon_ChartData.IsMinutePeriod(h.Period,!1))){var u=h.GetPeriodData(h.Period);h.Data=u}this.UpdateMainData(h,s),this.Frame.SetSizeChage(!0),this.BindInstructionIndexData(h);for(var c=0;c<this.Frame.SubFrame.length;++c)this.BindIndexData(c,h);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(h)}else i.JSConsole.Chart.Log("[KLineChartContainer::RecvRealtimeData] recvdata error",t)}},this.GetHistoryDataCount=function(){var t=null;if(this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(t=this.Frame.SubFrame[0].Frame.Data):t=this.Frame.Data,!t)return-1;var e=t.Data.length;return e},this.RequestMinuteRealtimeData=function(){var t=this;if(this.NetworkFilter){var a={Name:"KLineChartContainer::RequestMinuteRealtimeData",Explain:"\u5f53\u59291\u5206\u949fK\u7ebf\u6570\u636e",Request:{Url:t.RealtimeApiUrl,Data:{symbol:[t.Symbol],field:["name","symbol","price","yclose","minutecount","minute","date","time"]},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,(function(e){t.RecvMinuteRealtimeData(e),t.AutoUpdate()})),1==a.PreventDefault)return}e.request({url:this.RealtimeApiUrl,data:{field:["name","symbol","price","yclose","minutecount","minute","date","time"],symbol:[t.Symbol],start:-1},method:"POST",dataType:"json",async:!0,success:function(e){t.RecvMinuteRealtimeData(e),t.AutoUpdate()}})},this.SetSourceDatatLimit=function(t){for(var e in this.SourceDataLimit=new Map,t){var a=t[e];this.SourceDataLimit.set(a.Period,a.MaxCount),i.JSConsole.Chart.Log("[KLineChartContainer::SetSourceDatatLimit] Period=".concat(a.Period,", MaxCount=").concat(a.MaxCount))}},this.ReduceSourceData=function(){if(this.SourceDataLimit&&this.SourceDataLimit.has(this.Period)){var t=this.SourceDataLimit.get(this.Period);if(!(t<50)){var e=null;if(this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(e=this.Frame.SubFrame[0].Frame.Data):e=this.Frame.Data,e){var a=e.DataOffset,r=0;while(this.SourceData.Data.length>t)this.SourceData.Data.shift(),--a,++r;r>0&&(a<0&&(a=0),e.DataOffset=a,i.JSConsole.Chart.Log("[KLineChartContainer::ReduceSourceData] remove data ".concat(r,", dataOffset=").concat(a)))}}}},this.RecvMinuteRealtimeData=function(t){var e=t.data;if(1!=this.IsOnTouch)if(2!=e.ver){if(e.stock&&e.stock[0]&&this.Symbol==e.stock[0].symbol){var a=nt.JsonDataToMinuteRealtimeData(e);if(a){this.IsApiPeriod&&this.ReduceSourceData();var n=this.GetHistoryDataCount(),s=this.SourceData.Data.length;if(this.SourceData.MergeMinuteData(a)){i.JSConsole.Chart.Log("[KLineChartContainer::RecvMinuteRealtimeData] update kline by 1 minute data [".concat(s,"->").concat(this.SourceData.Data.length,"]"));var o=new r.JSCommon_ChartData;if(o.Data=this.SourceData.Data,o.Period=this.Period,o.Right=this.Right,o.DataType=this.SourceData.DataType,o.Symbol=this.Symbol,o.Right>0&&r.JSCommon_ChartData.IsDayPeriod(o.Period,!0)&&!this.IsApiPeriod){var h=o.GetRightDate(o.Right);o.Data=h}if(!this.IsApiPeriod&&(r.JSCommon_ChartData.IsDayPeriod(o.Period,!1)||r.JSCommon_ChartData.IsMinutePeriod(o.Period,!1))){var l=o.GetPeriodData(o.Period);o.Data=l}this.UpdateMainData(o,n),this.Frame.SetSizeChage(!0),this.BindInstructionIndexData(o);for(var u=0;u<this.Frame.SubFrame.length;++u)this.BindIndexData(u,o);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(o)}}}}else this.RecvMinuteRealtimeDataV2(e)},this.RecvMinuteRealtimeDataV2=function(t){if(1!=this.IsOnTouch){var e=nt.JsonDataToMinuteHistoryData(t);if(e&&!(e.length<=0)){this.IsApiPeriod&&this.ReduceSourceData();var a=this.GetHistoryDataCount();if(this.SourceData.MergeMinuteData(e)){i.JSConsole.Chart.Log("[KLineChartContainer::RecvMinuteRealtimeDataV2] update kline by 1 minute data [".concat(a,"->").concat(this.SourceData.Data.length,"]"));var n=new r.JSCommon_ChartData;if(n.Data=this.SourceData.Data,n.Period=this.Period,n.Right=this.Right,n.DataType=this.SourceData.DataType,n.Symbol=this.Symbol,n.Right>0&&r.JSCommon_ChartData.IsDayPeriod(n.Period,!0)&&!this.IsApiPeriod){var s=n.GetRightDate(n.Right);n.Data=s}if((r.JSCommon_ChartData.IsDayPeriod(n.Period,!1)||r.JSCommon_ChartData.IsMinutePeriod(n.Period,!1))&&!this.IsApiPeriod){var o=n.GetPeriodData(n.Period);n.Data=o}this.UpdateMainData(n,a),this.Frame.SetSizeChage(!0),this.BindInstructionIndexData(n);for(var h=0;h<this.Frame.SubFrame.length;++h)this.BindIndexData(h,n);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(n)}}}},this.SendKLineUpdateEvent=function(t){var e=this.GetEvent(I.RECV_KLINE_UPDATE_DATA);if(e&&e.Callback){var a={HistoryData:t,Stock:{Symbol:this.Symbol,Name:this.Name}};return e.Callback(e,a,this),!0}return!1},this.ChangePeriod=function(t,e){var a=!1,i=null;if(e&&e.KLine&&(d.JSCommonSplit_IFrameSplitOperator.IsNumber(e.KLine.DrawType)&&(a=!0),d.JSCommonSplit_IFrameSplitOperator.IsNumber(e.KLine.Right)&&(i=e.KLine.Right)),this.Period!=t){a&&this.ChangeKLineDrawType(e.KLine.DrawType,!1);var n=!1;n=!1;if(t>r.JSCommon_CUSTOM_DAY_PERIOD_START&&t<=r.JSCommon_CUSTOM_DAY_PERIOD_END)0!=this.SourceData.DataType&&(n=!0);else if(t>r.JSCommon_CUSTOM_MINUTE_PERIOD_START&&t<=r.JSCommon_CUSTOM_MINUTE_PERIOD_END||t>r.JSCommon_CUSTOM_SECOND_PERIOD_START&&t<=r.JSCommon_CUSTOM_SECOND_PERIOD_END)1!=this.SourceData.DataType&&(n=!0);else switch(t){case 0:case 1:case 2:case 3:case 21:0!=this.SourceData.DataType&&(n=!0);break;case 4:case 5:case 6:case 7:case 8:case 11:case 12:1!=this.SourceData.DataType&&(n=!0);break}this.Period=t,null!=i&&(this.Right=i),0!=n||this.IsApiPeriod?r.JSCommon_ChartData.IsDayPeriod(this.Period,!0)?(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1),this.RequestHistoryData()):(r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0)||r.JSCommon_ChartData.IsSecondPeriod(this.Period))&&(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1),this.ReqeustHistoryMinuteData()):this.Update()}else a&&this.ChangeKLineDrawType(e.KLine.DrawType)},this.ChangeRight=function(t){At(this.Symbol)||t<0||t>2||this.Right!=t&&(this.Right=t,this.IsApiPeriod?r.JSCommon_ChartData.IsDayPeriod(this.Period,!0)?(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1),this.RequestHistoryData()):(r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0)||r.JSCommon_ChartData.IsSecondPeriod(this.Period))&&(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1),this.ReqeustHistoryMinuteData()):this.Update())},this.DeleteIndexPaint=function(t){var e=new Array;for(var a in this.ChartPaint){var i=this.ChartPaint[a];0!=a&&i.ChartFrame==this.Frame.SubFrame[t].Frame||e.push(i)}this.Frame.SubFrame[t].Frame.YSpecificMaxMin=null,this.Frame.SubFrame[t].Frame.IsLocked=!1,this.Frame.SubFrame[t].Frame.YSplitScale=null,this.ChartPaint=e;var r=t+1;this.TitlePaint[r].Data=[],this.TitlePaint[r].Title=null},this.ShowKLine=function(t){this.ChartPaint.length<=0||!this.ChartPaint[0]||(this.ChartPaint[0].IsShow=t)},this.SetInstructionData=function(t,e){this.ChartPaint.length<=0||!this.ChartPaint[0]||(2==t?this.ChartPaint[0].ColorData=e.Data:1==t&&(this.ChartPaint[0].TradeData={Sell:e.Sell,Buy:e.Buy}))},this.ChangeInstructionIndex=function(t){var e=new JSIndexScript,a=e.Get(t);a&&(1!=a.InstructionType&&2!=a.InstructionType||this.ChangeInstructionScriptIndex(a))},this.ChangeInstructionScriptIndex=function(t){if(1==t.InstructionType)this.TradeIndex=new C.JSCommonIndex_ScriptIndex(t.Name,t.Script,t.Args,t);else{if(2!=t.InstructionType)return;this.ColorIndex=new C.JSCommonIndex_ScriptIndex(t.Name,t.Script,t.Args,t)}var e=this.ChartPaint[0].Data;this.BindInstructionIndexData(e),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.CancelInstructionIndex=function(){this.ChartPaint.length<=0||!this.ChartPaint[0]||(this.ColorIndex=null,this.TradeIndex=null,this.ChartPaint[0].ColorData=null,this.ChartPaint[0].TradeData=null,this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw())},this.ChangeScriptIndex=function(t,e){this.DeleteIndexPaint(t),this.WindowIndex[t]=new C.JSCommonIndex_ScriptIndex(e.Name,e.Script,e.Args,e);var a=this.ChartPaint[0].Data;this.BindIndexData(t,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeAPIIndex=function(t,e){this.DeleteIndexPaint(t);var a=e.API;this.WindowIndex[t]=new pt(a.Name,a.Script,a.Args,e);var i=this.ChartPaint[0].Data;this.BindIndexData(t,i),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeIndex=function(t,e,a){if(a&&a.API)return this.ChangeAPIIndex(t,a);var i=rt.Get(e);if(!i){var r=new h.JSCommonIndexScript.JSIndexScript,n=r.Get(e);if(!n)return;n.IsMainIndex?t=0:0==t&&(t=1);var s=n;return a&&(a.FloatPrecision>=0&&(s.FloatPrecision=a.FloatPrecision),a.StringFormat>0&&(s.StringFormat=a.StringFormat),a.Args&&(s.Args=a.Args)),this.ChangeScriptIndex(t,s)}i.IsMainIndex?t>0&&(t=0):0==t&&(t=1);var o=new Array;for(var l in this.ChartPaint){var u=this.ChartPaint[l];0!=l&&u.ChartFrame==this.Frame.SubFrame[t].Frame||o.push(u)}this.Frame.SubFrame[t].Frame.YSpecificMaxMin=null,this.Frame.SubFrame[t].Frame.YSplitScale=null,this.ChartPaint=o;var c=t+1;this.TitlePaint[c].Data=[],this.TitlePaint[c].Title=null,this.WindowIndex[t]=i.Create(),this.CreateWindowIndex(t);var C=this.ChartPaint[0].Data;this.BindIndexData(t,C),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeKLineDrawType=function(t,e){if(this.KLineDrawType!=t){for(var a in this.KLineDrawType=t,this.ChartPaint){var i=this.ChartPaint[a];0==a?i.DrawType=this.KLineDrawType:"ChartVolStick"==i.ClassName&&(i.KLineDrawType=this.KLineDrawType)}this.OverlayChartPaint[0]&&(this.OverlayChartPaint[0].DrawType=this.KLineDrawType),0!=e&&(this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw())}},this.GetIndexInfo=function(){var t=[];for(var e in this.WindowIndex){var a=this.WindowIndex[e],i={Name:a.Name};a.ID&&(i.ID=a.ID),t.push(i)}return t},this.ChangeIndexTemplate=function(t){if(t.Windows){var e=t.Windows.length;if(!(e<=0)){var a=this.Frame.SubFrame.length,i=null,r=null;t.KLine&&(d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.KLine.Period)&&t.KLine.Period!=this.Period&&(i=t.KLine.Period),d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.KLine.Right)&&t.KLine.Right!=this.Right&&(r=t.KLine.Right));for(var n=null!=i||null!=r,s=0;s<a;++s){this.DeleteIndexPaint(s);var o=this.Frame.SubFrame[s];o.YSpecificMaxMin=null,o.IsLocked=!1,o.YSplitScale=null}if(a>e)this.Frame.SubFrame.splice(e,a-e),this.WindowIndex.splice(e,a-e);else for(s=a;s<e;++s){var l=this.CreateSubFrameItem(s);this.Frame.SubFrame[s]=l;var u=new D.JSCommonChartTitle_DynamicChartTitlePainting;u.Frame=this.Frame.SubFrame[s].Frame,u.Canvas=this.Canvas,u.LanguageID=this.LanguageID,this.TitlePaint[s+1]=u}var c=new h.JSCommonIndexScript.JSIndexScript,m=this.ChartPaint[0].Data;for(s=0;s<e;++s){var f=s,p=t.Windows[s],S=null;t.Frame&&t.Frame.length>s&&(S=t.Frame[s]);var v=f+1;if(this.TitlePaint[v].Data=[],this.TitlePaint[v].Title=null,p.Script)this.WindowIndex[s]=new C.JSCommonIndex_ScriptIndex(p.Name,p.Script,p.Args,p),n||this.BindIndexData(f,m);else{var g=p.Index,T=rt.Get(g);if(T)this.WindowIndex[s]=T.Create(),this.CreateWindowIndex(f),n||this.BindIndexData(f,m);else{var I=c.Get(g);if(I){var x=I.Args;t.Windows[s].Args&&(x=t.Windows[s].Args);var A={Name:I.Name,Script:I.Script,Args:x,ID:g,KLineType:I.KLineType,YSpecificMaxMin:I.YSpecificMaxMin,YSplitScale:I.YSplitScale,FloatPrecision:I.FloatPrecision,Condition:I.Condition,OutName:I.OutName};this.WindowIndex[s]=new C.JSCommonIndex_ScriptIndex(A.Name,A.Script,A.Args,A),n||this.BindIndexData(f,m)}}}p.IndexParamSpace>=0&&(this.Frame.SubFrame[s].Frame.IndexParamSpace=p.IndexParamSpace),1==p.IsDrawTitleBG&&(this.Frame.SubFrame[s].Frame.IsDrawTitleBG=p.IsDrawTitleBG),S&&(S.SplitCount&&(this.Frame.SubFrame[s].Frame.YSplitOperator.SplitCount=S.SplitCount),0==S.IsShowBorder&&(this.Frame.SubFrame[s].Frame.IsShowBorder=S.IsShowBorder),!1!==S.IsShowXLine&&!0!==S.IsShowXLine||(this.Frame.SubFrame[s].Frame.IsShowXLine=S.IsShowXLine),!1!==S.IsShowYLine&&!0!==S.IsShowYLine||(this.Frame.SubFrame[s].Frame.IsShowYLine=S.IsShowYLine),!1!==S.IsShowLeftText&&!0!==p.IsShowLeftText||(this.Frame.SubFrame[s].Frame.IsShowYText[0]=S.IsShowLeftText),!1!==S.IsShowRightText&&!0!==p.IsShowRightText||(this.Frame.SubFrame[s].Frame.IsShowYText[1]=S.IsShowRightText))}for(s=0;s<this.Frame.SubFrame.length;++s){p=this.Frame.SubFrame[s].Frame;s==this.Frame.SubFrame.length-1?p.XSplitOperator.ShowText=!0:p.XSplitOperator.ShowText=!1}n?(this.Frame.SetSizeChage(!0),null!=i?this.ChangePeriod(i,t):null!=r&&this.ChangeRight(r)):(this.UpdataDataoffset(),this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw())}}},this.CreateExtendChart=function(t,e){var a;switch(t){case"KLineTooltip":return a=e.Create&&"function"==typeof e.Create?e.Create():new c.JSCommonExtendChartPaint_KLineTooltipPaint,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.HQChart=this,e.LanguageID=this.LanguageID,a.SetOption(e),this.ExtendChartPaint.push(a),a;case"\u80cc\u666f\u56fe":return a=new c.JSCommonExtendChartPaint_BackgroundPaint,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.HQChart=this,a.SetOption(e),this.ExtendChartPaint.push(a),a;default:return null}},this.LockIndex=function(t){if(t&&t.IndexName)for(var e in this.WindowIndex){var a=this.WindowIndex[e];if(a||conintue,a.Name==t.IndexName){a.SetLock(t),this.Update();break}}},this.TryClickLock=function(t,e){for(var a in this.Frame.SubFrame){var i=this.Frame.SubFrame[a];if(i.Frame.IsLocked&&i.Frame.LockPaint){var r=new W;if(i.Frame.LockPaint.GetTooltipData(t,e,r))return r.HQChart=this,r.Data.Callback&&r.Data.Callback(r),!0}}return!1},this.TryClickIndexTitle=function(t,e){for(var a in this.TitlePaint){var r=this.TitlePaint[a];if(r.IsClickTitle&&r.IsClickTitle(t,e)){var n={Point:{X:t,Y:e},Title:r.Title,FrameID:r.Frame.Identify};i.JSConsole.Chart.Log("[KLineChartContainer::TryClickIndexTitle] click title ",n);var s=this.GetEvent(I.ON_CLICK_INDEXTITLE);return s&&s.Callback&&s.Callback(s,n,this),!0}}return!1},this.StopAutoUpdate=function(){this.IsAutoUpdate=!1,this.CancelAutoUpdate(),this.AutoUpdateEvent(!1)},this.Update=function(){if(this.SourceData){this.BeforeBindMainData&&this.BeforeBindMainData("Update");var t=new r.JSCommon_ChartData;if(t.Data=this.SourceData.Data,t.Period=this.Period,t.Right=this.Right,t.DataType=this.SourceData.DataType,t.Symbol=this.Symbol,t.Right>0&&r.JSCommon_ChartData.IsDayPeriod(t.Period,!0)){var e=t.GetRightDate(t.Right);t.Data=e}if(r.JSCommon_ChartData.IsDayPeriod(t.Period,!1)||r.JSCommon_ChartData.IsMinutePeriod(t.Period,!1)){var a=t.GetPeriodData(t.Period);t.Data=a}this.BindMainData(t,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("Update");for(var i=0;i<this.Frame.SubFrame.length;++i)this.BindIndexData(i,t);if(this.OverlayChartPaint[0].SourceData)if(r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0))this.OverlayChartPaint[0].Data=null;else{t=new r.JSCommon_ChartData;if(t.Data=this.OverlayChartPaint[0].SourceData.Data,t.Period=this.Period,t.Right=this.Right,t.Right>0&&!At(this.OverlayChartPaint[0].Symbol)){e=t.GetRightDate(t.Right);t.Data=e}var n=this.SourceData.GetOverlayData(t.Data);if(t.Data=n,r.JSCommon_ChartData.IsDayPeriod(t.Period,!1)){a=t.GetPeriodData(t.Period);t.Data=a}this.OverlayChartPaint[0].Data=t}this.ReqeustKLineInfoData(),this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.ChangeSymbol=function(t){if(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1),this.Symbol=t,At(t)&&(this.Right=0),this.Frame&&this.Frame.SubFrame)for(var e=0;e<this.Frame.SubFrame.length;++e)this.DeleteIndexPaint(e);r.JSCommon_ChartData.IsDayPeriod(this.Period,!0)?this.RequestHistoryData():(r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0)||r.JSCommon_ChartData.IsSecondPeriod(this.Period))&&this.ReqeustHistoryMinuteData()},this.ReqeustKLineInfoData=function(){if(this.ChartPaint.length>0){var t=this.ChartPaint[0];t.InfoData=new Map}for(var e in this.ChartInfo)this.ChartInfo[e].RequestData(this)},this.SetKLineInfo=function(t,e){for(var a in this.ChartInfo=[],t){var i=n.JSCommon_JSKLineInfoMap.Get(t[a]);if(i){var r=i.Create();r.MaxReqeustDataCount=this.MaxReqeustDataCount,this.ChartInfo.push(r)}}1==e&&this.ReqeustKLineInfoData()},this.SetPolicyInfo=function(t,e){if(t&&t.length){var a=n.JSCommon_JSKLineInfoMap.Get("\u7b56\u7565\u9009\u80a1");if(a){var i=a.Create();i.SetPolicyList(t),i.MaxReqeustDataCount=this.MaxReqeustDataCount,this.ChartInfo.push(i),1==e&&this.ReqeustKLineInfoData()}}},this.OverlaySymbol=function(t,e){var a=this.OverlayChartPaint[0];return!!a.MainData&&(a.Symbol=t,e&&a.Color&&(a.Color=e.Color),r.JSCommon_ChartData.IsDayPeriod(this.Period,!0)&&this.RequestOverlayHistoryData(),!0)},this.GetRequestDataCount=function(){var t={MaxRequestDataCount:this.MaxReqeustDataCount,MaxRequestMinuteDayCount:this.MaxRequestMinuteDayCount};if(!this.SourceData||!this.SourceData.Data||this.SourceData.Data.length<=0)return t;if(r.JSCommon_ChartData.IsDayPeriod(this.Period,!0)){var e=this.SourceData.Data.length;e>t.MaxRequestDataCount&&(t.MaxRequestDataCount=e)}else r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0);return t},this.RequestOverlayHistoryData=function(){if(this.OverlayChartPaint.length){var t=this.OverlayChartPaint[0].Symbol;if(t){var a=this,i=this.GetRequestDataCount(),r=this.SourceData.Data[0].Date;if(this.NetworkFilter){var n={Name:"KLineChartContainer::RequestOverlayHistoryData",Explain:"\u53e0\u52a0\u80a1\u7968\u65e5K\u7ebf\u6570\u636e",Request:{Url:a.KLineApiUrl,Data:{symbol:t,count:i.MaxRequestDataCount,first:{date:r},field:["name","symbol","yclose","open","price","high","vol","amount"]},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(n,(function(t){a.RecvOverlayHistoryData(t)})),1==n.PreventDefault)return}e.request({url:this.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high"],symbol:t,start:-1,count:this.MaxReqeustDataCount},method:"POST",dataType:"json",async:!0,success:function(t){a.RecvOverlayHistoryData(t)}})}}},this.RecvOverlayHistoryData=function(t){var e=t.data,a=nt.JsonDataToHistoryData(e),i=new r.JSCommon_ChartData;i.Data=a;var n=new r.JSCommon_ChartData;if(n.Data=a,n.Period=this.Period,n.Right=this.Right,n.Right>0&&!At(e.symbol)){var s=n.GetRightDate(n.Right);n.Data=s}var o=this.SourceData.GetOverlayData(n.Data);if(n.Data=o,r.JSCommon_ChartData.IsDayPeriod(n.Period,!1)){var h=n.GetPeriodData(n.Period);n.Data=h}this.OverlayChartPaint[0].Data=n,this.OverlayChartPaint[0].SourceData=i,this.OverlayChartPaint[0].Title=e.name,this.OverlayChartPaint[0].Symbol=e.symbol,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=1,this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()},this.ClearOverlaySymbol=function(){this.OverlayChartPaint[0].Symbol=null,this.OverlayChartPaint[0].Data=null,this.OverlayChartPaint[0].SourceData=null,this.OverlayChartPaint[0].TooltipRect=[],this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=0,this.UpdateFrameMaxMin(),this.Draw()},this.CreateChartDrawPicture=function(t){return!1},this.SetChartDrawPictureFirstPoint=function(t,e){var a=this.CurrentChartDrawPicture;if(!a)return!1;if(!this.Frame.SubFrame||this.Frame.SubFrame.length<=0)return!1;for(var i in this.Frame.SubFrame){var r=this.Frame.SubFrame[i].Frame,n=r.ChartBorder.GetLeft(),s=r.ChartBorder.GetTopEx(),o=r.ChartBorder.GetHeight(),h=r.ChartBorder.GetWidth();if(this.Canvas.rect(n,s,h,o),this.Canvas.isPointInPath(t,e)){a.Frame=r;break}}if(!a.Frame)return!1;a.Point[0]=new E,a.Point[0].X=t-this.UIElement.getBoundingClientRect().left,a.Point[0].Y=e-this.UIElement.getBoundingClientRect().top,a.Status=1},this.SetChartDrawPictureSecondPoint=function(t,e){var a=this.CurrentChartDrawPicture;if(!a)return!1;a.Point[1]=new E,a.Point[1].X=t-this.UIElement.getBoundingClientRect().left,a.Point[1].Y=e-this.UIElement.getBoundingClientRect().top,a.Status=2},this.MoveChartDrawPicture=function(t,e){var a=this.CurrentChartDrawPicture;return!!a&&(a.Move(t,e),!0)},this.FinishChartDrawPicturePoint=function(){var t=this.CurrentChartDrawPicture;return!!t&&(t.PointCount==t.Point.length&&(t.Status=10,t.PointToValue(),this.ChartDrawPicture.push(t),this.CurrentChartDrawPicture=null,!0))},this.FinishMoveChartDrawPicture=function(){var t=this.CurrentChartDrawPicture;return!!t&&(t.PointCount==t.Point.length&&(t.Status=10,t.PointToValue(),this.CurrentChartDrawPicture=null,!0))},this.ClearChartDrawPicture=function(t){if(t)for(var e in this.ChartDrawPicture)this.ChartDrawPicture[e]==t&&(this.ChartDrawPicture.splice(e,1),this.Draw());else this.ChartDrawPicture=[],this.Draw()},this.UpdataChartInfo=function(){var t=new Map;if(0==this.Period)for(var e in this.ChartInfo){var a=this.ChartInfo[e].Data;for(var i in a){var n=a[i];t.has(n.Date.toString())?t.get(n.Date.toString()).Data.push(n):t.set(n.Date.toString(),{Data:new Array(n)})}}else if(r.JSCommon_ChartData.IsDayPeriod(this.Period,!1)){t=new Map;var s=this.ChartPaint[0].Data;if(s&&s.Data&&s.Data.length>0){var o=s.Data[0],h=[];for(var e in this.ChartInfo){var l=this.ChartInfo[e];for(var i in l.Data){n=l.Data[i];n.Date>=o.Date&&h.push(n)}}h.sort((function(t,e){return t.Date-e.Date}));for(e=0;e<s.Data.length;){var u=s.Data[e];if(h.length<=0)break;l=h[0];u.Date<l.Date?++e:(t.has(u.Date.toString())?t.get(u.Date.toString()).Data.push(l):t.set(u.Date.toString(),{Data:new Array(l)}),h.shift())}}}var c=this.ChartPaint[0];c.InfoData=t;var C=this.TitlePaint[0];C&&(C.InfoData=t)},this.UpdateWindowIndex=function(t){var e=new r.JSCommon_ChartData;if(e.Data=this.SourceData.Data,e.Period=this.Period,e.Right=this.Right,this.IsApiPeriod);else{if(e.Right>0){var a=e.GetRightDate(e.Right);e.Data=a}if(r.JSCommon_ChartData.IsDayPeriod(e.Period,!1)||r.JSCommon_ChartData.IsMinutePeriod(e.Period,!1)){var i=e.GetPeriodData(e.Period);e.Data=i}}this.WindowIndex[t].BindData(this,t,e),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeWindowIndexParam=function(t){this.WindowIndex[t].Index[0].Param+=1,this.WindowIndex[t].Index[1].Param+=1,this.UpdateWindowIndex(t)},this.OnDoubleClick=function(t,e,a){var i=new W;for(var r in this.ChartPaint){var n=this.ChartPaint[r];if(n.GetTooltipData(t,e,i))break}i.Data&&(a.data={Chart:this,Tooltip:i})},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=void 0)},this.AutoUpdate=function(t){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var e=this,a=s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.GetMarketStatus(this.Symbol);if(0!=a&&3!=a){var i=this.AutoUpdateFrequency;1==a?this.AutoUpdateTimer=setTimeout((function(){e.AutoUpdate()}),i):2==a&&(this.AutoUpdateTimer=setTimeout((function(){r.JSCommon_ChartData.IsDayPeriod(e.Period,!0)?e.RequestRealtimeData():(r.JSCommon_ChartData.IsMinutePeriod(e.Period,!0)||r.JSCommon_ChartData.IsSecondPeriod(e.Period))&&e.RequestMinuteRealtimeData()}),i))}}},this.GetMaxPageSize=function(){var t=this.Frame.ChartBorder.GetWidth(),e=Y[Y.length-1][0]+Y[Y.length-1][1],a=parseInt(t/e)-8;return i.JSConsole.Chart.Log("[KLineChartContainer::GetMaxPageSize] width=".concat(t," barWidth=").concat(e," pageSize=").concat(a)),a},this.DragDownloadData=function(){var t=null;if(t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data,!t)return!1;if(!(t.DataOffset>0))if(r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0)){if(i.JSConsole.Chart.Log("[KLineChartContainer.DragDownloadData] Minute:[Enable=".concat(this.DragDownload.Minute.Enable,", IsEnd=").concat(this.DragDownload.Minute.IsEnd,", Status=").concat(this.DragDownload.Minute.Status,"]")),!this.DragDownload.Minute.Enable)return;if(this.DragDownload.Minute.IsEnd)return;if(0!=this.DragDownload.Minute.Status)return;this.RequestDragMinuteData()}else if(r.JSCommon_ChartData.IsDayPeriod(this.Period,!0)){if(i.JSConsole.Chart.Log("[KLineChartContainer.DragDownloadData] Day:[Enable=".concat(this.DragDownload.Minute.Enable,", IsEnd=").concat(this.DragDownload.Minute.IsEnd,", Status=").concat(this.DragDownload.Minute.Status,"]")),!this.DragDownload.Day.Enable)return;if(this.DragDownload.Day.IsEnd)return;if(0!=this.DragDownload.Day.Status)return;this.RequestDragDayData()}},this.RequestDragMinuteData=function(){var t=this;this.AutoUpdateEvent(!1,"KLineChartContainer::RequestDragMinuteData"),this.CancelAutoUpdate();var a=this.DragDownload.Minute;a.Status=1;var i=this.SourceData.Data[0],r={field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,enddate:i.Date,endtime:i.Time,count:t.MaxRequestMinuteDayCount,first:{date:i.Date,time:i.Time}};if(this.NetworkFilter){var n={Name:"KLineChartContainer::RequestDragMinuteData",Explain:"\u62d6\u62fd1\u5206\u949fK\u7ebf\u6570\u636e\u4e0b\u8f7d",Request:{Url:this.DragMinuteKLineApiUrl,Type:"POST",Data:r},DragDownload:a,Self:this,PreventDefault:!1};if(this.NetworkFilter(n,(function(e){t.RecvDragMinuteData(e),a.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragMinuteData"),t.AutoUpdate()})),1==n.PreventDefault)return}e.request({url:this.DragMinuteKLineApiUrl,data:r,method:"POST",dataType:"json",async:!0,success:function(e){t.RecvDragMinuteData(e),a.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragMinuteData"),t.AutoUpdate()}})},this.RecvDragMinuteData=function(t){var e=t.data,a=nt.JsonDataToMinuteHistoryData(e),i=this.GetHistoryDataCount();for(var n in a){var s=a[n];this.SourceData.Data.splice(n,0,s)}var o=new r.JSCommon_ChartData;if(o.Data=this.SourceData.Data,o.Period=this.Period,o.Right=this.Right,o.DataType=this.SourceData.DataType,o.Symbol=this.Symbol,!this.IsApiPeriod&&(r.JSCommon_ChartData.IsDayPeriod(o.Period,!1)||r.JSCommon_ChartData.IsMinutePeriod(o.Period,!1))){var h=o.GetPeriodData(o.Period);o.Data=h}this.UpdateMainData(o,i),this.BindInstructionIndexData(o);for(n=0;n<this.Frame.SubFrame.length;++n)this.BindIndexData(n,o);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()},this.RequestDragDayData=function(){var t=this;this.AutoUpdateEvent(!1,"KLineChartContainer::RequestDragDayData"),this.CancelAutoUpdate();var a=this.DragDownload.Day;a.Status=1;var i=this.SourceData.Data[0],r={field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,enddate:i.Date,count:t.MaxReqeustDataCount,first:{date:i.Date}};if(this.NetworkFilter){var n={Name:"KLineChartContainer::RequestDragDayData",Explain:"\u62d6\u62fd\u65e5K\u6570\u636e\u4e0b\u8f7d",Request:{Url:this.DragKLineApiUrl,Type:"POST",Data:r},DragDownload:a,Self:this,PreventDefault:!1};if(this.NetworkFilter(n,(function(e){t.RecvDragDayData(e),a.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragDayData"),t.AutoUpdate()})),1==n.PreventDefault)return}e.request({url:this.DragKLineApiUrl,data:r,method:"POST",dataType:"json",async:!0,success:function(e){t.RecvDragDayData(e),a.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragDayData"),t.AutoUpdate()}})},this.RecvDragDayData=function(t){var e=t.data,a=nt.JsonDataToHistoryData(e),i=this.GetHistoryDataCount();for(var n in a){var s=a[n];this.SourceData.Data.splice(n,0,s)}var o=new r.JSCommon_ChartData;if(o.Data=this.SourceData.Data,o.Period=this.Period,o.Right=this.Right,o.DataType=this.SourceData.DataType,o.Symbol=this.Symbol,!this.IsApiPeriod&&(r.JSCommon_ChartData.IsDayPeriod(o.Period,!1)||r.JSCommon_ChartData.IsMinutePeriod(o.Period,!1))){var h=o.GetPeriodData(o.Period);o.Data=h}this.UpdateMainData(o,i),this.BindInstructionIndexData(o);for(n=0;n<this.Frame.SubFrame.length;++n)this.BindIndexData(n,o);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()},this.SetCustomVerical=function(t,e){if(this.Frame&&!(t>=this.Frame.SubFrame.length)){var a=this.Frame.SubFrame[t];a.Frame&&(a.Frame.CustomVerticalInfo=e)}},this.OnSize=function(){if(this.Frame&&this.Frame.OnSize){var t=this.Frame.OnSize();this.Frame.SetSizeChage(!0),t.Changed&&(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin()),this.Draw()}}}function st(t){this.newMethod=A,this.newMethod(t),delete this.newMethod,this.ClassName="MinuteChartContainer",this.WindowIndex=new Array,this.Symbol,this.Name,this.SourceData,this.OverlaySourceData,this.IsAutoUpdate=!1,this.AutoUpdateFrequency=3e4,this.AutoUpdateTimer,this.TradeDate=0,this.SplashTitle="\u4e0b\u8f7d\u5206\u949f\u6570\u636e",this.UpdateUICallback,this.DayCount=1,this.DayData,this.MinuteApiUrl=m.JSCommonResource_Global_JSChartResource.Domain+"/API/Stock",this.HistoryMinuteApiUrl=m.JSCommonResource_Global_JSChartResource.Domain+"/API/StockMinuteData",this.ontouchstart=function(t){var e=this;this.IsOnTouch=!0;var a=this;if(0!=a.DragMode&&this.IsPhoneDragging(t)){if(a.TryClickLock){var i=this.GetToucheData(t,a.IsForceLandscape),r=i[0].clientX,n=i[0].clientY;if(a.TryClickLock(r,n))return}null!=this.TouchTimer&&clearTimeout(this.TouchTimer);var s={Click:{},LastMove:{}};i=this.GetToucheData(t,a.IsForceLandscape);s.Click.X=i[0].clientX,s.Click.Y=i[0].clientY,s.LastMove.X=i[0].clientX,s.LastMove.Y=i[0].clientY;var o=function(){if(!0===e.ChartCorssCursor.IsShow){var i=s.Click.X,r=s.Click.Y;a.IsForceLandscape&&(r=a.UIElement.Height-s.Click.Y),a.OnMouseMove(i,r,t)}};1==this.EnableScrollUpDown&&(this.TouchTimer=setTimeout((function(){e.MouseDrag=null,o()}),800)),this.MouseDrag=s,0==this.EnableScrollUpDown&&o()}},this.ontouchmove=function(t){var e=this,a=e.MouseDrag,i=this.GetToucheData(t,e.IsForceLandscape);if(!0===this.ChartCorssCursor.IsShow&&this.IsPhoneDragging(t)&&null==a){var r=i[0].clientX,n=i[0].clientY;e.OnMouseMove(r,n,t)}if(null!=a){null!=this.TouchTimer&&clearTimeout(this.TouchTimer),this.MouseDrag=null;r=i[0].clientX,n=i[0].clientY;this.OnMouseMove(r,n,t)}},this.Create=function(t){for(var e in this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new u.JSCommonChartPaint_ChartCorssCursor,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=new it,this.ChartCorssCursor.StringFormatY=new et,this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID,this.ChartSplashPaint=new u.JSCommonChartPaint_ChartSplashPaint,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.SplashTitle=this.SplashTitle,this.ChartSplashPaint.HQChart=this,this.Frame=new k,this.Frame.ChartBorder=new N,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=25,this.Frame.ChartBorder.Left=50,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine(),this.Frame.SubFrame){var a=new D.JSCommonChartTitle_DynamicChartTitlePainting;a.Frame=this.Frame.SubFrame[e].Frame,a.Canvas=this.Canvas,a.LanguageID=this.LanguageID,this.TitlePaint.push(a)}this.ChartCorssCursor.StringFormatX.Frame=this.Frame.SubFrame[0].Frame},this.CreateChildWindow=function(t){for(var e=0;e<t;++e){var a=new N;a.UIElement=this.UIElement;var i=new O;i.Canvas=this.Canvas,i.ChartBorder=a,e<2&&(i.ChartBorder.TitleHeight=0),i.XPointCount=243;var r=[9,8,7,6,5,4,3,2,1];for(var n in i.HorizontalMax=r[0],i.HorizontalMin=r[r.length-1],0==e?(i.YSplitOperator=new d.JSCommonSplit_FrameSplitMinutePriceY,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price")):(i.YSplitOperator=new d.JSCommonSplit_FrameSplitY,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),i.YSplitOperator.LanguageID=this.LanguageID),i.YSplitOperator.Frame=i,i.YSplitOperator.ChartBorder=a,i.XSplitOperator=new d.JSCommonSplit_FrameSplitMinuteX,i.XSplitOperator.Frame=i,i.XSplitOperator.ChartBorder=a,e!=t-1&&(i.XSplitOperator.ShowText=!1),i.XSplitOperator.Operator(),r)i.HorizontalInfo[n]=new d.JSCommonSplit_CoordinateInfo,i.HorizontalInfo[n].Value=r[n],0==e&&n==i.HorizontalMin||(i.HorizontalInfo[n].Message[1]=r[n].toString(),i.HorizontalInfo[n].Font="14px \u5fae\u8f6f\u96c5\u9ed1");var s=new G;s.Frame=i,s.Height=0==e?20:10,this.Frame.SubFrame[e]=s}},this.UpdateXShowText=function(){for(var t=!0,e=this.Frame.SubFrame.length-1;e>=0;--e){var a=this.Frame.SubFrame[e].Frame,i=this.Frame.SubFrame[e];t?(a.XSplitOperator.ShowText=!0,i.Height>0&&(t=!1)):a.XSplitOperator.ShowText=!1}},this.DeleteIndexPaint=function(t){var e=new Array;for(var a in this.ChartPaint){var i=this.ChartPaint[a];0!=a&&i.ChartFrame==this.Frame.SubFrame[t].Frame||e.push(i)}this.Frame.SubFrame[t].Frame.YSpecificMaxMin=null,this.Frame.SubFrame[t].Frame.IsLocked=!1,this.ChartPaint=e;var r=t+1;this.TitlePaint[r].Data=[],this.TitlePaint[r].Title=null},this.CreateStockInfo=function(){this.ExtendChartPaint[0]=new StockInfoExtendChartPaint,this.ExtendChartPaint[0].Canvas=this.Canvas,this.ExtendChartPaint[0].ChartBorder=this.Frame.ChartBorder,this.ExtendChartPaint[0].ChartFrame=this.Frame,this.Frame.ChartBorder.Right=300},this.CreateMainKLine=function(){var t=new $;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="Minute-Line",t.Color=m.JSCommonResource_Global_JSChartResource.Minute.PriceColor,t.AreaColor=m.JSCommonResource_Global_JSChartResource.Minute.AreaPriceColor,this.ChartPaint[0]=t;var e=new $;e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.Name="Minute-Average-Line",e.Color=m.JSCommonResource_Global_JSChartResource.Minute.AvPriceColor,e.IsDrawArea=!1,this.ChartPaint[1]=e;var a=new u.JSCommonChartPaint_ChartMinuteVolumBar;a.Color=m.JSCommonResource_Global_JSChartResource.Minute.VolBarColor,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.SubFrame[1].Frame.ChartBorder,a.ChartFrame=this.Frame.SubFrame[1].Frame,a.Name="Minute-Vol-Bar",this.ChartPaint[2]=a;var i=new u.JSCommonChartPaint_ChartSubLine;i.Color=m.JSCommonResource_Global_JSChartResource.Minute.PriceColor,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.SubFrame[1].Frame.ChartBorder,i.ChartFrame=this.Frame.SubFrame[1].Frame,i.Name="Minute-Position-Line",this.ChartPaint[3]=i,this.TitlePaint[0]=new D.JSCommonChartTitle_DynamicMinuteTitlePainting,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].LanguageID=this.LanguageID;var r=new q;r.Canvas=this.Canvas,r.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,r.ChartFrame=this.Frame.SubFrame[0].Frame,r.Name="Overlay-Minute",this.OverlayChartPaint[0]=r},this.ChangeScriptIndex=function(t,e){this.DeleteIndexPaint(t),this.WindowIndex[t]=new C.JSCommonIndex_ScriptIndex(e.Name,e.Script,e.Args,e);var a=this.SourceData;this.BindIndexData(t,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeIndex=function(t,e,a){if(!(this.Frame.SubFrame.length<3)){var i=new h.JSCommonIndexScript.JSIndexScript,r=i.Get(e);if(r){t<2&&(t=2),t>=this.Frame.SubFrame.length&&(t=2);var n={Name:r.Name,Script:r.Script,Args:r.Args,ID:e,KLineType:r.KLineType,YSpecificMaxMin:r.YSpecificMaxMin,YSplitScale:r.YSplitScale,FloatPrecision:r.FloatPrecision,Condition:r.Condition,StringFormat:r.StringFormat};return a&&(a.FloatPrecision>=0&&(n.FloatPrecision=a.FloatPrecision),a.StringFormat>0&&(n.StringFormat=a.StringFormat),a.Args&&(n.Args=a.Args)),this.ChangeScriptIndex(t,n)}}},this.ChangeSymbol=function(t){this.Symbol=t,this.ChartSplashPaint.EnableSplash(!0),this.RequestData()},this.ChangeDayCount=function(t){t<0||t>10||(this.DayCount=t,this.RequestData())},this.OverlaySymbol=function(t,e){var a=this.OverlayChartPaint[0];return!!a.MainData&&(a.Symbol=t,e&&e.Color&&(a.Color=e.Color),this.DayCount<=1?this.RequestOverlayMinuteData():this.RequestOverlayHistoryMinuteData(),!0)},this.TryClickLock=function(t,e){for(var a in this.Frame.SubFrame){var i=this.Frame.SubFrame[a];if(i.Frame.IsLocked&&i.Frame.LockPaint){var r=new W;if(i.Frame.LockPaint.GetTooltipData(t,e,r))return r.HQChart=this,r.Data.Callback&&r.Data.Callback(r),!0}}return!1},this.RequestData=function(){this.DayCount<=1?this.RequestMinuteData():this.RequestHistoryMinuteData()},this.RecvMinuteDataEvent=function(){if(this.mapEvent.has(I.RECV_MINUTE_DATA)){var t=this.mapEvent.get(I.RECV_MINUTE_DATA),e={MinuteData:this.SourceData,Stock:{Symbol:this.Symbol,Name:this.Name}};t.Callback(t,e,this)}},this.RequestHistoryMinuteData=function(){var t=this;if(this.ChartSplashPaint.EnableSplash(!0),this.Draw(),this.NetworkFilter){var a={Name:"MinuteChartContainer::RequestHistoryMinuteData",Explain:"\u591a\u65e5\u5206\u65f6\u6570\u636e",Request:{Url:t.HistoryMinuteApiUrl,Data:{daycount:t.DayCount,symbol:t.Symbol},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,(function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)})),1==a.PreventDefault)return}e.request({url:t.HistoryMinuteApiUrl,data:{symbol:t.Symbol,daycount:t.DayCount},method:"post",dataType:"json",success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)}})},this.RecvHistoryMinuteData=function(t){var e=t.data;0==e.code?(this.DayData=st.JsonDataToMinuteDataArray(e),this.Symbol=e.symbol,this.Name=e.name,this.UpdateHistoryMinuteUI(),this.RecvMinuteDataEvent(),this.RequestOverlayHistoryMinuteData(),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback("RecvHistoryMinuteData",this),this.AutoUpdate()):i.JSConsole.Chart.Log("[MinuteChartContainer::RecvHistoryMinuteData] failed.",e)},this.UpdateHistoryMinuteUI=function(){var t=this.HistoryMinuteDataToArray(this.DayData),e=new r.JSCommon_ChartData;if(e.Data=t,this.SourceData=e,this.TradeDate=this.DayData[0].Date,this.BindMainData(e,this.DayData[0].YClose),s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsChinaFutures(this.Symbol)&&(this.ChartPaint[1].Data=null),this.Frame.SubFrame.length>2){var a=new r.JSCommon_ChartData;a.Data=t;for(var i=2;i<this.Frame.SubFrame.length;++i)this.BindIndexData(i,a)}for(var n in this.Frame.SubFrame){var o=this.Frame.SubFrame[n];o.Frame.XSplitOperator.Symbol=this.Symbol,o.Frame.XSplitOperator.DayCount=this.DayData.length,o.Frame.XSplitOperator.DayData=this.DayData,o.Frame.XSplitOperator.Operator(),o.Frame.YSplitOperator.Symbol=this.Symbol}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.Symbol=this.Symbol,this.TitlePaint[0].IsShowDate=!0,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()},this.HistoryMinuteDataToArray=function(t){for(var e=[],a=t.length-1;a>=0;--a){var i=t[a];for(var r in i.Data)e.push(i.Data[r])}return e},this.UpdateLatestMinuteData=function(t,e){for(var a in this.DayData){var i=this.DayData[a];if(i.Date===e){i.Data=t;break}}},this.RequestMinuteData=function(){var t=this,a=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","minute","minutecount"],i=this.Symbol.toUpperCase();if(s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsChinaFutures(i)&&(a.push("clearing"),a.push("yclearing")),this.NetworkFilter){var r={Name:"MinuteChartContainer::RequestMinuteData",Explain:"\u6700\u65b0\u5206\u65f6\u6570\u636e",Request:{Url:t.MinuteApiUrl,Data:{field:a,symbol:[t.Symbol]},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,(function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteData(e)})),1==r.PreventDefault)return}e.request({url:this.MinuteApiUrl,data:{field:a,symbol:[this.Symbol],start:-1},method:"post",dataType:"json",success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteData(e)}})},this.RecvMinuteData=function(t){var e=st.JsonDataToMinuteData(t.data);if(this.DayCount>1)return this.UpdateLatestMinuteData(e,t.data.stock[0].date),this.UpdateHistoryMinuteUI(),this.RecvMinuteDataEvent(),this.RequestOverlayMinuteData(),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback("RecvMinuteData",this),void this.AutoUpdate();var a=new r.JSCommon_ChartData;a.Data=e,this.TradeDate=t.data.stock[0].date,this.SourceData=a,this.Symbol=t.data.stock[0].symbol,this.Name=t.data.stock[0].name;var i=t.data.stock[0].yclose,n=this.Symbol.toUpperCase(),o=s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsFutures(n);t.data.stock[0].yclearing&&o&&(i=t.data.stock[0].yclearing);var h={High:t.data.stock[0].high,Low:t.data.stock[0].low};for(var l in this.BindMainData(a,i,h),this.Frame.SubFrame){var u=this.Frame.SubFrame[l];u.Frame.XSplitOperator.Symbol=this.Symbol,u.Frame.XSplitOperator.DayCount=1,u.Frame.XSplitOperator.Operator(),u.Frame.YSplitOperator.Symbol=this.Symbol}if(this.Frame.SubFrame.length>2){var c=new r.JSCommon_ChartData;c.Data=e;for(var C=2;C<this.Frame.SubFrame.length;++C)this.BindIndexData(C,c)}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.Symbol=this.Symbol;var m=this.GetChartMinuteInfo();m&&(m.SourceData=this.SourceData),this.RecvMinuteDataEvent(),this.RequestMinuteInfoData(),this.RequestOverlayMinuteData(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback("RecvMinuteData",this),this.AutoUpdate()},this.RequestOverlayMinuteData=function(){if(this.OverlayChartPaint.length){var t=this.OverlayChartPaint[0].Symbol;if(t){var a=this,i=this.TradeDate;if(this.NetworkFilter){var r={Name:"MinuteChartContainer::RequestOverlayMinuteData",Explain:"\u53e0\u52a0\u80a1\u7968\u6700\u65b0\u5206\u65f6\u6570\u636e",Request:{Url:a.HistoryMinuteApiUrl,Data:{days:[i],symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,(function(t){a.RecvOverlayMinuteData(t)})),1==r.PreventDefault)return}e.request({url:a.HistoryMinuteApiUrl,data:{symbol:t,days:[i]},method:"post",dataType:"json",success:function(t){a.RecvOverlayMinuteData(t)}})}}},this.RecvOverlayMinuteData=function(t){var e,a=t.data,i=st.JsonDataToMinuteDataArray(a),n=null;if(this.DayCount>1){if(i.length<=0)return;var s=i[0];for(var o in this.OverlaySourceData){var h=this.OverlaySourceData[o];if(h.Date==s.Date){this.OverlaySourceData[o]=s;var l=this.HistoryMinuteDataToArray(this.OverlaySourceData);n=new r.JSCommon_ChartData;n.Data=l,e=s.YClose;break}}if(null==n)return}else n=i.length>0?i[0]:new r.JSCommon_ChartData,e=n.YClose;this.OverlayChartPaint[0].Data=n,this.OverlayChartPaint[0].Title=a.name,this.OverlayChartPaint[0].Symbol=a.symbol,this.OverlayChartPaint[0].YClose=e,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback("RecvOverlayMinuteData",this)},this.RequestOverlayHistoryMinuteData=function(){if(this.OverlayChartPaint.length){var t=this.OverlayChartPaint[0].Symbol;if(t){var a=this,i=[];for(var r in this.DayData){var n=this.DayData[r];i.push(n.Date)}if(!(i.length<=0)){if(this.NetworkFilter){var s={Name:"MinuteChartContainer::RequestOverlayHistoryMinuteData",Explain:"\u53e0\u52a0\u80a1\u7968\u591a\u65e5\u5206\u65f6\u6570\u636e",Request:{Url:a.HistoryMinuteApiUrl,Data:{days:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(s,(function(t){a.RecvOverlayHistoryMinuteData(t)})),1==s.PreventDefault)return}e.request({url:a.HistoryMinuteApiUrl,data:{symbol:t,days:i},method:"post",dataType:"json",async:!0,success:function(t){a.RecvOverlayHistoryMinuteData(t)}})}}}},this.RecvOverlayHistoryMinuteData=function(t){var e=t.data,a=st.JsonDataToMinuteDataArray(e),i=[];for(var n in this.DayData){var s=this.DayData[n],o=!1;for(var h in a)if(s.Date==a[h].Date){i.push(a[n]),o=!0;break}if(!o){var l=new r.JSCommon_ChartData;l.Date=s.Date}}this.OverlaySourceData=i;var u=this.HistoryMinuteDataToArray(i),c=new r.JSCommon_ChartData;c.Data=u;var C=i[0].YClose;this.OverlayChartPaint[0].Data=c,this.OverlayChartPaint[0].Title=e.name,this.OverlayChartPaint[0].Symbol=e.symbol,this.OverlayChartPaint[0].YClose=C,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback("RecvOverlayHistoryMinuteData",this)},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=void 0)},this.AutoUpdate=function(){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var t=this,e=s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.GetMarketStatus(this.Symbol);if(0!=e&&3!=e){var a=this.AutoUpdateFrequency;1==e?this.AutoUpdateTimer=setTimeout((function(){t.AutoUpdate()}),a):2==e&&(this.AutoUpdateTimer=setTimeout((function(){t.RequestMinuteData()}),a))}}},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.IsAutoUpdate=!1},this.BindIndexData=function(t,e){this.WindowIndex[t]&&("function"!=typeof this.WindowIndex[t].RequestData?"function"!=typeof this.WindowIndex[t].ExecuteScript?this.WindowIndex[t].BindData(this,t,e):this.WindowIndex[t].ExecuteScript(this,t,e):this.WindowIndex[t].RequestData(this,t,e))},this.BindMainData=function(t,e,a){var i=new r.JSCommon_ChartData;i.Data=t.GetClose(),this.ChartPaint[0].Data=i,this.ChartPaint[0].YClose=e,this.ChartPaint[0].NotSupportMessage=null,this.Frame.SubFrame[0].Frame.YSplitOperator.YClose=e,this.Frame.SubFrame[0].Frame.YSplitOperator.Data=i,i=new r.JSCommon_ChartData,i.Data=t.GetMinuteAvPrice(),this.ChartPaint[1].Data=i,this.Frame.SubFrame[0].Frame.YSplitOperator.AverageData=i,this.Frame.SubFrame[0].Frame.YSplitOperator.OverlayChartPaint=this.OverlayChartPaint,a&&(this.Frame.SubFrame[0].Frame.YSplitOperator.High=a.High,this.Frame.SubFrame[0].Frame.YSplitOperator.Low=a.Low),this.ChartPaint[2].Data=t,this.ChartPaint[2].YClose=e;var n=this.Symbol.toUpperCase(),o=s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsChinaFutures(n),h=s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsSHO(n);this.ChartPaint[3].Data.Data=o||h?t.GetPosition():null,this.TitlePaint[0].Data=this.SourceData,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.TitlePaint[0].YClose=e,this.ExtendChartPaint[0]&&(this.ExtendChartPaint[0].Symbol=this.Symbol,this.ExtendChartPaint[0].Name=this.Name),this.OverlayChartPaint[0].MainData=this.ChartPaint[0].Data,this.OverlayChartPaint[0].MainYClose=e},this.GetChartPaint=function(t){var e=new Array;for(var a in this.ChartPaint)if(!(a<3)){var i=this.ChartPaint[a];i.ChartFrame==this.Frame.SubFrame[t].Frame&&e.push(i)}return e},this.CreateWindowIndex=function(t){this.WindowIndex[t].Create(this,t)},this.CreateExtendChart=function(t,e){var a;switch(t){case"MinuteTooltip":return a=new c.JSCommonExtendChartPaint_MinuteTooltipPaint,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.HQChart=this,e.LanguageID=this.LanguageID,a.SetOption(e),this.ExtendChartPaint.push(a),a;default:return null}},this.SetMinuteInfo=function(t,e){for(var a in this.ChartInfo=[],t){var i=n.JSCommon_JSMinuteInfoMap.Get(t[a]);if(i){var r=i.Create();this.ChartInfo.push(r)}}1==e&&this.RequestMinuteInfoData()},this.GetChartMinuteInfo=function(){return this.ChartInfoPaint},this.CreateMinuteInfo=function(t){var e=new u.JSCommonChartPaint_ChartMinuteInfo;return e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.ChartMinutePrice=this.ChartPaint[0],t&&e.SetOption&&e.SetOption(t),this.ChartInfoPaint=e,e},this.RequestMinuteInfoData=function(){if(!(this.ChartInfo.length<=0)){var t=this.GetChartMinuteInfo();for(var e in t||(t=this.CreateMinuteInfo(null)),t.SourceData=this.SourceData,this.ChartInfo)this.ChartInfo[e].RequestData(this)}},this.UpdataChartInfo=function(){var t=this.GetChartMinuteInfo();if(t){var e=new Map;for(var a in this.ChartInfo){var i=this.ChartInfo[a].Data;for(var r in i){var n=i[r],s="".concat(n.Date," ").concat(n.Time);e.has(s)?e.get(s).Data.push(n):e.set(s,{Data:new Array(n)})}}t.Data=e}}}function ot(t){this.newMethod=st,this.newMethod(t),delete this.newMethod,this.HistoryMinuteApiUrl="https://opensourcecache.zealink.com/cache/minuteday/day/",this.CreateMainKLine=function(){var t=new $;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="Minute-Line",t.Color=m.JSCommonResource_Global_JSChartResource.Minute.PriceColor,this.ChartPaint[0]=t;var e=new u.JSCommonChartPaint_ChartLine;e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.Name="Minute-Average-Line",e.Color=m.JSCommonResource_Global_JSChartResource.Minute.AvPriceColor,this.ChartPaint[1]=e;e=new u.JSCommonChartPaint_ChartMinuteVolumBar;e.Color=m.JSCommonResource_Global_JSChartResource.Minute.VolBarColor,e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[1].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[1].Frame,e.Name="Minute-Vol-Bar",this.ChartPaint[2]=e,this.TitlePaint[0]=new D.JSCommonChartTitle_DynamicMinuteTitlePainting,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].IsShowDate=!0},this.ChangeTradeDate=function(t){t&&(this.TradeDate=t,this.RequestData())},this.RequestData=function(){var t=new Date,e=1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();e==this.TradeDate?this.RequestMinuteData():this.RequestHistoryMinuteData()},this.RequestHistoryMinuteData=function(){var t=this,a=this.HistoryMinuteApiUrl+this.TradeDate.toString()+"/"+this.Symbol+".json";e.request({url:a,method:"get",dataType:"json",success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)},error:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteError(e)}})},this.RecvHistoryMinuteError=function(t){if(404==t.status){var e=new r.JSCommon_ChartData;for(var a in this.SourceData=e,this.ChartPaint)this.ChartPaint[a].Data=e,0==a&&(this.ChartPaint[a].NotSupportMessage="\u6ca1\u6709\u6743\u9650\u8bbf\u95ee!");this.TitlePaint[0].Data=this.SourceData,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=null,this.Draw()}},this.RecvHistoryMinuteData=function(t){if(200!=t.statusCode){var e=new r.JSCommon_ChartData;for(var a in this.SourceData=e,this.ChartPaint)this.ChartPaint[a].Data=e,0==a&&(this.ChartPaint[a].NotSupportMessage="\u6ca1\u6709\u6743\u9650\u8bbf\u95ee!");return this.TitlePaint[0].Data=this.SourceData,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=null,void this.Draw()}var i=t.data,n=ot.JsonDataToMinuteData(i);e=new r.JSCommon_ChartData;if(e.Data=n,this.TradeDate=i.date,this.SourceData=e,this.Symbol=i.symbol,this.Name=i.name,this.BindMainData(e,i.day.yclose),this.Frame.SubFrame.length>2){var s=new r.JSCommon_ChartData;s.Data=n;for(a=2;a<this.Frame.SubFrame.length;++a)this.BindIndexData(a,s)}this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}function ht(t){this.newMethod=nt,this.newMethod(t),delete this.newMethod,this.ClassName="CustomKLineChartContainer",this.ChangeRight=null,this.SplashTitle="\u8ba1\u7b97\u6307\u6570\u6570\u636e",this.CustomKLineApiUrl=m.JSCommonResource_Global_JSChartResource.Domain+"/API/IndexCalculate",this.CustomStock,this.QueryDate={Start:20180101,End:20180627},this.RequestHistoryData=function(){var t=this;this.ChartSplashPaint.EnableSplash(!0),this.Draw(),e.request({url:this.CustomKLineApiUrl,data:{stock:t.CustomStock,Name:t.Symbol,date:{startdate:t.QueryDate.Start,enddate:t.QueryDate.End}},method:"POST",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e)}})},this.RecvHistoryData=function(t){var e=t.data,a=nt.JsonDataToHistoryData(e),i=new r.JSCommon_ChartData;i.Data=a,i.DataType=0,i.Symbol=e.symbol;var n=new r.JSCommon_ChartData;if(n.Data=a,n.Right=0,n.Period=this.Period,n.DataType=0,n.Symbol=e.symbol,r.JSCommon_ChartData.IsDayPeriod(this.Period,!1)){var s=i.GetPeriodData(n.Period);n.Data=s}this.SourceData=i,this.Name=e.name,this.BindMainData(n,this.PageSize);for(var o=0;o<this.Frame.SubFrame.length;++o)this.BindIndexData(o,n);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback("RecvHistoryData",this)}}function lt(t){this.newMethod=nt,this.newMethod(t),delete this.newMethod,this.ClassName="KLineChartHScreenContainer",this.OnMouseMove=function(t,e,a){this.LastPoint.X=t,this.LastPoint.Y=e,this.CursorIndex=this.Frame.GetXData(e),this.DrawDynamicInfo()},this.ontouchstart=function(t){var e=this;if(0!=e.DragMode)if(e.IsOnTouch=!0,e.PhonePinch=null,this.IsPhoneDragging(t)){if(e.TryClickLock||this.TryClickIndexTitle){var a=this.GetToucheData(t),i=a[0].clientX,r=a[0].clientY;if(e.TryClickLock&&e.TryClickLock(i,r))return;if(e.TryClickIndexTitle&&e.TryClickIndexTitle(i,r))return}null!=this.TouchTimer&&clearTimeout(this.TouchTimer),1==this.ChartCorssCursor.IsShow&&(this.TouchTimer=setTimeout((function(){if(n.Click.X==n.LastMove.X&&n.Click.Y==n.LastMove.Y){e.MouseDrag;e.MouseDrag=null;var a=n.Click.X,i=n.Click.Y;e.OnMouseMove(a,i,t)}}),800));var n={Click:{},LastMove:{}};a=this.GetToucheData(t);n.Click.X=a[0].clientX,n.Click.Y=a[0].clientY,n.LastMove.X=a[0].clientX,n.LastMove.Y=a[0].clientY,e.MouseDrag=n}else if(this.IsPhonePinching(t)){var s={Start:{},Last:{}};a=this.GetToucheData(t);s.Start={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},s.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},e.PhonePinch=s}},this.ontouchmove=function(t){var e=this,a=this.GetToucheData(t);if(this.IsPhoneDragging(t)){var i=e.MouseDrag;if(null==i){var r=a[0].clientX,n=a[0].clientY;e.OnMouseMove(r,n,t)}else{var s=Math.abs(i.LastMove.Y-a[0].clientY);if(s=parseInt(s),1==e.DragMode){if(s<5)return;var o=!0;i.LastMove.Y<a[0].clientY&&(o=!1),e.DataMove(s,o)&&(e.UpdataDataoffset(),e.UpdatePointByCursorIndex(),e.UpdateFrameMaxMin(),e.ResetFrameXYSplit(),e.Draw()),i.LastMove.X=a[0].clientX,i.LastMove.Y=a[0].clientY}}}else if(this.IsPhonePinching(t)){var h=e.PhonePinch;if(!h)return;if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Touch)return;var l=Math.abs(a[0].pageX-a[1].pageX),u=Math.abs(h.Last.X-h.Last.X2),c=l-u;if(Math.abs(c)<5)return;if(c>0){var C={};if(C.Index=parseInt(Math.abs(e.CursorIndex-.5).toFixed(0)),!e.Frame.ZoomUp(C))return;e.CursorIndex=C.Index,e.UpdatePointByCursorIndex(),e.UpdataDataoffset(),e.UpdateFrameMaxMin(),e.ResetFrameXYSplit(),e.Draw()}else{C={};if(C.Index=parseInt(Math.abs(e.CursorIndex-.5).toFixed(0)),!e.Frame.ZoomDown(C))return;e.CursorIndex=C.Index,e.UpdataDataoffset(),e.UpdatePointByCursorIndex(),e.UpdateFrameMaxMin(),e.ResetFrameXYSplit(),e.Draw()}h.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY}}},t.onmousedown=function(e){if(this.JSChartContainer&&0!=this.JSChartContainer.DragMode){if(this.JSChartContainer.TryClickLock){var a=e.clientX-this.getBoundingClientRect().left,i=e.clientY-this.getBoundingClientRect().top;if(this.JSChartContainer.TryClickLock(a,i))return}var r={Click:{},LastMove:{}};r.Click.X=e.clientX,r.Click.Y=e.clientY,r.LastMove.X=e.clientX,r.LastMove.Y=e.clientY,this.JSChartContainer.MouseDrag=r,document.JSChartContainer=this.JSChartContainer,this.JSChartContainer.SelectChartDrawPicture=null,t.ondblclick=function(t){var e=t.clientX-this.getBoundingClientRect().left,a=t.clientY-this.getBoundingClientRect().top;this.JSChartContainer&&this.JSChartContainer.OnDoubleClick(e,a,t)},document.onmousemove=function(t){if(this.JSChartContainer&&(!this.JSChartContainer.ChartSplashPaint||1!=this.JSChartContainer.ChartSplashPaint.IsEnableSplash)){var e=this.JSChartContainer.MouseDrag;if(e){var a=Math.abs(e.LastMove.Y-t.clientY);if(1==this.JSChartContainer.DragMode){if(a<5)return;var i=!0;e.LastMove.Y<t.clientY&&(i=!1),this.JSChartContainer.DataMove(a,i)&&(this.JSChartContainer.UpdataDataoffset(),this.JSChartContainer.UpdatePointByCursorIndex(),this.JSChartContainer.UpdateFrameMaxMin(),this.JSChartContainer.ResetFrameXYSplit(),this.JSChartContainer.Draw()),e.LastMove.X=t.clientX,e.LastMove.Y=t.clientY}}}},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null,this.JSChartContainer.MouseDrag=null,this.JSChartContainer.CurrentChartDrawPicture=null,this.JSChartContainer=null}}},this.Create=function(t){for(var e in this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new u.JSCommonChartPaint_ChartCorssCursor,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=new at,this.ChartCorssCursor.StringFormatY=new et,this.ChartSplashPaint=new u.JSCommonChartPaint_ChartSplashPaint,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new V,this.Frame.ChartBorder=new N,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine(),this.Frame.SubFrame){var a=new D.JSCommonChartTitle_DynamicChartTitlePainting;a.Frame=this.Frame.SubFrame[e].Frame,a.Canvas=this.Canvas,this.TitlePaint.push(a)}},this.CreateChildWindow=function(t){for(var e=0;e<t;++e){var a=new N;a.UIElement=this.UIElement;var i=new B;i.Canvas=this.Canvas,i.ChartBorder=a,i.Identify=e,i.RightSpaceCount=this.RightSpaceCount,this.ModifyIndexDialog&&(i.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(i.ChangeIndexEvent=this.ChangeIndexDialog.DoModal),i.HorizontalMax=20,i.HorizontalMin=10,0==e?(i.YSplitOperator=new d.JSCommonSplit_FrameSplitKLinePriceY,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price"),a.TopSpace=12,a.BottomSpace=12):(i.YSplitOperator=new d.JSCommonSplit_FrameSplitY,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double")),i.YSplitOperator.Frame=i,i.YSplitOperator.ChartBorder=a,i.XSplitOperator=new d.JSCommonSplit_FrameSplitKLineX,i.XSplitOperator.Frame=i,i.XSplitOperator.ChartBorder=a,e!=t-1&&(i.XSplitOperator.ShowText=!1);for(var r=i.HorizontalMin;r<=i.HorizontalMax;r+=1)i.HorizontalInfo[r]=new d.JSCommonSplit_CoordinateInfo,i.HorizontalInfo[r].Value=r,0==e&&r==i.HorizontalMin||(i.HorizontalInfo[r].Message[1]=r.toString(),i.HorizontalInfo[r].Font="14px \u5fae\u8f6f\u96c5\u9ed1");var n=new G;n.Frame=i,n.Height=0==e?20:10,this.Frame.SubFrame[e]=n}}}function ut(t){this.newMethod=st,this.newMethod(t),delete this.newMethod,this.ClassName="MinuteChartHScreenContainer",this.OnMouseMove=function(t,e,a){this.LastPoint.X=t,this.LastPoint.Y=e,this.CursorIndex=this.Frame.GetXData(e),this.DrawDynamicInfo()},this.Create=function(t){for(var e in this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new u.JSCommonChartPaint_ChartCorssCursor,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=new it,this.ChartCorssCursor.StringFormatY=new et,this.ChartSplashPaint=new u.JSCommonChartPaint_ChartSplashPaint,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.SplashTitle=this.SplashTitle,this.Frame=new V,this.Frame.ChartBorder=new N,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=25,this.Frame.ChartBorder.Left=50,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine(),this.Frame.SubFrame){var a=new D.JSCommonChartTitle_DynamicChartTitlePainting;a.Frame=this.Frame.SubFrame[e].Frame,a.Canvas=this.Canvas,this.TitlePaint.push(a)}this.ChartCorssCursor.StringFormatX.Frame=this.Frame.SubFrame[0].Frame},this.CreateChildWindow=function(t){for(var e=0;e<t;++e){var a=new N;a.UIElement=this.UIElement;var i=new R;i.Canvas=this.Canvas,i.ChartBorder=a,e<2&&(i.ChartBorder.TitleHeight=0),i.XPointCount=243;var r=[9,8,7,6,5,4,3,2,1];for(var n in i.HorizontalMax=r[0],i.HorizontalMin=r[r.length-1],0==e?(i.YSplitOperator=new d.JSCommonSplit_FrameSplitMinutePriceY,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price")):(i.YSplitOperator=new d.JSCommonSplit_FrameSplitY,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double")),i.YSplitOperator.Frame=i,i.YSplitOperator.ChartBorder=a,i.XSplitOperator=new d.JSCommonSplit_FrameSplitMinuteX,i.XSplitOperator.Frame=i,i.XSplitOperator.ChartBorder=a,e!=t-1&&(i.XSplitOperator.ShowText=!1),i.XSplitOperator.Operator(),r)i.HorizontalInfo[n]=new d.JSCommonSplit_CoordinateInfo,i.HorizontalInfo[n].Value=r[n],0==e&&n==i.HorizontalMin||(i.HorizontalInfo[n].Message[1]=r[n].toString(),i.HorizontalInfo[n].Font="14px \u5fae\u8f6f\u96c5\u9ed1");var s=new G;s.Frame=i,s.Height=0==e?20:10,this.Frame.SubFrame[e]=s}}}function ct(t,e){!0===e?(this.newMethod=lt,this.newMethod(t),delete this.newMethod):(this.newMethod=nt,this.newMethod(t),delete this.newMethod),this.ClassName2="KLineTrainChartContainer",this.BuySellPaint,this.TrainDataCount=300,this.AutoRunTimer=null,this.BuySellData=[],this.TrainDataIndex,this.TrainCallback,this.DragMode=1,this.TrainStartEnd={},this.KLineSourceData,this.TrainInfo={Start:{},End:{}},this.CreateBuySellPaint=function(){var t=new u.JSCommonChartPaint_ChartBuySell;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="KLine-Train-BuySell",this.ChartPaintEx[0]=t},this.GetKDataIndexByDateTime=function(t,e){if(!e||!t)return-1;for(var a in t){var i=t[a];if(r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0)){if(d.JSCommonSplit_IFrameSplitOperator.IsNumber(this.TrainStartDate.Time)){if(i.Date>=this.TrainStartDate.Date&&i.Time>=this.TrainStartDate.Time)return parseInt(a)}else if(i.Date>=this.TrainStartDate.Date)return parseInt(a)}else if((r.JSCommon_ChartData.IsDayPeriod(this.Period,!0)||r.JSCommon_ChartData.IsTickPeriod(this.Period))&&i.Date>=this.TrainStartDate.Date)return parseInt(a)}return-1},this.AfterBindMainData=function(t){this.ChartPaintEx[0]||this.CreateBuySellPaint();var e=this.ChartPaint[0].Data;this.ChartPaintEx[0].Data=e;var a=e.Data[e.Data.length-1];this.TrainInfo.LastShowData=a,this.TrainInfo.LastData=this.SourceData.Data[this.SourceData.Data.length-1],"Update"!=t&&this.UpdateTrainUICallback("\u5f00\u59cb")},this.BeforeBindMainData=function(t){if("Update"!=t){this.KLineSourceData=new r.JSCommon_ChartData,this.KLineSourceData.Data=this.SourceData.Data.slice(0);var e=this.SourceData.Data.length,a=e-this.TrainDataCount-20,i=this.GetKDataIndexByDateTime(this.SourceData.Data,this.TrainStartDate);i>=0&&(a=i+1,e-a<this.TrainDataCount&&(this.TrainDataCount=e-a));var n=a-1,s=this.SourceData.Data[n];this.TrainInfo.Start.Index=n,this.TrainInfo.Start.Date=s.Date,this.TrainInfo.Start.Time=s.Time,this.TrainInfo.End.Index=n,this.TrainInfo.End.Date=s.Date,this.TrainInfo.End.Time=s.Time,this.TrainInfo.LastData=s,this.SourceData.Data.length=a}},this.Run=function(t){if(!this.AutoRunTimer&&!(this.TrainDataCount<=0)){var e=this;this.AutoRunTimer=setInterval((function(){e.MoveNextKLineData(t)||clearInterval(e.AutoRunTimer)}),1e3)}},this.MoveNextKLineData=function(t){if(this.TrainDataCount<=0)return!1;var e=1,a=0;t&&t.Step>1&&(e=t.Step);for(var i=0;i<e;++i){var r=this.TrainInfo.End.Index+1;if(r>=this.KLineSourceData.Data.length)break;var n=this.KLineSourceData.Data[r];if(this.SourceData.Data.push(n),this.TrainInfo.End.Index=r,this.TrainInfo.End.Date=n.Date,this.TrainInfo.End.Time=n.Time,--this.TrainDataCount,++a,this.TrainDataCount<=0)break}if(0==a)return!1;var s=this.Frame.GetCurrentPageSize();return d.JSCommonSplit_IFrameSplitOperator.IsNumber(s)&&(this.PageSize=s-this.RightSpaceCount),this.Update(),this.TrainDataCount<=0?(this.FinishTrainData(),this.UpdateTrainUICallback("\u7ed3\u675f"),!1):(this.UpdateTrainUICallback("\u8bad\u7ec3\u4e2d"),!0)},this.UpdateTrainUICallback=function(t){if(this.mapEvent.has(I.RECV_TRAIN_MOVE_STEP)){var e=this.mapEvent.get(I.RECV_TRAIN_MOVE_STEP);if(e.Callback){var a={TrainDataCount:this.TrainDataCount,BuySellData:this.BuySellData,KLine:{Start:{Index:this.TrainInfo.Start.Index,Date:this.TrainInfo.Start.Date},End:{Index:this.TrainInfo.End.Index,Date:this.TrainInfo.End.Date}},LastData:this.TrainInfo.LastData,LastShowData:this.TrainInfo.LastShowData};d.JSCommonSplit_IFrameSplitOperator.IsNumber(this.TrainInfo.Start.Time)&&(a.KLine.Start.Time=this.TrainInfo.Start.Time),d.JSCommonSplit_IFrameSplitOperator.IsNumber(this.TrainInfo.End.Time)&&(a.KLine.End.Time=this.TrainInfo.End.Time),t&&(a.Description=t),this.TrainDataCount<=0&&(a.Symbol=this.Symbol,a.Name=this.Name),e.Callback(e,a,this)}}},this.FinishTrainData=function(){},this.Stop=function(){null!=this.AutoRunTimer&&clearInterval(this.AutoRunTimer),this.AutoRunTimer=null},this.BuyOrSell=function(t,e){var a=this.TrainInfo.LastShowData;if(!a)return!1;var i=this.ChartPaintEx[0];if(!i)return!1;var r=this.ChartPaint[0].Data;if(!r||r.Data.length<=0)return!1;var n=r.Data.length-1,s={Date:this.TrainInfo.End.Date,Time:this.TrainInfo.End.Time,Price:t.Price,Vol:t.Vol,Op:0,ID:t.ID};1==t.Op&&(s.Op=1);var o=n;s.Key=o,this.BuySellData.push(s),i.AddTradeItem(s),1==e&&this.Draw()},this.RestartTrain=function(t){i.JSConsole.Chart.Log("[KLineTrainChartContainer::RestartTrain] option ",t),this.TrainInfo={Start:{},End:{}},this.BuySellData=[],this.KLineSourceData=null;var e=this.ChartPaintEx[0];e&&(e.Data=null,e.ClearTradeData()),t.Symbol&&(this.Symbol=t.Symbol),d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Period)&&(this.Period=t.Period),d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Right)&&(this.Right=t.Right),t.Train&&(t.Train.DataCount>1&&(this.TrainDataCount=t.Train.DataCount),t.Train.DateTime&&(this.TrainStartDate=t.Train.DateTime));var a=this.Symbol;this.ChangeSymbol(a)}}function Ct(t){this.newMethod=A,this.newMethod(t),delete this.newMethod,this.ClassName="DepthChartContainer",this.Symbol,this.MapAsk=new Map,this.MapBid=new Map,this.IsAutoUpdate=!1,this.AutoUpdateFrequency=3e4,this.AutoUpdateTimer,this.DefaultZoom=.8,this.MaxVolRate=1.1,this.Create=function(t){this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new u.JSCommonChartPaint_DepthChartCorssCursor,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.HQChart=this,this.ChartSplashPaint=new u.JSCommonChartPaint_ChartSplashPaint,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new H,this.Frame.ChartBorder=new N,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.ChartBorder.TitleHeight=0,this.Frame.Canvas=this.Canvas;var e=new d.JSCommonSplit_FrameSplitY;e.FrameSplitData=this.FrameSplitData.get("double"),e.LanguageID=this.LanguageID,e.Frame=this.Frame,e.SplitCount=5,e.IgnoreYValue=[0],e.LineType=3,e.ChartBorder=this.Frame.ChartBorder,this.Frame.YSplitOperator=e;var a=new d.JSCommonSplit_FrameSplitXDepth;a.Frame=this.Frame,a.ChartBorder=this.Frame.ChartBorder,a.LanguageID=this.LanguageID,a.LineType=3,this.Frame.XSplitOperator=a,this.ChartCorssCursor&&(this.ChartCorssCursor.Frame=this.Frame),this.ChartSplashPaint.Frame=this.Frame;var i=new u.JSCommonChartPaint_ChartOrderbookDepth;i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.Name="\u6df1\u5ea6\u56fe",this.ChartPaint.push(i)},this.ontouchstart=function(t){this.IsOnTouch=!0,this.TouchDrawCount=0,this.PhonePinch=null;this.IsSingleTouch(t);if(this.EnableScrollUpDown,this.IsPhoneDragging(t)){var e={Click:{},LastMove:{}},a=this.GetToucheData(t,this.IsForceLandscape);e.Click.X=a[0].clientX,e.Click.Y=a[0].clientY,e.LastMove.X=a[0].clientX,e.LastMove.Y=a[0].clientY,this.MouseDrag=e;var i=e.Click.X,r=e.Click.Y;this.OnMouseMove(i,r,t)}else if(this.IsPhonePinching(t)){var n={Start:{},Last:{}};a=this.GetToucheData(t,this.IsForceLandscape);n.Start={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},n.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},this.PhonePinch=n}},this.ontouchmove=function(t){var e=this.GetToucheData(t,!1);if(this.IsPhoneDragging(t)){var a=this.MouseDrag;if(null==a){var i=e[0].clientX,r=e[0].clientY;this.OnMouseMove(i,r,t)}else{this.MouseDrag=null;i=e[0].clientX,r=e[0].clientY;this.OnMouseMove(i,r,t)}}else if(this.IsPhonePinching(t)){var n=this.PhonePinch;if(!n)return;if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Touch)return;var s=Math.abs(e[0].pageY-e[1].pageY),o=Math.abs(n.Last.Y-n.Last.Y2),h=s-o,l=Math.abs(e[0].pageX-e[1].pageX),u=Math.abs(n.Last.X-n.Last.X2),c=l-u,C=this.ZoomStepPixel;if(Math.abs(h)<C&&Math.abs(c)<C)return;var m=h;if(Math.abs(h)<C&&(m=c),m>0){if(!this.Frame.ZoomUp())return;this.UpdateFrameMaxMin(),this.Draw()}else{if(!this.Frame.ZoomDown())return;this.UpdateFrameMaxMin(),this.Draw()}n.Last={X:e[0].pageX,Y:e[0].pageY,X2:e[1].pageX,Y2:e[1].pageY}}},this.ontouchend=function(t){i.JSConsole.Chart.Log("[DepthChartContainer::OnTouchEnd]",t),this.IsOnTouch=!1,this.Draw(),this.TouchDrawCount=0},this.OnMouseMove=function(t,e,a,i){this.LastPoint.Y;this.LastPoint.X=t,this.LastPoint.Y=e,this.FullDraw()},this.ChangeSymbol=function(t){this.CancelAutoUpdate(),this.Symbol=t,this.MapBid=new Map,this.MapAsk=new Map,this.Frame.VerticalRange.Differ=null,this.ChartSplashPaint.EnableSplash(!0),this.Draw(),this.RequestDepthData()},this.RequestDepthData=function(){var t=this;if(this.NetworkFilter){var e={Name:"DepthChartContainer::RequestDepthData",Explain:"\u6df1\u5ea6\u56fe\u6570\u636e",Request:{Data:{symbol:t.Symbol}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,(function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvDepthData(e),t.AutoUpdate()})),1==e.PreventDefault)return}},this.RecvDepthData=function(t){this.UpdateAskAndBid(t);var e=Array.from(this.MapAsk.values());e.sort((function(t,e){return t.Price-e.Price}));var a=0;for(var i in e){var r=e[i];a+=r.Vol,e[i]={Price:r.Price,Vol:a}}var n=Array.from(this.MapBid.values());n.sort((function(t,e){return e.Price-t.Price}));a=0;for(var i in n){r=n[i];a+=r.Vol,n[i]={Price:r.Price,Vol:a}}var s={Asks:e,Bids:n},o=this.ChartPaint[0];o.Data=s,this.Frame.XSplitOperator.Symbol=this.Symbol,this.ChartCorssCursor.Data=s,this.ChartCorssCursor.Symbol=this.Symbol,this.UpdateFramePriceList(),this.UpdateFrameMaxMin(),this.Draw()},this.UpdateAskAndBid=function(t){for(var e in"snapshot"==t.datatype&&(this.MapBid=new Map,this.MapAsk=new Map),t.asks){var a=t.asks[e],i=parseFloat(a[0]),r=parseFloat(a[1]);if(this.MapAsk.has(i)){var n=this.MapAsk.get(i);r<=0?this.MapAsk.delete(i):n.Vol=r}else r>0&&this.MapAsk.set(i,{Price:i,Vol:r})}for(var e in t.bids){a=t.bids[e],i=parseFloat(a[0]),r=parseFloat(a[1]);if(this.MapBid.has(i)){n=this.MapBid.get(i);r<=0?this.MapBid.delete(i):n.Vol=r}else r>0&&this.MapBid.set(i,{Price:i,Vol:r})}},this.UpdateFramePriceList=function(){var t=Array.from(this.MapAsk.keys()),e=Array.from(this.MapBid.keys());if(t.sort((function(t,e){return t-e})),e.sort((function(t,e){return t-e})),t.length>1&&e.length>1)var a=t[0],i=t[t.length-1],r=e[0],n=e[e.length-1],s=i-a,o=n-r,h=Math.max(s,o),l={Min:a,Max:a+h},u={Max:n,Min:n-h},c={Max:l.Max,Min:u.Min};this.Frame.SetPriceList(t,e);var C=this.Frame.VerticalRange;C.Max=c.Max,C.Center=c.Min+(c.Max-c.Min)/2,C.Min=c.Min,C.MaxDiffer=h,C.Ask=l,C.Bid=u,d.JSCommonSplit_IFrameSplitOperator.IsNumber(C.Differ)||(C.Differ=h*this.DefaultZoom),C.Min=C.Center-C.Differ,C.Max=C.Center+C.Differ},this.UpdateFrameMaxMin=function(){var t=this.ChartPaint[0].GetMaxMin();this.Frame.HorizontalMax=t.Max*this.MaxVolRate,this.Frame.HorizontalMin=0,this.Frame.XYSplit=!0},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=void 0)},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.AutoUpdate=function(){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var t=this,e=s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.GetMarketStatus(this.Symbol);if(0!=e&&3!=e){var a=this.AutoUpdateFrequency;1==e?this.AutoUpdateTimer=setTimeout((function(){t.AutoUpdate()}),a):2==e&&(this.AutoUpdateTimer=setTimeout((function(){t.RequestDepthData()}),a))}}}}function mt(t){this.newMethod=A,this.newMethod(t),delete this.newMethod,this.WindowIndex=new Array,this.MainDataControl,this.SubDataControl=new Array,this.FrameType=0,this.YSplitCount=4,this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new u.JSCommonChartPaint_ChartSplashPaint,this.ChartSplashPaint.Canvas=this.Canvas,1==this.FrameType?this.Frame=new U:this.Frame=new J,this.Frame.ChartBorder=new N,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor&&(this.ChartCorssCursor.Frame=this.Frame),this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart()},this.SetMainDataConotrl=function(t){if(t){this.MainDataControl=t,this.ChartPaint=[],this.Frame.BarCount=0;var e=this.Frame.YSplitOperator.StringFormat;this.CreateMainChart(),this.Frame.YSplitOperator.StringFormat=e,this.Draw(),this.RequestData()}},this.CreateMainChart=function(){if(this.MainDataControl){var t=0;for(var e in this.MainDataControl.DataType){var a=this.MainDataControl.DataType[e];if("BAR"==a.Type){var i=void 0;i=1==this.FrameType?new j:new Z,i.BarID=t,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.Name=a.Name,a.Color&&(i.UpBarColor=a.Color),a.Color2&&(i.DownBarColor=a.Color2),this.ChartPaint.push(i),++this.Frame.BarCount,++t}else if("LINE"==a.Type){var r=new u.JSCommonChartPaint_ChartLine;r.Canvas=this.Canvas,r.ChartBorder=this.Frame.ChartBorder,r.ChartFrame=this.Frame,r.Name=a.Name,a.Color&&(r.Color=a.Color),this.ChartPaint.push(r)}}var n=2,s=null;this.Frame.YSplitOperator&&(n=this.Frame.YSplitOperator.FloatPrecision,this.Frame.YSplitOperator.IgnoreYValue&&(s=this.Frame.YSplitOperator.IgnoreYValue)),this.Frame.YSplitOperator=new d.JSCommonSplit_FrameSplitY,this.Frame.YSplitOperator.FloatPrecision=n,this.Frame.YSplitOperator.IgnoreYValue=s,this.Frame.YSplitOperator.SplitCount=this.YSplitCount,this.Frame.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),this.Frame.YSplitOperator.Frame=this.Frame,this.Frame.YSplitOperator.ChartBorder=this.Frame.ChartBorder,this.Frame.XSplitOperator=new d.JSCommonSplit_FrameSplitXData,this.Frame.XSplitOperator.Frame=this.Frame,this.Frame.XSplitOperator.ChartBorder=this.Frame.ChartBorder}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){var e=0;for(var a in t.Data){var i=new r.JSCommon_ChartData;i.Data=t.Data[a],this.ChartPaint[a].Data=i,e<i.Data.length&&(e=i.Data.length)}this.Frame.XPointCount=e,this.Frame.Data=this.ChartPaint[0].Data,this.Frame.XData=t.XData,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}function ft(t){this.Radius,this.newMethod=A,this.newMethod(t),delete this.newMethod,this.MainDataControl,this.OnMouseMove=function(t,e,a){},this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new u.JSCommonChartPaint_ChartSplashPaint,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new w,this.Frame.ChartBorder=new N,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart()},this.SetMainDataConotrl=function(t){t&&(this.MainDataControl=t,this.ChartPaint=[],this.CreateMainChart(),this.Draw(),this.RequestData())},this.CreateMainChart=function(){if(this.MainDataControl)for(var t in this.MainDataControl.DataType){var e=this.MainDataControl.DataType[t];if("PIE"==e.Type){var a=new u.JSCommonChartPaint_ChartPie;a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.Name=e.Name,this.ChartPaint.push(a)}else if("CIRCLE"==e.Type){a=new u.JSCommonChartPaint_ChartCircle;a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.Name=e.Name,this.ChartPaint.push(a)}else if("RADAR"==e.Type){a=new u.JSCommonChartPaint_ChartRadar;a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.Name=e.Name,e.StartAngle&&(a.StartAngle=e.StartAngle),e.TitleFont&&(a.TitleFont=e.TitleFont),this.ChartPaint.push(a)}}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){for(var e in t.Data){var a=new r.JSCommon_ChartData;a.Data=t.Data[e],this.ChartPaint[e].Data=a}this.Frame.SetSizeChage(!0),this.Draw()}}function dt(t){this.newMethod=A,this.newMethod(t),delete this.newMethod,this.MainDataControl,this.OnMouseMove=function(t,e,a){},this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new u.JSCommonChartPaint_ChartSplashPaint,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new w,this.Frame.ChartBorder=new N,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart()},this.SetMainDataConotrl=function(t){t&&(this.MainDataControl=t,this.ChartPaint=[],this.CreateMainChart(),this.Draw(),this.RequestData())},this.CreateMainChart=function(){if(this.MainDataControl){var t=new u.JSCommonChartPaint_ChartChinaMap;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.ChartBorder,t.ChartFrame=this.Frame,t.Name=this.MainDataControl.DataType[0].Name,this.Radius&&(t.Radius=this.Radius),this.ChartPaint.push(t)}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){this.ChartPaint[0].Data=t.Data[0],this.Frame.SetSizeChage(!0),this.Draw()}}rt.Get=function(t){var e=new Map([["\u5e02\u573a\u591a\u7a7a",{IsMainIndex:!1,Create:function(){return new St}}],["\u5e02\u573a\u62e9\u65f6",{IsMainIndex:!1,Create:function(){return new vt}}],["\u5e02\u573a\u5173\u6ce8\u5ea6",{IsMainIndex:!1,Create:function(){return new gt}}],["\u6307\u6570\u70ed\u5ea6",{IsMainIndex:!1,Create:function(){return new Tt}}],["\u81ea\u5b9a\u4e49\u6307\u6570\u70ed\u5ea6",{IsMainIndex:!1,Create:function(){return new It},Name:"\u81ea\u5b9a\u4e49\u6307\u6570\u70ed\u5ea6"}],["\u8d22\u52a1\u7c89\u9970",{IsMainIndex:!1,Create:function(){return new xt}}]]);return e.get(t)},nt.JsonDataToHistoryData=function(t){var e=t.data,a=new Array;if(!e)return a;var i=null;t.symbol&&(i=t.symbol.toUpperCase());s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsChinaFutures(i);for(var n=0,o=1,h=2,l=3,u=4,c=5,C=6,m=7,f=8,D=0;D<e.length;++D){var p=new r.JSCommon_HistoryData,S=e[D];p.Date=S[n],p.Open=S[h],p.YClose=S[o],p.Close=S[c],p.High=S[l],p.Low=S[u],p.Vol=S[C],p.Amount=S[m],d.JSCommonSplit_IFrameSplitOperator.IsNumber(S[f])&&(p.Position=S[f]),isNaN(p.Open)||p.Open<=0||a.push(p)}return a},nt.JsonDataToRealtimeData=function(t){var e=t.stock[0].symbol,a=e.toUpperCase(),i=(s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsSHSZ(a),new r.JSCommon_HistoryData);return i.Date=t.stock[0].date,i.Open=t.stock[0].open,i.YClose=t.stock[0].yclose,i.High=t.stock[0].high,i.Low=t.stock[0].low,i.Vol=t.stock[0].vol,i.Amount=t.stock[0].amount,i.Close=t.stock[0].price,d.JSCommonSplit_IFrameSplitOperator.IsNumber(t.stock[0].position)&&(i.Position=t.stock[0].position),i},nt.JsonDataToMinuteRealtimeData=function(t){var e=t.stock[0].symbol,a=e.toUpperCase(),i=(s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsSHSZ(a),s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsChinaFutures(a)),n=new Array,o=t.stock[0].yclose,h=t.stock[0].date;for(var l in i&&t.stock[0].yclearing&&(o=t.stock[0].yclearing),t.stock[0].minute){var u=t.stock[0].minute[l],c=new r.JSCommon_HistoryData;c.Close=u.price,c.Open=u.open,c.High=u.high,c.Low=u.low,c.Vol=u.vol,c.Amount=u.amount,u.date>0?c.Date=u.date:c.Date=h,c.Time=u.time,c.YClose=o,d.JSCommonSplit_IFrameSplitOperator.IsNumber(u.position)&&(c.Position=u.position),c.Close||(c.Close=o,c.Open=c.High=c.Low=c.Close),c.Open<=0&&(c.Open=null),c.Close<=0&&(c.Close=null),c.High<=0&&(c.High=null),c.Low<=0&&(c.Low=null),u.price>0&&(o=u.price),n[l]=c}return n},nt.JsonDataToMinuteHistoryData=function(t){var e=null;t.symbol&&(e=t.symbol.toUpperCase());var a=!1;e&&(a=s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsSHSZ(e));e&&s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsChinaFutures(e);for(var i=t.data,n=new Array,o=0,h=1,l=2,u=3,c=4,C=5,m=6,f=7,D=8,p=9,S=0;S<i.length;++S){var v=new r.JSCommon_HistoryData;v.Date=i[S][o],v.Open=i[S][l],v.YClose=i[S][h],v.Close=i[S][C],v.High=i[S][u],v.Low=i[S][c],v.Vol=a?i[S][m]/100:i[S][m],v.Amount=i[S][f],v.Time=i[S][D],d.JSCommonSplit_IFrameSplitOperator.IsNumber(i[S][p])&&(v.Position=i[S][p]),n.push(v)}for(S=0;S<n.length;++S){var g=n[S];if(null==g&&coninue,isNaN(g.Open)||g.Open<=0||isNaN(g.High)||g.High<=0||isNaN(g.Low)||g.Low<=0||isNaN(g.Close)||g.Close<=0)if(0==S)g.YClose>0&&(g.Open=g.YClose,g.High=g.YClose,g.Low=g.YClose,g.Close=g.YClose);else for(var T=S-1;T>=0;--T){var I=n[T];if(null==I&&coninue,I.Open>0&&I.High>0&&I.Low>0&&I.Close>0){g.YClose<=0&&(g.YClose=I.Close),g.Open=I.Open,g.High=I.High,g.Low=I.Low,g.Close=I.Close;break}}}return n},st.JsonDataToMinuteData=function(t){var e=t.stock[0].symbol.toUpperCase(),a=s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsSHSZ(e),n=s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsChinaFutures(e)||s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsNYMEX(e),o=s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsSHO(e),h=t.stock[0].yclose,l=t.stock[0].yclose,u=t.stock[0].yclose;n&&t.stock[0].yclearing&&(u=h=l=t.stock[0].yclearing);var c=t.stock[0].date,C=new Array;for(var m in t.stock[0].minute){var f=t.stock[0].minute[m],d=new r.JSCommon_MinuteData;f.price&&(h=f.price),f.avprice&&(l=f.avprice),d.Close=f.price,d.Open=f.open,d.High=f.high,d.Low=f.low,d.Vol=a?f.vol/100:f.vol,d.Amount=f.amount,d.Increase=f.increase,d.Risefall=f.risefall,d.AvPrice=f.avprice,d.Close||(d.Close=h,d.Open=d.High=d.Low=d.Close),d.AvPrice||(d.AvPrice=l),f.date>0&&(c=f.date),d.DateTime=c.toString()+" "+f.time.toString(),d.Date=t.stock[0].date,d.Time=f.time,(n||o)&&(d.Position=f.position),0==m&&(d.IsFristData=!0,d.Close<=0&&(d.Close=t.stock[0].open,d.High=d.Low=t.stock[0].open,d.AvPrice=t.stock[0].open,i.JSConsole.Chart.Log("[MinuteChartContainer::JsonDataToMinuteData] first minute data is empty.",t.stock[0].symbol,f))),d.Open<=0&&(d.Open=null),d.Close<=0&&(d.Close=null),d.AvPrice<=0&&(d.AvPrice=null),d.High<=0&&(d.High=null),d.Low<=0&&(d.Low=null),u&&d.Close&&(d.Increase=(d.Close-u)/u*100),C[m]=d}return C},st.JsonDataToMinuteDataArray=function(t){var e=t.symbol.toUpperCase(),a=(s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsSHSZ(e),s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsChinaFutures(e)||s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsNYMEX(e)),i=s.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsSHO(e),n=[];for(var o in t.data){var h=[],l=t.data[o],u=l.date,c=l.yclose,C=c,m=null;for(var f in l.minute){var d=l.minute[f];d[2]&&(C=d[2]);var D=new r.JSCommon_MinuteData;D.Close=d[2],D.Open=d[1],D.High=d[3],D.Low=d[4],D.Vol=d[5]/100,D.Amount=d[6],7<d.length&&d[7]>0&&(D.AvPrice=d[7],m=d[7]),D.Close||(D.Close=C,D.Open=D.High=D.Low=D.Close),!D.AvPrice&&m&&(D.AvPrice=m),D.Close&&c?D.Increase=(D.Close-c)/c*100:D.Increase=null,D.DateTime=u.toString()+" "+d[0].toString(),D.Date=u,D.Time=d[0],(a||i)&&9<d.length&&(D.Position=d[9]),0==f&&(D.IsFristData=!0),D.Open<=0&&(D.Open=null),D.Close<=0&&(D.Close=null),D.AvPrice<=0&&(D.AvPrice=null),D.High<=0&&(D.High=null),D.Low<=0&&(D.Low=null),D.AvPrice<=0&&(D.AvPrice=null),h[f]=D}var p=new r.JSCommon_ChartData;p.Data=h,p.YClose=c,p.Close=l.close,p.Date=u,n.push(p)}return n},ot.JsonDataToMinuteData=function(t){var e=new Array;for(var a in t.minute.time){var i=new r.JSCommon_MinuteData;t.minute.price[a]<=0&&a>0?(i.Close=e[a-1].Close,i.Open=e[a-1].Close,i.High=i.Close,i.Low=i.Close,i.Vol=t.minute.vol[a]/100,i.Amount=t.minute.amount[a],i.DateTime=t.date.toString()+" "+t.minute.time[a].toString(),i.Date=t.date,i.Time=t.minute.time[a],i.AvPrice=e[a-1].AvPrice):(i.Close=t.minute.price[a],i.Open=t.minute.open[a],i.High=t.minute.high[a],i.Low=t.minute.low[a],i.Vol=t.minute.vol[a]/100,i.Amount=t.minute.amount[a],i.DateTime=t.date.toString()+" "+t.minute.time[a].toString(),i.Date=t.date,i.Time=t.minute.time[a],i.AvPrice=t.minute.avprice[a]),i.Open<=0&&(i.Open=null),i.Close<=0&&(i.Close=null),i.AvPrice<=0&&(i.AvPrice=null),i.High<=0&&(i.High=null),i.Low<=0&&(i.Low=null),e[a]=i}return e};var Dt={KLINE_ID:0,MINUTE_ID:2,HISTORY_MINUTE_ID:3,MULTIDAY_MINUTE_ID:4};function pt(t,a,n,s){this.newMethod=C.JSCommonIndex_ScriptIndex,this.newMethod(t,a,n,s),delete this.newMethod,this.ApiUrl,this.HQDataType,s.API&&(s.API.Url&&(this.ApiUrl=s.API.Url),s.API.Name&&(this.Name=this.ID=s.API.Name),s.API.ID&&(this.ID=s.API.ID)),this.ExecuteScript=function(t,a,r){i.JSConsole.Chart.Log("[APIScriptIndex::ExecuteScript] name, Arguments ",this.Name,this.Arguments);var n=Dt.KLINE_ID;"MinuteChartContainer"===t.ClassName||"MinuteChartHScreenContainer"===t.ClassName?n=t.DayCount>1?Dt.MULTIDAY_MINUTE_ID:Dt.MINUTE_ID:"HistoryMinuteChartContainer"===t.ClassName&&(n=Dt.HISTORY_MINUTE_ID);var s=[];if(this.Arguments)for(var o in this.Arguments){var h=this.Arguments[o];s.push({name:h.Name,value:h.Value})}var l=t.GetRequestDataCount(),u=this,c={indexname:this.ID,symbol:t.Symbol,script:this.Script,args:s,period:t.Period,right:t.Right,maxdatacount:l.MaxRequestDataCount,maxminutedaycount:l.MaxRequestMinuteDayCount,hqdatatype:n};if(n!=Dt.MULTIDAY_MINUTE_ID&&n!=Dt.MINUTE_ID||(c.daycount=t.DayCount),this.HQDataType=n,t.NetworkFilter){var C={Name:"APIScriptIndex::ExecuteScript",Explain:"\u6307\u6807\u8ba1\u7b97",Request:{Url:u.ApiUrl,Type:"POST",Data:c},Self:this,HQChart:t,PreventDefault:!1};if(t.NetworkFilter(C,(function(e){u.RecvAPIData(e,t,a,r)})),1==C.PreventDefault)return}e.request({url:u.ApiUrl,data:c,method:"POST",dataType:"json",async:!0,success:function(e){u.RecvAPIData(e,t,a,r)},error:function(t){u.RecvError(t)}})},this.RecvAPIData=function(t,e,a,r){var n=t.data;if(i.JSConsole.Chart.Log("[APIScriptIndex::RecvAPIData] recv data ",this.Name,n),0==n.code){if(n.outdata&&n.outdata.name&&(this.Name=n.outdata.name),n.outdata.args)for(var s in this.Arguments=[],n.outdata.args){var o=n.outdata.args[s];this.Arguments.push({Name:o.name,Value:o.value})}if(this.HQDataType==Dt.KLINE_ID?(this.OutVar=this.FittingData(n.outdata,e),i.JSConsole.Chart.Log("[APIScriptIndex::RecvAPIData] conver to OutVar ",this.OutVar)):this.OutVar=this.FittingMinuteData(n.outdata,e),this.BindData(e,a,r),0==this.IsLocked)e.Frame.SubFrame[a].Frame.SetLock(null);else{var h={IsLocked:!0,Callback:this.LockCallback,IndexName:this.Name,ID:this.LockID,BG:this.LockBG,Text:this.LockText,TextColor:this.LockTextColor,Font:this.LockFont,Count:this.LockCount,MinWidth:this.LockMinWidth};e.Frame.SubFrame[a].Frame.SetLock(h)}if(e.UpdataDataoffset(),e.UpdateFrameMaxMin(),e.Draw(),e.GetIndexEvent){var l=e.GetIndexEvent();if(l){n={OutVar:this.OutVar,WindowIndex:a,Name:this.Name,Arguments:this.Arguments,HistoryData:r,Stock:{Symbol:e.Symbol,Name:e.Name}};l.Callback(l,n,this)}}}},this.FittingData=function(t,e){var a=t.outvar,i=t.date,r=t.time,n=(e.ChartPaint[0].Data,[]);for(var s in a){var o=a[s],h={Name:o.name,Type:o.type};if(o.color&&(h.Color=o.color),o.data)h.Data=this.FittingArray(o.data,i,r,e),o.color&&(h.Color=o.color),o.linewidth>=1&&(h.LineWidth=o.linewidth),0==o.isshow&&(h.IsShow=!1),1==o.isexdata&&(h.IsExData=!0),n.push(h);else if(o.Draw){var l=o.Draw,u={};"DRAWICON"==l.DrawType?(u.Icon=l.Icon,u.Name=l.Name,u.DrawType=l.DrawType,u.DrawData=this.FittingArray(l.DrawData,i,r,e),h.Draw=u,n.push(h)):"DRAWTEXT"==l.DrawType?(u.Text=l.Text,u.Name=l.Name,u.DrawType=l.DrawType,u.DrawData=this.FittingArray(l.DrawData,i,r,e),h.Draw=u,n.push(h)):"STICKLINE"==l.DrawType?(u.Name=l.Name,u.Type=l.Type,u.Width=l.Width,u.DrawType=l.DrawType,u.DrawData=this.FittingArray(l.DrawData,i,r,e,1),h.Draw=u,n.push(h)):"MULTI_LINE"==l.DrawType||"MULTI_BAR"==l.DrawType?(u.Text=l.Text,u.Name=l.Name,u.DrawType=l.DrawType,u.DrawData=this.FittingMultiLine(l.DrawData,i,r,e),h.Draw=u,n.push(h)):"MULTI_TEXT"==l.DrawType?(u.Text=l.Text,u.Name=l.Name,u.DrawType=l.DrawType,u.DrawData=this.FittingMultiText(l.DrawData,i,r,e),this.GetKLineData(u.DrawData,e),h.Draw=u,n.push(h)):"MULTI_HTMLDOM"==l.DrawType?(u.Text=l.Text,u.Name=l.Name,u.DrawType=l.DrawType,u.Callback=l.Callback,u.DrawData=this.FittingMultiText(l.DrawData,i,r,e),this.GetKLineData(u.DrawData,e),h.Draw=u,n.push(h)):"KLINE_BG"==l.DrawType&&(u.Name=l.Name,u.DrawType=l.DrawType,u.DrawData={Color:l.Color,Angle:l.Angle},u.DrawData.Data=this.FittingKLineBG(l.DrawData,e),h.Draw=u,h.Name=l.DrawType,n.push(h))}}return n},this.GetKLineData=function(t,e){if(t&&Array.isArray(t)){var a=e.ChartPaint[0].Data;for(var i in t){var r=t[i];if(d.JSCommonSplit_IFrameSplitOperator.IsString(r.Value)&&(d.JSCommonSplit_IFrameSplitOperator.IsNumber(r.Index)&&!(r.Index<0||r.Index>=a.Data.length))){var n=r.Value.toUpperCase(),s=a.Data[r.Index];switch(n){case"HIGH":case"H":r.Value=s.High;break;case"L":case"LOW":r.Value=s.Low;break}}}}},this.FittingKLineBG=function(t,e){var a=e.ChartPaint[0].Data,i=[];if(r.JSCommon_ChartData.IsDayPeriod(e.Period,!0)){for(var n=!1,s=0,o=0;s<a.Data.length;){i[s]=0;var h=a.Data[s];if(o>=t.length)++s;else{var l=t[o];l.Date<h.Date?++o:(l.Date>h.Date||(n=!0,i[s]=1,++o),++s)}}if(n)return i}else if(r.JSCommon_ChartData.IsMinutePeriod(e.Period,!0)){for(n=!1,s=0,o=0;s<a.Data.length;){i[s]=0;h=a.Data[s];if(o>=t.length)++s;else{l=t[o];l.Date<h.Date||l.Date==h.Date&&l.Time<h.Time?++o:(l.Date>h.Date||l.Date==h.Date&&l.Time>h.Time||(n=!0,i[s]=1,++o),++s)}}if(n)return i}return null},this.FittingArray=function(t,e,a,i,n){var s,o=i.ChartPaint[0].Data,h=[];for(var l in t){var u=t[l],c=new r.JSCommon_SingleData;c.Date=e[l],a&&l<a.length&&(c.Time=a[l]),c.Value=u,h.push(c)}s=r.JSCommon_ChartData.IsDayPeriod(i.Period,!0)?o.GetFittingData(h):o.GetMinuteFittingData(h);var C,m=new r.JSCommon_ChartData;return m.Data=s,C=1==n?m.GetObject():m.GetValue(),C},this.FittingMultiLine=function(t,e,a,i){var n=i.ChartPaint[0].Data;if(r.JSCommon_ChartData.IsDayPeriod(i.Period,!0)){var s=[];for(var o in t){var h=t[o];for(var l in h.Point){var u=h.Point[l];s.push(u)}}return s.sort((function(t,e){return t.Date-e.Date})),n.GetDateIndex(s),t}if(r.JSCommon_ChartData.IsMinutePeriod(i.Period,!0)){s=[];for(var o in t){h=t[o];for(var l in h.Point){u=h.Point[l];s.push(u)}}return s.sort((function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date})),n.GetDateTimeIndex(s),t}return null},this.FittingMultiText=function(t,e,a,i){var n=i.ChartPaint[0].Data;return r.JSCommon_ChartData.IsDayPeriod(i.Period,!0)?(t.sort((function(t,e){return t.Date-e.Date})),n.GetDateIndex(t),t):r.JSCommon_ChartData.IsMinutePeriod(i.Period,!0)?(t.sort((function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date})),n.GetDateTimeIndex(t),t):null}}function St(){this.newMethod=C.JSCommonIndex_BaseIndex,this.newMethod("\u5e02\u573a\u591a\u7a7a"),delete this.newMethod,this.Index=new Array(new C.JSCommonIndex_IndexInfo("\u591a\u7a7a\u6307\u6807",null),new C.JSCommonIndex_IndexInfo("\u591a\u5934\u533a\u57df",null),new C.JSCommonIndex_IndexInfo("\u7a7a\u5934\u533a\u57df",null)),this.Index[0].LineColor=m.JSCommonResource_Global_JSChartResource.Index.LineColor[0],this.Index[1].LineColor=m.JSCommonResource_Global_JSChartResource.UpBarColor,this.Index[2].LineColor=m.JSCommonResource_Global_JSChartResource.DownBarColor,this.LongShortData,this.Create=function(t,e){for(var a in this.Index){var i=null;i=0==a?new u.JSCommonChartPaint_ChartLine:new K,i.Color=this.Index[a].LineColor,i.Canvas=t.Canvas,i.Name=this.Name+"-"+a.toString(),i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint.push(i)}},this.RequestData=function(t,a,i){var r=this,n={HQChart:t,WindowIndex:a,HistoryData:i};return this.LongShortData=[],n.HQChart.Period>0?(this.NotSupport(n.HQChart,n.WindowIndex,"\u4e0d\u652f\u6301\u5468\u671f\u5207\u6362"),n.HQChart.Draw(),!1):(e.request({url:m.JSCommonResource_Global_JSChartResource.Index.MarketLongShortApiUrl,data:{},method:"POST",dataType:"json",async:!0,success:function(t){r.RecvData(t,n)}}),!0)},this.RecvData=function(t,e){if(!(t.data.data.length<=0)){var a=new Array;for(var i in t.data.data){var n=t.data.data[i],s=new r.JSCommon_SingleData;s.Date=n[0],s.Value=n[1],a.push(s)}var o=e.HistoryData.GetFittingData(a),h=new r.JSCommon_ChartData;h.Data=o,h.Period=e.HQChart.Period,h.Right=e.HQChart.Right,this.LongShortData=h.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=t.GetChartPaint(e);if(i.length!=this.Index.length)return!1;i[0].Data.Data=this.LongShortData,i[0].NotSupportMessage=null,i[1].Data.Data[0]=8,i[2].Data.Data[0]=1,t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:9,Min:0,Count:3};var r=e+1;for(var n in i)t.TitlePaint[r].Data[n]=new D.JSCommonChartTitle_DynamicTitleData(i[n].Data,this.Index[n].Name,this.Index[n].LineColor),n>0&&(t.TitlePaint[r].Data[n].DataType="StraightLine");return t.TitlePaint[r].Title=this.FormatIndexTitle(),t.UpdateUICallback&&t.UpdateUICallback("MarketLongShortIndex",i,{WindowIndex:e,HistoryData:a}),!0}}function vt(){this.newMethod=C.JSCommonIndex_BaseIndex,this.newMethod("\u5e02\u573a\u62e9\u65f6"),delete this.newMethod,this.Index=new Array(new C.JSCommonIndex_IndexInfo("\u56e0\u5b50\u62e9\u65f6",null)),this.TimingData,this.TitleColor=m.JSCommonResource_Global_JSChartResource.FrameSplitTextColor,this.Create=function(t,e){for(var a in this.Index){var i=new u.JSCommonChartPaint_ChartMACD;i.Canvas=t.Canvas,i.Name=this.Name+"-"+a.toString(),i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint.push(i)}},this.RequestData=function(t,a,i){var r=this,n={HQChart:t,WindowIndex:a,HistoryData:i};return this.LongShortData=[],n.HQChart.Period>0?(this.NotSupport(n.HQChart,n.WindowIndex,"\u4e0d\u652f\u6301\u5468\u671f\u5207\u6362"),n.HQChart.Draw(),!1):(e.request({url:m.JSCommonResource_Global_JSChartResource.Index.MarketLongShortApiUrl,data:{},method:"POST",dataType:"json",async:!0,success:function(t){r.RecvData(t,n)}}),!0)},this.RecvData=function(t,e){if(!(t.data.data.length<=0)){var a=new Array;for(var i in t.data.data){var n=t.data.data[i],s=new r.JSCommon_SingleData;s.Date=n[0],s.Value=n[2],a.push(s)}var o=e.HistoryData.GetFittingData(a),h=new r.JSCommon_ChartData;h.Data=o,h.Period=e.HQChart.Period,h.Right=e.HQChart.Right,this.TimingData=h.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=t.GetChartPaint(e);if(i.length!=this.Index.length)return!1;i[0].Data.Data=this.TimingData,i[0].NotSupportMessage=null;var r=e+1;for(var n in i)t.TitlePaint[r].Data[n]=new D.JSCommonChartTitle_DynamicTitleData(i[n].Data,this.Index[n].Name,this.TitleColor),t.TitlePaint[r].Data[n].StringFormat=D.JSCommonChartTitle_STRING_FORMAT_TYPE.THOUSANDS,t.TitlePaint[r].Data[n].FloatPrecision=0;return t.TitlePaint[r].Title=this.FormatIndexTitle(),t.UpdateUICallback&&t.UpdateUICallback("MarketTimingIndex",i,{WindowIndex:e,HistoryData:a}),!0}}function gt(){this.newMethod=C.JSCommonIndex_BaseIndex,this.newMethod("\u5e02\u573a\u5173\u6ce8\u5ea6"),delete this.newMethod,this.Index=new Array(new C.JSCommonIndex_IndexInfo("\u5e02\u573a\u5173\u6ce8\u5ea6\u6307\u6570",null)),this.Data,this.TitleColor=m.JSCommonResource_Global_JSChartResource.FrameSplitTextColor,this.ApiUrl=m.JSCommonResource_Global_JSChartResource.Index.MarketAttentionApiUrl,this.Create=function(t,e){for(var a in this.Index){var i=new Q;i.Canvas=t.Canvas,i.Name=this.Name+"-"+a.toString(),i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,i.UpBarColor=i.DownBarColor="rgb(243,152,0)",t.ChartPaint.push(i)}},this.SetFrame=function(t,e,a){t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:6,Min:0,Count:3}},this.RequestData=function(t,a,i){var r=this,n={HQChart:t,WindowIndex:a,HistoryData:i};return this.Data=[],n.HQChart.Period>0?(this.NotSupport(n.HQChart,n.WindowIndex,"\u4e0d\u652f\u6301\u5468\u671f\u5207\u6362"),n.HQChart.Draw(),!1):(e.request({url:this.ApiUrl,data:{symbol:n.HQChart.Symbol,startdate:20100101},method:"POST",dataType:"json",success:function(t){r.RecvData(t.data,n)}}),!0)},this.RecvData=function(t,e){if(!(t.date.length<0)){var a=new Array;for(var i in t.date){var n=new r.JSCommon_SingleData;n.Date=t.date[i],n.Value=t.value[i],a.push(n)}var s=e.HistoryData.GetFittingData(a),o=new r.JSCommon_ChartData;o.Data=s,o.Period=e.HQChart.Period,o.Right=e.HQChart.Right,this.Data=o.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),this.SetFrame(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=t.GetChartPaint(e);if(i.length!=this.Index.length)return!1;i[0].Data.Data=this.Data,i[0].NotSupportMessage=null;var r=e+1;for(var n in i)t.TitlePaint[r].Data[n]=new D.JSCommonChartTitle_DynamicTitleData(i[n].Data,this.Index[n].Name,this.TitleColor),t.TitlePaint[r].Data[n].StringFormat=D.JSCommonChartTitle_STRING_FORMAT_TYPE.THOUSANDS,t.TitlePaint[r].Data[n].FloatPrecision=0;return t.TitlePaint[r].Title=this.FormatIndexTitle(),!0}}function Tt(){this.newMethod=C.JSCommonIndex_BaseIndex,this.newMethod("\u6307\u6570/\u884c\u4e1a\u70ed\u5ea6"),delete this.newMethod,this.Index=new Array(new C.JSCommonIndex_IndexInfo("\u70ed\u5ea6\u6307\u6570",5),new C.JSCommonIndex_IndexInfo("MA",10),new C.JSCommonIndex_IndexInfo("MA",null)),this.Data,this.ApiUrl=m.JSCommonResource_Global_JSChartResource.Index.MarketHeatApiUrl,this.Index[0].LineColor=m.JSCommonResource_Global_JSChartResource.FrameSplitTextColor,this.Index[1].LineColor=m.JSCommonResource_Global_JSChartResource.Index.LineColor[0],this.Index[2].LineColor=m.JSCommonResource_Global_JSChartResource.Index.LineColor[1],this.Create=function(t,e){for(var a in this.Index){var i=null;0==a?i=new u.JSCommonChartPaint_ChartMACD:(i=new u.JSCommonChartPaint_ChartLine,i.Color=this.Index[a].LineColor),i.Canvas=t.Canvas,i.Name=this.Name+"-"+a.toString(),i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint.push(i)}},this.RequestData=function(t,a,i){var r=this,n={HQChart:t,WindowIndex:a,HistoryData:i};return this.Data=[],n.HQChart.Period>0?(this.NotSupport(n.HQChart,n.WindowIndex,"\u4e0d\u652f\u6301\u5468\u671f\u5207\u6362"),n.HQChart.Draw(),!1):(e.request({url:this.ApiUrl,data:{symbol:n.HQChart.Symbol,startdate:20100101},method:"POST",dataType:"json",success:function(t){r.RecvData(t.data,n)}}),!0)},this.RecvData=function(t,e){if(!(t.date.length<0)){var a=new Array;for(var i in t.date){var n=new r.JSCommon_SingleData;n.Date=t.date[i],n.Value=t.value[i],a.push(n)}var s=e.HistoryData.GetFittingData(a),o=new r.JSCommon_ChartData;o.Data=s,o.Period=e.HQChart.Period,o.Right=e.HQChart.Right,this.Data=o.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=t.GetChartPaint(e);if(i.length!=this.Index.length)return!1;i[0].Data.Data=this.Data,i[0].NotSupportMessage=null;var r=l.JSCommon_HQIndexFormula.MA(this.Data,this.Index[0].Param);i[1].Data.Data=r;var n=l.JSCommon_HQIndexFormula.MA(this.Data,this.Index[1].Param);i[2].Data.Data=n;var s=e+1;for(var o in i){var h="";h=0==o?t.Name+this.Index[o].Name:"MA"+this.Index[o-1].Param,t.TitlePaint[s].Data[o]=new D.JSCommonChartTitle_DynamicTitleData(i[o].Data,h,this.Index[o].LineColor),t.TitlePaint[s].Data[o].StringFormat=D.JSCommonChartTitle_STRING_FORMAT_TYPE.DEFAULT,t.TitlePaint[s].Data[o].FloatPrecision=2}return t.TitlePaint[s].Title=this.FormatIndexTitle(),!0}}function It(){this.newMethod=C.JSCommonIndex_BaseIndex,this.newMethod("Market-Heat"),delete this.newMethod,this.Index=new Array(new C.JSCommonIndex_IndexInfo("\u533a\u57df",3),new C.JSCommonIndex_IndexInfo("\u70ed\u5ea6\u6307\u6570",10),new C.JSCommonIndex_IndexInfo("MA",5),new C.JSCommonIndex_IndexInfo("MA",10)),this.Data,this.ApiUrl=m.JSCommonResource_Global_JSChartResource.Index.CustomIndexHeatApiUrl,this.Index[1].LineColor=m.JSCommonResource_Global_JSChartResource.Index.LineColor[1],this.Index[2].LineColor=m.JSCommonResource_Global_JSChartResource.Index.LineColor[2],this.Index[3].LineColor=m.JSCommonResource_Global_JSChartResource.Index.LineColor[3],this.Create=function(t,e){for(var a in this.Index){var i=null;0==a?i=new z:(i=new u.JSCommonChartPaint_ChartLine,i.Color=this.Index[a].LineColor),i.Canvas=t.Canvas,i.Name=this.Name+"-"+a.toString(),i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint.push(i)}},this.RequestData=function(t,a,i){var r=this,n={HQChart:t,WindowIndex:a,HistoryData:i};return this.Data=[],n.HQChart.Period>0?(this.NotSupport(n.HQChart,n.WindowIndex,"\u4e0d\u652f\u6301\u5468\u671f\u5207\u6362"),n.HQChart.Draw(),!1):(e.request({url:this.ApiUrl,data:{stock:n.HQChart.CustomStock,date:{startdate:n.HQChart.QueryDate.Start,enddate:n.HQChart.QueryDate.End},day:[this.Index[0].Param,this.Index[1].Param]},method:"POST",dataType:"json",success:function(t){r.RecvData(t,n)}}),!0)},this.RecvData=function(t,e){var a=t.data;if(!(null==a.data||a.data.length<0)){var i=new Array;for(var n in a.data){var s=a.data[n],o=new r.JSCommon_SingleData;o.Date=s[0],o.Value=s[1],i.push(o)}var h=e.HistoryData.GetFittingData(i),l=new r.JSCommon_ChartData;l.Data=h,l.Period=e.HQChart.Period,l.Right=e.HQChart.Right,this.Data=l.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=t.GetChartPaint(e);if(i.length!=this.Index.length)return!1;i[0].NotSupportMessage=null,i[0].Data.Data=[{Value:0,Value2:.2,Color:"rgb(46,139,87)",Title:"\u8f83\u5dee\u533a",TitleColor:"rgb(245,255 ,250)"},{Value:.19,Value2:.4,Color:"rgb(255,140,0)",Title:"\u53d8\u70ed\u533a",TitleColor:"rgb(245,255 ,250)"},{Value:.39,Value2:.8,Color:"rgb(255,106,106)",Title:"\u8f83\u597d\u533a",TitleColor:"rgb(245,255 ,250)"},{Value:.79,Value2:1,Color:"rgb(255,69,0)",Title:"\u8fc7\u70ed\u533a",TitleColor:"rgb(245,255 ,250)"}],i[1].Data.Data=this.Data;var r=l.JSCommon_HQIndexFormula.MA(this.Data,this.Index[2].Param);i[2].Data.Data=r;var n=l.JSCommon_HQIndexFormula.MA(this.Data,this.Index[3].Param);i[3].Data.Data=n,t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:1,Min:0,Count:3};for(var s=e+1,o=1;o<i.length;++o){var h=this.Index[o].Name;"MA"==h&&(h="MA"+this.Index[o].Param),t.TitlePaint[s].Data[o]=new D.JSCommonChartTitle_DynamicTitleData(i[o].Data,h,this.Index[o].LineColor),t.TitlePaint[s].Data[o].StringFormat=D.JSCommonChartTitle_STRING_FORMAT_TYPE.DEFAULT,t.TitlePaint[s].Data[o].FloatPrecision=2}return t.TitlePaint[s].Title="\u70ed\u5ea6("+this.Index[0].Param+","+this.Index[1].Param+","+this.Index[2].Param+","+this.Index[3].Param+")",!0}}function xt(){this.newMethod=C.JSCommonIndex_BaseIndex,this.newMethod("\u8d22\u52a1\u98ce\u9669"),delete this.newMethod,this.Index=new Array(new C.JSCommonIndex_IndexInfo("\u533a\u57df",null),new C.JSCommonIndex_IndexInfo("\u7cfb\u6570",null)),this.Data,this.ApiUrl=m.JSCommonResource_Global_JSChartResource.Index.StockHistoryDayApiUrl,this.Index[0].LineColor=m.JSCommonResource_Global_JSChartResource.Index.LineColor[0],this.Index[1].LineColor="rgb(105,105,105)",this.Create=function(t,e){for(var a in this.Index){var i=null;0==a?i=new z:1==a&&(i=new X),i&&(i.Color=this.Index[a].LineColor,i.Canvas=t.Canvas,i.Name=this.Name+"-"+a.toString(),i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint.push(i))}},this.RequestData=function(t,a,i){var r=this,n={HQChart:t,WindowIndex:a,HistoryData:i};if(this.Data=[],2!=n.HQChart.Period)return this.NotSupport(n.HQChart,n.WindowIndex,"\u53ea\u652f\u6301\u6708\u7ebf"),n.HQChart.Draw(),!1;var s=["finance.benford","announcement2.quarter","announcement1.quarter","announcement3.quarter","announcement4.quarter"],o=[{item:["date","int32","gte","20130101"]},{item:["announcement1.year","int32","gte",0,"announcement2.year","int32","gte",0,"announcement3.year","int32","gte",0,"announcement4.year","int32","gte",0,"or"]}];return e.request({url:this.ApiUrl,data:{symbol:[n.HQChart.Symbol],field:s,condition:o},method:"POST",dataType:"json",success:function(t){r.RecvData(t,n)}}),!0},this.JsonDataToMapSingleData=function(t){var e=t.stock[0].stockday,a=new Map;for(var i in e){var n=e[i],s=new r.JSCommon_SingleData;if(s.Date=n.date,s.Value=new Array,null!=n.finance1&&null!=n.announcement1){var o=n.announcement1.year,h=n.announcement1.quarter,l=n.finance1.benford;s.Value.push({Year:o,Quarter:h,Value:l})}if(null!=n.finance2&&null!=n.announcement2){var u=n.announcement2.year,c=n.announcement2.quarter,C=n.finance2.benford;s.Value.push({Year:u,Quarter:c,Value:C})}if(null!=n.finance3&&null!=n.announcement3){var m=n.announcement3.year,f=n.announcement3.quarter,d=n.finance3.benford;s.Value.push({Year:m,Quarter:f,Value:d})}if(null!=n.finance4&&null!=n.announcement4){var D=n.announcement4.year,S=n.announcement4.quarter,v=n.finance4.benford;s.Value.push({Year:D,Quarter:S,Value:v})}a.set(s.Date,s)}var g,T=new Array,I=p(a);try{for(I.s();!(g=I.n()).done;){n=g.value;T.push(n[1])}}catch(x){I.e(x)}finally{I.f()}return T},this.RecvData=function(t,e){if(i.JSConsole.Chart.Log(t),!(null==t.data.stock||t.data.stock.length<=0)){var a=this.JsonDataToMapSingleData(t.data),n=e.HistoryData.GetFittingMonthData(a),s=new r.JSCommon_ChartData;s.Data=n,s.Period=e.HQChart.Period,s.Right=e.HQChart.Right,this.Data=s.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=t.GetChartPaint(e);if(i.length!=this.Index.length)return!1;i[0].NotSupportMessage=null,i[0].Data.Data=[{Value:0,Value2:.2,Color:"rgb(219,255,193)",Title:"\u5b89\u5168\u533a",TitleColor:"rgb(66,192,99)"},{Value:.2,Value2:.4,Color:"rgb(255,228,170)",Title:"\u9884\u8b66\u533a",TitleColor:"rgb(255,124,3)"},{Value:.4,Value2:1,Color:"rgb(254,219,212)",Title:"\u8b66\u793a\u533a",TitleColor:"rgb(255,0,0)"}],i[1].Data.Data=this.Data,t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:1,Min:0,Count:3},t.Frame.SubFrame[e].Frame.YSplitScale=[.2,.4];var r=e+1;return t.TitlePaint[r].Data[1]=new D.JSCommonChartTitle_DynamicTitleData(i[1].Data,this.Index[1].Name,this.Index[1].LineColor),t.TitlePaint[r].Data[1].DataType="MultiReport",t.TitlePaint[r].Title=this.FormatIndexTitle(),!0}}function At(t){var e=t.toUpperCase();if(e.indexOf(".SH")>0){if(e=e.replace(".SH",""),"0"==e.charAt(0)&&parseInt(e)<=3e3)return!0}else if(e.indexOf(".SZ")>0){if(e=e.replace(".SZ",""),"3"==e.charAt(0)&&"9"==e.charAt(1))return!0}else if(e.indexOf(".CI")>0)return!0;return!1}t.exports={JSCommon:{JSCanvasElement:g,JSChart:T,Guid:y,IFrameSplitOperator:d.JSCommonSplit_IFrameSplitOperator,ChartData:r.JSCommon_ChartData,DataPlus:r.JSCommon_DataPlus,KLineTooltipPaint:c.JSCommonExtendChartPaint_KLineTooltipPaint,MARKET_SUFFIX_NAME:s.JSCommonCoordinateData_MARKET_SUFFIX_NAME,JSCommonCoordinateData:s.JSCommonCoordinateData,FrameSplitKLineX:d.JSCommonSplit_FrameSplitKLineX,FrameSplitKLinePriceY:d.JSCommonSplit_FrameSplitKLinePriceY,JSCHART_EVENT_ID:I}}}).call(this,a("fe07")["default"])},"8bbf":function(t,e){t.exports=Vue},"8c89":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t._$s(0,"i",t.isShow)?a("view",{ref:"ani",staticClass:t._$s(0,"sc","uni-transition"),class:t._$s(0,"c",[t.ani.in]),style:t._$s(0,"s","transform:"+t.transform+";"+t.stylesObject),attrs:{_i:0},on:{click:t.change}},[t._t("default",null,{_i:1})],2):t._e()},n=[]},9130:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"loading1",data:function(){return{}}};e.default=i},9303:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={uniTransition:a("443c").default},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t._$s(0,"i",t.showPopup)?a("view",{staticClass:t._$s(0,"sc","uni-popup"),class:t._$s(0,"c",[t.popupstyle]),attrs:{_i:0},on:{touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.clear(e)}}},[t._$s(1,"i",t.maskShow)?a("uni-transition",{attrs:{"mode-class":["fade"],styles:t.maskClass,duration:t.duration,show:t.showTrans,_i:1},on:{click:t.onTap}}):t._e(),a("uni-transition",{attrs:{"mode-class":t.ani,styles:t.transClass,duration:t.duration,show:t.showTrans,_i:2},on:{click:t.onTap}},[a("view",{staticClass:t._$s(3,"sc","uni-popup__wrapper-box"),attrs:{_i:3},on:{click:function(e){return e.stopPropagation(),t.clear(e)}}},[t._t("default",null,{_i:4})],2)])],1):t._e()},n=[]},9416:function(t,e,a){"use strict";a.r(e);var i=a("e7d4"),r=a("3efd");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"b67d2952",null,!1,i["a"],s);e["default"]=h.exports},"958b":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"loading6",data:function(){return{}}};e.default=i},"96cf":function(t,e){!function(e){"use strict";var a,i=Object.prototype,r=i.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},s=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",h=n.toStringTag||"@@toStringTag",l="object"===typeof t,u=e.regeneratorRuntime;if(u)l&&(t.exports=u);else{u=e.regeneratorRuntime=l?t.exports:{},u.wrap=g;var c="suspendedStart",C="suspendedYield",m="executing",f="completed",d={},D={};D[s]=function(){return this};var p=Object.getPrototypeOf,S=p&&p(p(w([])));S&&S!==i&&r.call(S,s)&&(D=S);var v=A.prototype=I.prototype=Object.create(D);x.prototype=v.constructor=A,A.constructor=x,A[h]=x.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,h in t||(t[h]="GeneratorFunction")),t.prototype=Object.create(v),t},u.awrap=function(t){return{__await:t}},F(y.prototype),y.prototype[o]=function(){return this},u.AsyncIterator=y,u.async=function(t,e,a,i){var r=new y(g(t,e,a,i));return u.isGeneratorFunction(e)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},F(v),v[h]="Generator",v[s]=function(){return this},v.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){while(e.length){var i=e.pop();if(i in t)return a.value=i,a.done=!1,a}return a.done=!0,a}},u.values=w,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=a)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return o.type="throw",o.arg=t,e.next=i,r&&(e.method="next",e.arg=a),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var h=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(h&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(h){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=t,s.arg=e,n?(this.method="next",this.next=n.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),N(a),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var r=i.arg;N(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:w(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=a),d}}}function g(t,e,a,i){var r=e&&e.prototype instanceof I?e:I,n=Object.create(r.prototype),s=new _(i||[]);return n._invoke=L(t,a,s),n}function T(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(i){return{type:"throw",arg:i}}}function I(){}function x(){}function A(){}function F(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t){function e(a,i,n,s){var o=T(t[a],t,i);if("throw"!==o.type){var h=o.arg,l=h.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,n,s)}),(function(t){e("throw",t,n,s)})):Promise.resolve(l).then((function(t){h.value=t,n(h)}),(function(t){return e("throw",t,n,s)}))}s(o.arg)}var a;function i(t,i){function r(){return new Promise((function(a,r){e(t,i,a,r)}))}return a=a?a.then(r,r):r()}this._invoke=i}function L(t,e,a){var i=c;return function(r,n){if(i===m)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw n;return b()}a.method=r,a.arg=n;while(1){var s=a.delegate;if(s){var o=M(s,a);if(o){if(o===d)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===c)throw i=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=m;var h=T(t,e,a);if("normal"===h.type){if(i=a.done?f:C,h.arg===d)continue;return{value:h.arg,done:a.done}}"throw"===h.type&&(i=f,a.method="throw",a.arg=h.arg)}}}function M(t,e){var i=t.iterator[e.method];if(i===a){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=a,M(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=T(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var n=r.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=a),e.delegate=null,d):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function w(t){if(t){var e=t[s];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){while(++i<t.length)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=a,e.done=!0,e};return n.next=n}}return{next:b}}function b(){return{value:a,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"9c28":function(t,e,a){"use strict";var i=a("8961"),r=a("c638"),n=a("f19e"),s=a("2f51"),o=a("bc6b");function h(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=l(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,n=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw n}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function c(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.Data,this.ClassName="IExtendChartPainting",this.IsDynamic=!1,this.IsEraseBG=!1,this.IsAnimation=!1,this.DrawAfterTitle=!1,this.Left=5,this.Right=5,this.Top=5,this.Bottom=5,this.Draw=function(){},this.SetOption=function(t){}}function C(){this.newMethod=c,this.newMethod(),delete this.newMethod,this.IsDynamic=!0,this.IsEraseBG=!0,this.DrawAfterTitle=!0,this.ClassName="KLineTooltipPaint",this.LatestPoint,this.ShowPosition=0,this.BorderColor=s.JSCommonResource_Global_JSChartResource.TooltipPaint.BorderColor,this.BGColor=s.JSCommonResource_Global_JSChartResource.TooltipPaint.BGColor,this.TitleColor=s.JSCommonResource_Global_JSChartResource.TooltipPaint.TitleColor,this.Font=[s.JSCommonResource_Global_JSChartResource.TooltipPaint.TitleFont],this.Width=50,this.Height=100,this.LineHeight=15,this.Left=1,this.Top=0,this.HQChart,this.KLineTitlePaint,this.IsHScreen=!1,this.LanguageID=s.JSCommonResource_JSCHART_LANGUAGE_ID.LANGUAGE_CHINESE_ID,this.GetLeft=function(){return this.IsHScreen?this.ChartBorder.GetRightEx()-this.Height-this.Top:0==this.ShowPosition?this.ChartBorder.GetLeft()+this.Left:this.ChartBorder.GetRight()-this.Width-this.Left},this.GetTop=function(){return this.IsHScreen?0==this.ShowPosition?this.ChartBorder.GetTop()+this.Left:this.ChartBorder.GetBottom()-this.Width-this.Left:this.ChartBorder.GetTopEx()+this.Top},this.Draw=function(){if(this.HQChart&&this.HQChart.TitlePaint&&this.HQChart.TitlePaint[0]&&this.HQChart.IsOnTouch){this.KLineTitlePaint=this.HQChart.TitlePaint[0];var t=this.KLineTitlePaint.GetCurrentKLineData();if(t){var e;this.HQChart.Symbol&&(e=this.HQChart.Symbol.toUpperCase());var a=!!n.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsChinaFutures(e),i=8;"MinuteTooltipPaint"===this.ClassName?(i=7,a&&o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Position)&&++i):(o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Time)&&++i,a&&o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Position)&&++i),this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.Canvas.font=this.Font[0];var r=n.JSCommonCoordinateData.GetfloatPrecision(this.HQChart.Symbol),s=" \u64ce: 9999.99\u4ebf ";if(r>=5&&(s=" \u64ce: ".concat(99.99.toFixed(r)," ")),this.Width=this.Canvas.measureText(s).width,this.Height=this.LineHeight*i+4,t&&t.High>0){s=" \u64ce: ".concat(t.High.toFixed(r)," ");var h=this.Canvas.measureText(s).width;h>this.Width&&(this.Width=h)}this.CalculateShowPosition(),this.DrawBG(),this.DrawTooltipData(t),this.DrawBorder()}}},this.CalculateShowPosition=function(){if(this.ShowPosition=0,this.LatestPoint)if(this.IsHScreen){var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetHeight(),a=t+e/2;this.LatestPoint.Y<a&&(this.ShowPosition=1)}else{var i=this.ChartBorder.GetLeft(),r=this.ChartBorder.GetWidth(),n=i+r/2;this.LatestPoint.X<n&&(this.ShowPosition=1)}},this.DrawBorder=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.GetLeft(),a=this.GetTop();this.Canvas.strokeStyle=this.BorderColor,t?this.Canvas.strokeRect(this.HQChart.ToFixedPoint(e),this.HQChart.ToFixedPoint(a),this.HQChart.ToFixedRect(this.Height),this.HQChart.ToFixedRect(this.Width)):this.Canvas.strokeRect(this.HQChart.ToFixedPoint(e),this.HQChart.ToFixedPoint(a),this.HQChart.ToFixedRect(this.Width),this.HQChart.ToFixedRect(this.Height))},this.DrawBG=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.GetLeft(),a=this.GetTop();this.Canvas.fillStyle=this.BGColor,t?this.Canvas.fillRect(e,a,this.Height,this.Width):this.Canvas.fillRect(e,a,this.Width,this.Height)},this.DrawTooltipData=function(t){var e=n.JSCommonCoordinateData.GetfloatPrecision(this.HQChart.Symbol),a=this.GetLeft()+2,i=this.GetTop()+3;if(this.IsHScreen){this.Canvas.save();var h=this.GetLeft()+this.Height,l=this.GetTop();this.Canvas.translate(h,l),this.Canvas.rotate(90*Math.PI/180),a=2,i=3}this.Canvas.textBaseline="top",this.Canvas.textAlign="left",this.Canvas.font=this.Font[0];var u=this.Canvas.measureText("\u64ce: ").width,c=this.HQChart.FormatDateString(t.Date);this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(c,a,i);var C=this.HQChart.Period;r.JSCommon_ChartData.IsMinutePeriod(C,!0)&&o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Time)?(i+=this.LineHeight,c=this.HQChart.FormatTimeString(t.Time),this.Canvas.fillText(c,a,i)):r.JSCommon_ChartData.IsSecondPeriod(C)&&o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Time)&&(i+=this.LineHeight,c=this.HQChart.FormatTimeString(t.Time,"HH:MM:SS"),this.Canvas.fillText(c,a,i)),i+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Open",this.LanguageID),this.Canvas.fillText(c,a,i);var m=this.KLineTitlePaint.GetColor(t.Open,t.YClose);c=t.Open.toFixed(e),this.Canvas.fillStyle=m,this.Canvas.fillText(c,a+u,i),i+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-High",this.LanguageID),this.Canvas.fillText(c,a,i);m=this.KLineTitlePaint.GetColor(t.High,t.YClose),c=t.High.toFixed(e);this.Canvas.fillStyle=m,this.Canvas.fillText(c,a+u,i),i+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Low",this.LanguageID),this.Canvas.fillText(c,a,i);m=this.KLineTitlePaint.GetColor(t.Low,t.YClose),c=t.Low.toFixed(e);this.Canvas.fillStyle=m,this.Canvas.fillText(c,a+u,i),i+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Close",this.LanguageID),this.Canvas.fillText(c,a,i);var f;m=this.KLineTitlePaint.GetColor(t.Close,t.YClose),c=t.Close.toFixed(e);if(this.Canvas.fillStyle=m,this.Canvas.fillText(c,a+u,i),i+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Increase",this.LanguageID),this.Canvas.fillText(c,a,i),t.YClose>0){var d=(t.Close-t.YClose)/t.YClose*100;m=this.KLineTitlePaint.GetColor(d,0),c=d.toFixed(2)+"%"}else c="--.--",m=this.KLineTitlePaint.GetColor(0,0);if(this.Canvas.fillStyle=m,this.Canvas.fillText(c,a+u,i),this.Canvas.fillStyle=this.TitleColor,o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Vol)){i+=this.LineHeight,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Vol",this.LanguageID),this.Canvas.fillText(c,a,i);c=this.HQChart.FormatValueString(t.Vol,2,this.LanguageID);this.Canvas.fillText(c,a+u,i)}if(o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Amount)){i+=this.LineHeight,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Amount",this.LanguageID),this.Canvas.fillText(c,a,i);c=this.HQChart.FormatValueString(t.Amount,2,this.LanguageID);this.Canvas.fillText(c,a+u,i)}if(this.HQChart.Symbol&&(f=this.HQChart.Symbol.toUpperCase()),n.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsChinaFutures(f)&&o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Position)){this.Canvas.fillStyle=this.TitleColor,i+=this.LineHeight,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Position",this.LanguageID),this.Canvas.fillText(c,a,i);c=o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t.Position,2,this.LanguageID);this.Canvas.fillText(c,a+u,i)}this.IsHScreen&&this.Canvas.restore()},this.SetOption=function(t){t.LineHeight>0&&(this.LineHeight=t.LineHeight),t.BGColor&&(this.BGColor=t.BGColor),t.LanguageID>0&&(this.LanguageID=t.LanguageID)}}function m(){this.newMethod=C,this.newMethod(),delete this.newMethod,this.ClassName="MinuteTooltipPaint",this.IsShowAveragePrice=!0,this.GetTop=function(){return this.IsHScreen?0==this.ShowPosition?this.ChartBorder.GetTop()+this.Left:this.ChartBorder.GetBottom()-this.Width-this.Left:this.ChartBorder.GetTop()+this.Top},this.GetLeft=function(){return this.IsHScreen?this.ChartBorder.GetRight()-this.Height-this.Top:0==this.ShowPosition?this.ChartBorder.GetLeft()+this.Left:this.ChartBorder.GetRight()-this.Width-this.Left},this.DrawTooltipData=function(t){var e=n.JSCommonCoordinateData.GetfloatPrecision(this.HQChart.Symbol),a=this.GetLeft()+2,i=this.GetTop()+3;if(this.YClose=this.KLineTitlePaint.YClose,this.IsHScreen){this.Canvas.save();var r=this.GetLeft()+this.Height,h=this.GetTop();this.Canvas.translate(r,h),this.Canvas.rotate(90*Math.PI/180),a=2,i=3}this.Canvas.textBaseline="top",this.Canvas.textAlign="left",this.Canvas.font=this.Font[0];var l=this.Canvas.measureText("\u64ce: ").width,u=t.DateTime.split(" ");if(u&&2==u.length){var c=this.HQChart.FormatDateString(u[0]);this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(c,a,i),i+=this.LineHeight,c=this.HQChart.FormatTimeString(u[1]),this.Canvas.fillText(c,a,i)}i+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Price",this.LanguageID),this.Canvas.fillText(c,a,i);var C=this.KLineTitlePaint.GetColor(t.Close,this.YClose);if(c=t.Close.toFixed(e),this.Canvas.fillStyle=C,this.Canvas.fillText(c,a+l,i),o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.AvPrice)&&1==this.IsShowAveragePrice){i+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-AvPrice",this.LanguageID),this.Canvas.fillText(c,a,i);C=this.KLineTitlePaint.GetColor(t.AvPrice,this.YClose),c=t.AvPrice.toFixed(e);this.Canvas.fillStyle=C,this.Canvas.fillText(c,a+l,i)}i+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Increase",this.LanguageID),this.Canvas.fillText(c,a,i);var m,f=(t.Close-this.YClose)/this.YClose*100;C=this.KLineTitlePaint.GetColor(f,0),c=f.toFixed(2)+"%";if(this.Canvas.fillStyle=C,this.Canvas.fillText(c,a+l,i),o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Vol)){this.Canvas.fillStyle=this.TitleColor,i+=this.LineHeight,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Vol",this.LanguageID),this.Canvas.fillText(c,a,i);c=this.HQChart.FormatValueString(t.Vol,2,this.LanguageID);this.Canvas.fillText(c,a+l,i)}if(o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Amount)){i+=this.LineHeight,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Amount",this.LanguageID),this.Canvas.fillText(c,a,i);c=this.HQChart.FormatValueString(t.Amount,2,this.LanguageID);this.Canvas.fillText(c,a+l,i)}if(this.HQChart.Symbol&&(m=this.HQChart.Symbol.toUpperCase()),n.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsChinaFutures(m)&&o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Position)){this.Canvas.fillStyle=this.TitleColor,i+=this.LineHeight,c=s.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Position",this.LanguageID),this.Canvas.fillText(c,a,i);c=o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t.Position,2,this.LanguageID);this.Canvas.fillText(c,a+l,i)}this.IsHScreen&&this.Canvas.restore()}}function f(){this.PlayList=[],this.Cache=[],this.MinLineHeight=40,this.Height,this.Step=1,this.GetPlayList=function(t){for(var e=t.Canves,a=t.Right,i=t.Left,r=a-i,n=t.IsMoveStep,s=[],o=0,h=0;h<this.PlayList.length;++h){var l=this.PlayList[h],u=this.MinLineHeight;l.Height>this.MinLineHeight&&(u=l.Height);for(var c=!0,C=!1,m=0;m<l.Data.length;++m){var f=l.Data[m],d={X:f.X,Y:o,Text:f.Text,Color:f.Color,Height:u,Font:f.Font,Info:f.Info};s.push(d),n&&(m==l.Data.length-1&&this.Cache.length>0?(c=!1,f.TextWidth||(f.Font&&f.Font.Name?e.font=f.Font.Name:e.font=t.Font,f.TextWidth=e.measureText(d.Text+"\u64ce\u64ce").width),f.X>=f.TextWidth&&(c=!0)):0==m&&(C=!1,f.TextWidth||(f.Font&&f.Font.Name?e.font=f.Font.Name:e.font=t.Font,f.TextWidth=e.measureText(d.Text+"\u64ce\u64ce").width),f.X>r+f.TextWidth&&(C=!0)),f.X+=this.Step)}if(n&&c&&this.Cache.length>0){var D=this.Cache.shift(),p={X:0,Text:D.Text,Color:D.Color,Font:D.Font,Info:D.Info};l.Data.push(p)}if(n&&C&&l.Data.length>0){var S=l.Data.shift();this.OnItemPlayEnd(t.HQChart,S)}o+=u}return s},this.CacluatePlayLine=function(t){this.Height=t;var e=parseInt(t/this.MinLineHeight);if(this.PlayList.length<e)for(var a=e-this.PlayList.length,r=0;r<a;++r)this.PlayList.push({Data:[]});else if(this.PlayList.length>e){var n=this.PlayList.length-e;for(r=0;r<n;++r)for(var s=this.PlayList.pop(),o=0;o<s.Data.length;++o){var h=s.Data[o],l={Text:h.Text,Color:h.Color,Font:h.Font,Info:h.Info};this.Cache.unshift(l)}}i.JSConsole.Chart.Log("[BarrageList::CacluatePlayLine] LineCount=".concat(this.PlayList.length," Height=").concat(this.Height))},this.AddBarrage=function(t){for(var e in t){var a=t[e];this.Cache.push(a)}},this.OnItemPlayEnd=function(t,e){var a=t.GetBarrageEvent();a&&a.Callback&&a.Callback(a,e,this)},this.Count=function(){return this.Cache.length}}function d(){this.newMethod=c,this.newMethod(),delete this.newMethod,this.ClassName="BackgroundPaint",this.IsDynamic=!1,this.IsCallbackDraw=!0,this.FrameID=0,this.Data,this.ID=(0,r.JSCommon_Guid)(),this.ChartSubFrame,this.ChartBorder,this.KData,this.Period,this.XPointCount=0,this.SetOption=function(t){t.FrameID>0&&(this.FrameID=t.FrameID),o.JSCommonSplit_IFrameSplitOperator.IsObjectExist(t.ID)&&(this.ID=t.ID)},this.Draw=function(){if(this.Data&&this.HQChart&&this.ChartFrame&&this.ChartFrame.SubFrame&&!(this.ChartFrame.SubFrame.length<=this.FrameID)){var t=this.HQChart.ChartPaint[0];if(t&&t.Data&&(this.ChartSubFrame=this.ChartFrame.SubFrame[this.FrameID].Frame,this.ChartBorder=this.ChartSubFrame.ChartBorder,this.KData=t.Data,this.Period=this.HQChart.Period,this.KData&&!(this.KData.Data.length<=0))){var e=!0===this.ChartSubFrame.IsHScreen;this.XPointCount=this.ChartSubFrame.XPointCount;var a=this.ChartSubFrame.XPointCount,i=this.KData.Data[this.KData.DataOffset],n=this.KData.DataOffset+a-1;n>=this.KData.Data.length&&(n=this.KData.Data.length-1);var s=this.KData.Data[n],o=this.GetShowData(i,s);if(o&&!(o.length<=0)){var h=this.BuildKLineMap(),l=this.ChartBorder.GetBottomEx(),u=this.ChartBorder.GetTopEx(),c=this.ChartBorder.GetHeightEx();for(var C in e&&(u=this.ChartBorder.GetRightEx(),l=this.ChartBorder.GetLeftEx(),c=this.ChartBorder.GetWidthEx()),o){var m=o[C],f=this.GetBGCoordinate(m,h);if(f){if(Array.isArray(m.Color)){var d;d=e?this.Canvas.createLinearGradient(l,f.Left,u,f.Left):this.Canvas.createLinearGradient(f.Left,u,f.Left,l);var D=1/m.Color.length;for(var C in m.Color)d.addColorStop(C*D,m.Color[C]);this.Canvas.fillStyle=d}else this.Canvas.fillStyle=m.Color;e?this.Canvas.fillRect((0,r.JSCommon_ToFixedRect)(l),(0,r.JSCommon_ToFixedRect)(f.Left),(0,r.JSCommon_ToFixedRect)(c),(0,r.JSCommon_ToFixedRect)(f.Width)):this.Canvas.fillRect((0,r.JSCommon_ToFixedRect)(f.Left),(0,r.JSCommon_ToFixedRect)(u),(0,r.JSCommon_ToFixedRect)(f.Width),(0,r.JSCommon_ToFixedRect)(c))}}}}}},this.GetShowData=function(t,e){var a=[];for(var i in this.Data){var r=this.Data[i],n={};r.Start.Date>=t.Date&&r.Start.Date<=e.Date&&(n.Start=r.Start),r.End.Date>=t.Date&&r.End.Date<=e.Date&&(n.End=r.End),(n.Start||n.End)&&(n.Color=r.Color,a.push(n))}return a},this.BuildKLineMap=function(){var t=!0===this.ChartSubFrame.IsHScreen,e=this.ChartSubFrame.DataWidth,a=this.ChartSubFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+s.JSCommonResource_Global_JSChartResource.FrameLeftMargin;t&&(i=this.ChartBorder.GetTop()+a/2+s.JSCommonResource_Global_JSChartResource.FrameLeftMargin);var n=this.ChartBorder.GetRight();t&&(n=this.ChartBorder.GetBottom());for(var o={Data:new Map},h=this.KData.DataOffset,l=0;h<this.KData.Data.length&&l<this.XPointCount;++h,++l,i+=e+a){var u=this.KData.Data[h],c=i,C=i+e;if(C>n)break;var m=c+(C-c)/2;0==l&&(o.XLeft=c),o.XRight=C;var f={Index:h,ShowIndex:l,X:m,Right:C,Left:c,Date:u.Date};if(r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0)){var d="Date:".concat(u.Date," Time:").concat(u.Time);f.Time=u.Time}else d="Date:".concat(u.Date);o.Data.set(d,f)}return o},this.GetBGCoordinate=function(t,e){var a=null,i=null;if(t.Start){if(r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0))var n="Date:".concat(t.Start.Date," Time:").concat(t.Start.Time);else n="Date:".concat(t.Start.Date);if(e.Data.has(n)){var s=e.Data.get(n);a=s.Left}else{var o,l=h(e.Data);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=u[1];if(c.Date>t.Start.Date){a=c.Left;break}}}catch(d){l.e(d)}finally{l.f()}}}else a=e.XLeft;if(t.End){if(r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0))n="Date:".concat(t.End.Date," Time:").concat(t.End.Time);else n="Date:".concat(t.End.Date);if(e.Data.has(n)){s=e.Data.get(n);i=s.Right}else{var C,m=null,f=h(e.Data);try{for(f.s();!(C=f.n()).done;){u=C.value,c=u[1];if(c.Date>t.End.Date){i=m;break}m=c.Right}}catch(d){f.e(d)}finally{f.f()}}}else i=e.XRight;return null==a||null==i?null:{Left:a,Right:i,Width:i-a}}}function D(){this.newMethod=c,this.newMethod(),delete this.newMethod,this.ClassName="BarragePaint",this.IsAnimation=!0,this.IsEraseBG=!0,this.HQChart,this.Font=s.JSCommonResource_Global_JSChartResource.Barrage.Font,this.TextColor=s.JSCommonResource_Global_JSChartResource.Barrage.Color,this.FontHeight=s.JSCommonResource_Global_JSChartResource.Barrage.Height,this.BarrageList=new f,this.IsMoveStep=!1,this.SetOption=function(t){t&&(t.Step>0&&(this.BarrageList.Step=t.Step),t.MinLineHeight&&(this.Barrage.MinLineHeight=t.MinLineHeight))},this.DrawHScreen=function(){var t=this.ChartBorder.GetWidth(),e=this.ChartBorder.GetTop(),a=this.ChartBorder.GetBottom(),i=this.ChartBorder.GetRightEx();this.ChartBorder.GetChartWidth();t!=this.BarrageList.Height&&this.BarrageList.CacluatePlayLine(t),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left";var r=this.BarrageList.GetPlayList({Canves:this.Canvas,Right:a,Left:e,Font:this.Font,IsMoveStep:this.IsMoveStep,HQChart:this.HQChart});if(this.IsMoveStep=!1,r){this.Canvas.save(),this.Canvas.translate(this.ChartBorder.GetChartHeight(),0),this.Canvas.rotate(90*Math.PI/180);for(var n=0;n<r.length;++n){var s=r[n];s.Color?this.Canvas.fillStyle=s.Color:this.Canvas.fillStyle=this.TextColor,s.Font?this.Canvas.font=s.Font.Name:this.Canvas.font=this.Font;var o=this.FontHeight;s.Font&&s.Font.Height>0&&(o=s.Font.Height);var h=s.Y+parseInt((s.Height-o)/2);this.Canvas.fillText(s.Text,a-s.X,i+h)}this.Canvas.restore()}},this.Draw=function(){if(this.ChartFrame.IsHScreen)this.DrawHScreen();else{var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),a=this.ChartBorder.GetTopEx(),i=this.ChartBorder.GetHeight();i!=this.BarrageList.Height&&this.BarrageList.CacluatePlayLine(i),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left";var r=this.BarrageList.GetPlayList({Canves:this.Canvas,Right:e,Left:t,Font:this.Font,IsMoveStep:this.IsMoveStep,HQChart:this.HQChart});if(this.IsMoveStep=!1,r)for(var n=0;n<r.length;++n){var s=r[n];s.Color?this.Canvas.fillStyle=s.Color:this.Canvas.fillStyle=this.TextColor,s.Font?this.Canvas.font=s.Font.Name:this.Canvas.font=this.Font;var o=this.FontHeight;s.Font&&s.Font.Height>0&&(o=s.Font.Height);var h=s.Y+parseInt((s.Height-o)/2);this.Canvas.fillText(s.Text,e-s.X,a+h)}}}}t.exports={JSCommonExtendChartPaint:{IExtendChartPainting:c,KLineTooltipPaint:C,BarragePaint:D,MinuteTooltipPaint:m,BackgroundPaint:d},JSCommonExtendChartPaint_IExtendChartPainting:c,JSCommonExtendChartPaint_KLineTooltipPaint:C,JSCommonExtendChartPaint_BarragePaint:D,JSCommonExtendChartPaint_MinuteTooltipPaint:m,JSCommonExtendChartPaint_BackgroundPaint:d}},"9c9f":function(t,e,a){"use strict";a.r(e);var i=a("067f"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"9ca0":function(t,e){t.exports="/static/setme.png"},"9d2b":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("4421"));function r(t){return t&&t.__esModule?t:{default:t}}var n={components:{api:i.default},data:function(){return{search_value:"",HSdata:[]}},onShow:function(){this.fresh_list()},methods:{inputchange:function(e){this.search_value=e.detail.value,t("log","\u641c\u7d22\u6846\u5185\u5bb9\u4e3a"+this.search_value," at pages/select/select.vue:46")},choose_Stock:function(e){t("log","\u9009\u4e2d\u4e86",e[0]," at pages/select/select.vue:49"),uni.navigateTo({url:"../Kline/Kline?symbol="+e[0]+"&name="+e[1]})},fresh_list:function(){var e=this,a={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt};i.default.get_ZX_list({data:a}).then((function(a){t("log","\u83b7\u53d6\u81ea\u9009\u5217\u8868",a," at pages/select/select.vue:59"),200==a.statusCode?(t("log","\u6210\u529f\u83b7\u53d6\u81ea\u9009\u5217\u8868"," at pages/select/select.vue:61"),"OK"==a.data.msg?e.HSdata=a.data.data:uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}})):t("log","\u83b7\u53d6\u81ea\u9009\u5217\u8868\u5931\u8d25"," at pages/select/select.vue:84")}))},remove:function(e){t("log","\u9009\u4e2d\u4e86",e[0]," at pages/select/select.vue:89");var a={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt,sid:e[0]},r=this;uni.showModal({title:"\u5220\u9664\u81ea\u9009\u80a1"+e[1]+"?",content:"",success:function(e){e.confirm&&(t("log","\u7528\u6237\u70b9\u51fb\u786e\u5b9a"," at pages/select/select.vue:97"),i.default.ZX_remove({data:a}).then((function(e){t("log","\u83b7\u53d6\u81ea\u9009\u5217\u8868",e," at pages/select/select.vue:101"),200==e.statusCode?(t("log","\u6210\u529f\u83b7\u53d6\u81ea\u9009\u5217\u8868"," at pages/select/select.vue:103"),"OK"==e.data?r.fresh_list():uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}})):t("log","\u83b7\u53d6\u81ea\u9009\u5217\u8868\u5931\u8d25"," at pages/select/select.vue:126")})))}})}}};e.default=n}).call(this,a("0de9")["default"])},"9dcf":function(t,e,a){"use strict";(function(e){var i=r(a("eff7"));function r(t){return t&&t.__esModule?t:{default:t}}t.exports={get_Kline_history_data:function(t){var a="/API/KLine2";return e("log",a," at src/Kline.js:5"),(0,i.default)(a,"POST",t,"\u83b7\u53d6K\u7ebf\u6570\u636e")},select_Kline:function(t){var a="/user/select";return e("log",a," at src/Kline.js:15"),(0,i.default)(a,"POST",t,"\u6dfb\u52a0\u81ea\u9009\u80a1")},get_message:function(t){var a="/API/message";return e("log",a," at src/Kline.js:25"),(0,i.default)(a,"POST",t,"\u83b7\u53d6\u80a1\u7968\u4fe1\u606f")}}}).call(this,a("0de9")["default"])},a037:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("6876"));function r(t){return t&&t.__esModule?t:{default:t}}var n={components:{api:i.default},methods:{forget:function(t){uni.navigateTo({url:"../changepw/changepw"})},register:function(t){uni.navigateTo({url:"../register/register"})},login:function(e){if(0==this.name.length)return uni.showToast({title:"\u6ce8\u518c\u90ae\u7bb1\u540d\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1;if(0==this.password)return uni.showToast({title:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1;var a={email:this.name,pw:this.password};i.default.login({data:a}).then((function(e){t("log","\u767b\u5f55",e," at pages/login/login.vue:68"),200==e.statusCode?("OK"==e.data.msg?(getApp().globalData.kind=e.data.kind,getApp().globalData.uid=e.data.uid,getApp().globalData.jwt=e.data.jwt,"user"==e.data.kind?uni.showToast({title:"\u767b\u9646\u6210\u529f\uff01",duration:400,complete:function(t){setTimeout((function(){uni.switchTab({url:"../home/home"})}),500)}}):uni.showToast({title:"\u767b\u9646\u6210\u529f\uff01",duration:400,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../manage/manage"})}),500)}})):uni.showToast({title:e.data.msg+"\uff01",duration:800,icon:"none",position:"bottom"}),t("log","\u767b\u5f55\u6210\u529f"," at pages/login/login.vue:114")):t("log","\u767b\u5f55\u5931\u8d25"," at pages/login/login.vue:116")}))}},onLoad:function(){t("log","\u6210\u529f\u52a0\u8f7d"," at pages/login/login.vue:122")},onBackPress:function(t){return!0},data:function(){return{backimg_url:"/static/login_back.jpg",icon_url:"/static/login_head_icon.jpg",name:"",password:""}}};e.default=n}).call(this,a("0de9")["default"])},a34a:function(t,e,a){t.exports=a("bbdd")},a367:function(t,e,a){"use strict";a.r(e);var i=a("e59f"),r=a("ff8b");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"b0d25930",null,!1,i["a"],s);e["default"]=h.exports},a391:function(t,e,a){"use strict";(function(e){var i=r(a("eff7"));function r(t){return t&&t.__esModule?t:{default:t}}t.exports={get_HS_list:function(t){var a="/API/HS_list";return e("log",a," at src/quotation.js:5"),(0,i.default)(a,"POST",t,"get_HS_list")},get_HY_list:function(t){var a="/API/HY_list";return e("log",a," at src/quotation.js:15"),(0,i.default)(a,"POST",t,"get_HY_list")},get_DQ_list:function(t){var a="/API/DQ_list";return e("log",a," at src/quotation.js:25"),(0,i.default)(a,"POST",t,"get_DQ_list")},get_TJ_list:function(t){var a="/API/TJ_list";return e("log",a," at src/quotation.js:35"),(0,i.default)(a,"POST",t,"get_TJ_list")}}}).call(this,a("0de9")["default"])},a3c0:function(t,e,a){"use strict";(function(e,i){var r=a("2f51"),n={INVESTOR:1,ANNOUNCEMENT:2,PFORECAST:3,ANNOUNCEMENT_QUARTER_1:4,ANNOUNCEMENT_QUARTER_2:5,ANNOUNCEMENT_QUARTER_3:6,ANNOUNCEMENT_QUARTER_4:7,RESEARCH:8,BLOCKTRADING:9,TRADEDETAIL:10,POLICY:11};function s(){this.ID,this.Date,this.Title,this.InfoType,this.ExtendData}function o(){}function h(){this.MaxReqeustDataCount=1e3,this.StartDate=20160101,this.Data,this.GetToday=function(){var t=new Date,e=1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();return e}}function l(){this.newMethod=h,this.newMethod(),delete this.newMethod,this.RequestData=function(t){var a=this,i={HQChart:t};return this.Data=[],e.request({url:r.JSCommonResource_Global_JSChartResource.Domain+r.JSCommonResource_Global_JSChartResource.KLine.Info.Investor.ApiUrl,data:{filed:["question","answerdate","symbol","id"],symbol:[i.HQChart.Symbol],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},start:0,end:this.MaxReqeustDataCount},method:"post",dataType:"json",success:function(t){a.RecvData(t,i)}}),!0},this.RecvData=function(t,e){var a=t.data;if(a&&a.list&&!(a.list.length<=0)){for(var i in a.list){var r=a.list[i],o=new s;o.Date=r.answerdate,o.Title=r.question,o.InfoType=n.INVESTOR,this.Data.push(o)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function u(){this.newMethod=h,this.newMethod(),delete this.newMethod,this.RequestData=function(t){var a=this,i={HQChart:t};return this.Data=[],e.request({url:r.JSCommonResource_Global_JSChartResource.Domain+r.JSCommonResource_Global_JSChartResource.KLine.Info.Announcement.ApiUrl,data:{filed:["title","releasedate","symbol","id"],symbol:[i.HQChart.Symbol],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},start:0,end:this.MaxReqeustDataCount},method:"post",dataType:"json",success:function(t){a.RecvData(t,i)}}),!0},this.RecvData=function(t,e){var a=t.data;if(a&&a.report&&!(a.report.length<=0)){for(var i in a.report){var r=a.report[i],o=new s;for(var h in o.Date=r.releasedate,o.Title=r.title,o.InfoType=n.ANNOUNCEMENT,r.type){var l=r.type[h];switch(l){case"\u4e00\u5b63\u5ea6\u62a5\u544a":o.InfoType=n.ANNOUNCEMENT_QUARTER_1;break;case"\u534a\u5e74\u5ea6\u62a5\u544a":o.InfoType=n.ANNOUNCEMENT_QUARTER_2;break;case"\u4e09\u5b63\u5ea6\u62a5\u544a":o.InfoType=n.ANNOUNCEMENT_QUARTER_3;break;case"\u5e74\u5ea6\u62a5\u544a":o.InfoType=n.ANNOUNCEMENT_QUARTER_4;break}}this.Data.push(o)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function c(){this.newMethod=h,this.newMethod(),delete this.newMethod,this.RequestData=function(t){var a=this;this.Data=[];var i={HQChart:t};return e.request({url:r.JSCommonResource_Global_JSChartResource.Domain+r.JSCommonResource_Global_JSChartResource.KLine.Info.Pforecast.ApiUrl,data:{field:["pforecast.type","pforecast.reportdate","fweek"],condition:[{item:["pforecast.reportdate","int32","gte",this.StartDate]}],symbol:[i.HQChart.Symbol],start:0,end:this.MaxReqeustDataCount},method:"post",dataType:"json",success:function(t){a.RecvData(t,i)}}),!0},this.RecvData=function(t,e){var a=t.data;if(a.stock&&1==a.stock.length&&a.stock[0].stockday&&!(a.stock[0].stockday.length<=0)){for(var i in a.stock[0].stockday){var r=a.stock[0].stockday[i];if(r.pforecast.length>0){var o=r.pforecast[0],h=new s;h.Date=r.date,h.Title=o.type,h.InfoType=n.PFORECAST,h.ExtendData={Type:o.type,ReportDate:o.reportdate},r.fweek&&(h.ExtendData.FWeek={},null!=r.fweek.week1&&(h.ExtendData.FWeek.Week1=r.fweek.week1),null!=r.fweek.week4&&(h.ExtendData.FWeek.Week4=r.fweek.week4)),this.Data.push(h)}}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function C(){this.newMethod=h,this.newMethod(),delete this.newMethod,this.RequestData=function(t){var a=this,i={HQChart:t};return this.Data=[],e.request({url:r.JSCommonResource_Global_JSChartResource.Domain+r.JSCommonResource_Global_JSChartResource.KLine.Info.Research.ApiUrl,data:{filed:["releasedate","researchdate","level","symbol","id"],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},symbol:[i.HQChart.Symbol],start:0,end:this.MaxReqeustDataCount},method:"post",dataType:"json",success:function(t){a.RecvData(t,i)}}),!0},this.RecvData=function(t,e){var a=t.data;if(a&&a.list&&!(a.list.length<=0)){for(var i in a.list){var r=a.list[i],o=new s;o.ID=r.id,o.Date=r.researchdate,o.InfoType=n.RESEARCH,o.ExtendData={Level:r.level},this.Data.push(o)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function m(){this.newMethod=h,this.newMethod(),delete this.newMethod,this.RequestData=function(t){var a=this,i={HQChart:t};return this.Data=[],e.request({url:r.JSCommonResource_Global_JSChartResource.Domain+r.JSCommonResource_Global_JSChartResource.KLine.Info.BlockTrading.ApiUrl,data:{field:["blocktrading.price","blocktrading.vol","blocktrading.premium","fweek","price"],condition:[{item:["date","int32","gte",this.StartDate]},{item:["blocktrading.vol","int32","gte","0"]}],symbol:[i.HQChart.Symbol],start:0,end:this.MaxReqeustDataCount},method:"post",dataType:"json",success:function(t){a.RecvData(t,i)}}),!0},this.RecvData=function(t,e){var a=t.data;if(a&&a.stock&&1==a.stock.length&&a.stock[0].stockday&&!(a.stock[0].stockday.length<=0)){for(var i in a.stock[0].stockday){var r=a.stock[0].stockday[i],o=new s;o.Date=r.date,o.InfoType=n.BLOCKTRADING,o.ExtendData={Price:r.blocktrading.price,Premium:r.blocktrading.premium,Vol:r.blocktrading.vol,ClosePrice:r.price},r.fweek&&(o.ExtendData.FWeek={},null!=r.fweek.week1&&(o.ExtendData.FWeek.Week1=r.fweek.week1),null!=r.fweek.week4&&(o.ExtendData.FWeek.Week4=r.fweek.week4)),this.Data.push(o)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function f(){this.newMethod=h,this.newMethod(),delete this.newMethod,this.RequestData=function(t){var a=this,i={HQChart:t};return this.Data=[],e.request({url:r.JSCommonResource_Global_JSChartResource.Domain+r.JSCommonResource_Global_JSChartResource.KLine.Info.TradeDetail.ApiUrl,data:{field:["tradedetail.typeexplain","tradedetail.type","fweek"],condition:[{item:["date","int32","gte",this.StartDate]},{item:["tradedetail.type","int32","gte","0"]}],symbol:[i.HQChart.Symbol],start:0,end:this.MaxReqeustDataCount},method:"post",dataType:"json",success:function(t){a.RecvData(t,i)}}),!0},this.RecvData=function(t,e){var a=t.data;if(a&&a.stock&&1==a.stock.length&&a.stock[0].stockday&&!(a.stock[0].stockday.length<=0)){for(var i in a.stock[0].stockday){var r=a.stock[0].stockday[i],o=new s;for(var h in o.Date=r.date,o.InfoType=n.TRADEDETAIL,o.ExtendData={Detail:new Array},r.tradedetail){var l=r.tradedetail[h];o.ExtendData.Detail.push({Type:l.type,TypeExplain:l.typeexplain})}r.fweek&&(o.ExtendData.FWeek={},null!=r.fweek.week1&&(o.ExtendData.FWeek.Week1=r.fweek.week1),null!=r.fweek.week4&&(o.ExtendData.FWeek.Week4=r.fweek.week4)),this.Data.push(o)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function d(){this.newMethod=h,this.newMethod(),delete this.newMethod,this.PolicyList=[],this.SetPolicyList=function(t){for(var e in t)this.PolicyList.push({Name:t[e]})},this.RequestData=function(t){var a=this;this.Data=[];var i={HQChart:t};return e.request({url:r.JSCommonResource_Global_JSChartResource.Domain+r.JSCommonResource_Global_JSChartResource.KLine.Info.Policy.ApiUrl,data:{symbol:[i.HQChart.Symbol],field:["policy"],condition:[{item:["date","int32","gte",this.StartDate,"lte",this.GetToday()]}],start:0,end:this.MaxReqeustDataCount},method:"post",dataType:"json",success:function(t){a.RecvData(t,i)}}),!0},this.RecvData=function(t,e){var a=t.data;if(a.stock&&1==a.stock.length&&a.stock[0].stockday&&!(a.stock[0].stockday.length<=0)){var i=new Set;for(var r in this.PolicyList)i.add(this.PolicyList[r].Name);for(var r in a.stock[0].stockday){var o=a.stock[0].stockday[r],h=new s;for(var l in h.Date=o.date,h.InfoType=n.POLICY,h.ExtendData=[],o.policy){var u=o.policy[l].name;i.has(u)&&h.ExtendData.push({Name:u})}h.ExtendData.length>0&&this.Data.push(h)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw(),e.HQChart.UpdateUICallback&&e.HQChart.UpdateUICallback("RecvPolicyInfoData",this)}}}function D(){}function p(){this.Data,this.ClassName="IMinuteInfo"}function S(){this.newMethod=p,this.newMethod(),delete this.newMethod,this.ClassName="MarketEventInfo",this.RequestData=function(t){var a=this;this.Data=[];var n={HQChart:t},s=r.JSCommonResource_Global_JSChartResource.CacheDomain+"/cache/analyze/shszevent/marketevent/concept/"+t.TradeDate+".json";if(t.NetworkFilter){var o={Name:"MarketEventInfo::RequestData",Explain:"\u5927\u76d8\u5f02\u52a8",Request:{Url:s,Type:"Get",Data:{Date:t.TradeDate,Symbol:t.Symbol}},Self:this,PreventDefault:!1};if(t.NetworkFilter(o,(function(t){a.RecvData(t,n),n.HQChart.UpdataChartInfo(),n.HQChart.Draw()})),1==o.PreventDefault)return}return e.request({url:s,method:"get",dataType:"json",success:function(t){a.RecvData(t,n)},error:function(t,e){i("warn","[MarketEventInfo::RequestData] error, http ",e,t," at umychart.uniapp/umychart.klineinfo.wechat.js:661")}}),!0},this.RecvData=function(t,e){var a=t.data;for(var i in a.event){var r=a.event[i];for(var n in r.data){var s=r.data[n];if(!(s.length<2)){var o={Date:r.date,Time:s[0],Title:s[1],Type:0};this.Data.push(o)}}}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}o.Get=function(t){var e=new Map([["\u4e92\u52a8\u6613",{Create:function(){return new l}}],["\u516c\u544a",{Create:function(){return new u}}],["\u4e1a\u7ee9\u9884\u544a",{Create:function(){return new c}}],["\u8c03\u7814",{Create:function(){return new C}}],["\u5927\u5b97\u4ea4\u6613",{Create:function(){return new m}}],["\u9f99\u864e\u699c",{Create:function(){return new f}}],["\u7b56\u7565\u9009\u80a1",{Create:function(){return new d}}]]);return e.get(t)},D.InfoMap=new Map([["\u5927\u76d8\u5f02\u52a8",{Create:function(){return new S}}]]),D.Get=function(t){return D.InfoMap.get(t)},t.exports={JSCommonKLineInfo:{JSKLineInfoMap:o,KLINE_INFO_TYPE:n,JSMinuteInfoMap:D},JSCommon_JSKLineInfoMap:o,JSCommon_KLINE_INFO_TYPE:n,JSCommon_JSMinuteInfoMap:D}}).call(this,a("fe07")["default"],a("0de9")["default"])},a51a:function(t,e,a){"use strict";a.r(e);var i=a("7a46"),r=a("4a66");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},a634:function(t,e,a){"use strict";a.r(e);var i=a("2a30"),r=a("9c9f");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},a697:function(t,e,a){"use strict";a.r(e);var i=a("27c2");for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);var n,s,o,h,l=a("f0c5"),u=Object(l["a"])(i["default"],n,s,!1,null,null,null,!1,o,h);e["default"]=u.exports},a793:function(t,e){function a(){}a.MeasureText=function(t,e){var a=e.font,i=12,r=a.search("px");if(r>0){var n=a.substring(0,r);i=parseInt(n)}t=String(t);t=t.split("");for(var s=0,o=0;o<t.length;o++){var h=t[o];/[a-zA-Z]/.test(h)?s+=7:/[0-9]/.test(h)?s+=5.5:/\./.test(h)?s+=2.7:/-/.test(h)?s+=3.25:/[\u4e00-\u9fa5]/.test(h)?s+=10:/\(|\)/.test(h)?s+=3.73:/\s/.test(h)?s+=2.5:/%/.test(h)?s+=8:s+=10}return s*i/10},t.exports={JSCommonUniApp:{JSUniAppCanvasHelper:a}}},a83c:function(t,e,a){"use strict";a.r(e);var i=a("7e0e"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},a9ff:function(t,e,a){"use strict";(function(t,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a("a34a")),s=a("78b5");function o(t){return t&&t.__esModule?t:{default:t}}function h(t,e,a,i,r,n,s){try{var o=t[n](s),h=o.value}catch(l){return void a(l)}o.done?e(h):Promise.resolve(h).then(i,r)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(i,r){var n=t.apply(e,a);function s(t){h(n,i,r,s,o,"next",t)}function o(t){h(n,i,r,s,o,"throw",t)}s(void 0)}))}}function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){T(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function C(t){return d(t)||f(t)||p(t)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(t){if(Array.isArray(t))return S(t)}function D(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=p(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,n=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw n}}}}function p(t,e){if(t){if("string"===typeof t)return S(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?S(t,e):void 0}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function v(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e,a){return e&&v(t.prototype,e),a&&v(t,a),t}function T(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}function A(t){var e=E();return function(){var a,i=w(t);if(e){var r=w(this).constructor;a=Reflect.construct(i,arguments,r)}else a=i.apply(this,arguments);return F(this,a)}}function F(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t){var e="function"===typeof Map?new Map:void 0;return L=function(t){if(null===t||!N(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return M(t,arguments,w(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_(a,t)},L(t)}function M(t,e,a){return M=E()?Reflect.construct:function(t,e,a){var i=[null];i.push.apply(i,e);var r=Function.bind.apply(t,i),n=new r;return a&&_(n,a.prototype),n},M.apply(null,arguments)}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function N(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _(t,e){return _=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function O(t,e,a){return t(a={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&a.path)}},a.exports),a.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;var R=O((function(t,e){var a;t.exports=(a=a||function(t,e){var a=Object.create||function(){function t(){}return function(e){var a;return t.prototype=e,a=new t,t.prototype=null,a}}(),i={},r=i.lib={},n=r.Base={extend:function(t){var e=a(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=r.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,a=t.words,i=this.sigBytes,r=t.sigBytes;if(this.clamp(),i%4)for(var n=0;n<r;n++){var s=a[n>>>2]>>>24-n%4*8&255;e[i+n>>>2]|=s<<24-(i+n)%4*8}else for(n=0;n<r;n+=4)e[i+n>>>2]=a[n>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,a=this.sigBytes;e[a>>>2]&=4294967295<<32-a%4*8,e.length=t.ceil(a/4)},clone:function(){var t=n.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var a,i=[],r=function(e){e=e;var a=987654321,i=4294967295;return function(){var r=((a=36969*(65535&a)+(a>>16)&i)<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i;return r/=4294967296,(r+=.5)*(t.random()>.5?1:-1)}},n=0;n<e;n+=4){var o=r(4294967296*(a||t.random()));a=987654071*o(),i.push(4294967296*o()|0)}return new s.init(i,e)}}),o=i.enc={},h=o.Hex={stringify:function(t){for(var e=t.words,a=t.sigBytes,i=[],r=0;r<a;r++){var n=e[r>>>2]>>>24-r%4*8&255;i.push((n>>>4).toString(16)),i.push((15&n).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,a=[],i=0;i<e;i+=2)a[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new s.init(a,e/2)}},l=o.Latin1={stringify:function(t){for(var e=t.words,a=t.sigBytes,i=[],r=0;r<a;r++){var n=e[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(n))}return i.join("")},parse:function(t){for(var e=t.length,a=[],i=0;i<e;i++)a[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new s.init(a,e)}},u=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},c=r.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var a=this._data,i=a.words,r=a.sigBytes,n=this.blockSize,o=r/(4*n),h=(o=e?t.ceil(o):t.max((0|o)-this._minBufferSize,0))*n,l=t.min(4*h,r);if(h){for(var u=0;u<h;u+=n)this._doProcessBlock(i,u);var c=i.splice(0,h);a.sigBytes-=l}return new s.init(c,l)},clone:function(){var t=n.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),C=(r.Hasher=c.extend({cfg:n.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,a){return new t.init(a).finalize(e)}},_createHmacHelper:function(t){return function(e,a){return new C.HMAC.init(t,a).finalize(e)}}}),i.algo={});return i}(Math),a)})),P=(O((function(t,e){var a;t.exports=(a=R,function(t){var e=a,i=e.lib,r=i.WordArray,n=i.Hasher,s=e.algo,o=[];!function(){for(var e=0;e<64;e++)o[e]=4294967296*t.abs(t.sin(e+1))|0}();var h=s.MD5=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var a=0;a<16;a++){var i=e+a,r=t[i];t[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var n=this._hash.words,s=t[e+0],h=t[e+1],m=t[e+2],f=t[e+3],d=t[e+4],D=t[e+5],p=t[e+6],S=t[e+7],v=t[e+8],g=t[e+9],T=t[e+10],I=t[e+11],x=t[e+12],A=t[e+13],F=t[e+14],y=t[e+15],L=n[0],M=n[1],E=n[2],N=n[3];L=l(L,M,E,N,s,7,o[0]),N=l(N,L,M,E,h,12,o[1]),E=l(E,N,L,M,m,17,o[2]),M=l(M,E,N,L,f,22,o[3]),L=l(L,M,E,N,d,7,o[4]),N=l(N,L,M,E,D,12,o[5]),E=l(E,N,L,M,p,17,o[6]),M=l(M,E,N,L,S,22,o[7]),L=l(L,M,E,N,v,7,o[8]),N=l(N,L,M,E,g,12,o[9]),E=l(E,N,L,M,T,17,o[10]),M=l(M,E,N,L,I,22,o[11]),L=l(L,M,E,N,x,7,o[12]),N=l(N,L,M,E,A,12,o[13]),E=l(E,N,L,M,F,17,o[14]),L=u(L,M=l(M,E,N,L,y,22,o[15]),E,N,h,5,o[16]),N=u(N,L,M,E,p,9,o[17]),E=u(E,N,L,M,I,14,o[18]),M=u(M,E,N,L,s,20,o[19]),L=u(L,M,E,N,D,5,o[20]),N=u(N,L,M,E,T,9,o[21]),E=u(E,N,L,M,y,14,o[22]),M=u(M,E,N,L,d,20,o[23]),L=u(L,M,E,N,g,5,o[24]),N=u(N,L,M,E,F,9,o[25]),E=u(E,N,L,M,f,14,o[26]),M=u(M,E,N,L,v,20,o[27]),L=u(L,M,E,N,A,5,o[28]),N=u(N,L,M,E,m,9,o[29]),E=u(E,N,L,M,S,14,o[30]),L=c(L,M=u(M,E,N,L,x,20,o[31]),E,N,D,4,o[32]),N=c(N,L,M,E,v,11,o[33]),E=c(E,N,L,M,I,16,o[34]),M=c(M,E,N,L,F,23,o[35]),L=c(L,M,E,N,h,4,o[36]),N=c(N,L,M,E,d,11,o[37]),E=c(E,N,L,M,S,16,o[38]),M=c(M,E,N,L,T,23,o[39]),L=c(L,M,E,N,A,4,o[40]),N=c(N,L,M,E,s,11,o[41]),E=c(E,N,L,M,f,16,o[42]),M=c(M,E,N,L,p,23,o[43]),L=c(L,M,E,N,g,4,o[44]),N=c(N,L,M,E,x,11,o[45]),E=c(E,N,L,M,y,16,o[46]),L=C(L,M=c(M,E,N,L,m,23,o[47]),E,N,s,6,o[48]),N=C(N,L,M,E,S,10,o[49]),E=C(E,N,L,M,F,15,o[50]),M=C(M,E,N,L,D,21,o[51]),L=C(L,M,E,N,x,6,o[52]),N=C(N,L,M,E,f,10,o[53]),E=C(E,N,L,M,T,15,o[54]),M=C(M,E,N,L,h,21,o[55]),L=C(L,M,E,N,v,6,o[56]),N=C(N,L,M,E,y,10,o[57]),E=C(E,N,L,M,p,15,o[58]),M=C(M,E,N,L,A,21,o[59]),L=C(L,M,E,N,d,6,o[60]),N=C(N,L,M,E,I,10,o[61]),E=C(E,N,L,M,m,15,o[62]),M=C(M,E,N,L,g,21,o[63]),n[0]=n[0]+L|0,n[1]=n[1]+M|0,n[2]=n[2]+E|0,n[3]=n[3]+N|0},_doFinalize:function(){var e=this._data,a=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;a[r>>>5]|=128<<24-r%32;var n=t.floor(i/4294967296),s=i;a[15+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),a[14+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(a.length+1),this._process();for(var o=this._hash,h=o.words,l=0;l<4;l++){var u=h[l];h[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return o},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});function l(t,e,a,i,r,n,s){var o=t+(e&a|~e&i)+r+s;return(o<<n|o>>>32-n)+e}function u(t,e,a,i,r,n,s){var o=t+(e&i|a&~i)+r+s;return(o<<n|o>>>32-n)+e}function c(t,e,a,i,r,n,s){var o=t+(e^a^i)+r+s;return(o<<n|o>>>32-n)+e}function C(t,e,a,i,r,n,s){var o=t+(a^(e|~i))+r+s;return(o<<n|o>>>32-n)+e}e.MD5=n._createHelper(h),e.HmacMD5=n._createHmacHelper(h)}(Math),a.MD5)})),O((function(t,e){var a,i,r;t.exports=(i=(a=R).lib.Base,r=a.enc.Utf8,void(a.algo.HMAC=i.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var a=t.blockSize,i=4*a;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var n=this._oKey=e.clone(),s=this._iKey=e.clone(),o=n.words,h=s.words,l=0;l<a;l++)o[l]^=1549556828,h[l]^=909522486;n.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,a=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(a))}})))})),O((function(t,e){t.exports=R.HmacMD5})));function B(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function G(t){return"object"===B(t)}var k=function(t){x(a,t);var e=A(a);function a(t,i){var r;return I(this,a),r=e.call(this,t),r.code=i,r}return a}(L(Error)),V=["invoke","success","fail","complete"],H={};function J(t,e){H[t]||(H[t]={}),G(e)&&Object.keys(e).forEach((function(a){V.indexOf(a)>-1&&function(t,e,a){var i=H[t][e];i||(i=H[t][e]=[]),-1===i.indexOf(a)&&"function"==typeof a&&i.push(a)}(t,a,e[a])}))}function U(t,e){H[t]||(H[t]={}),G(e)?Object.keys(e).forEach((function(a){V.indexOf(a)>-1&&function(t,e,a){var i=H[t][e];if(i){var r=i.indexOf(a);r>-1&&i.splice(r,1)}}(t,a,e[a])})):delete H[t]}function W(t,e){return t&&0!==t.length?t.reduce((function(t,a){return t.then((function(){return a(e)}))}),Promise.resolve()):Promise.resolve()}function Y(t,e){return H[t]&&H[t][e]||[]}function X(t,e){return e?function(a){var i,r=this,n="callFunction"===e&&"DCloud-clientDB"===(a&&a.name);i=this.isReady?Promise.resolve():this.initUniCloud,a=a||{};var s=i.then((function(){return n?Promise.resolve():W(Y(e,"invoke"),a)})).then((function(){return t.call(r,a)})).then((function(t){return n?Promise.resolve(t):W(Y(e,"success"),t).then((function(){return W(Y(e,"complete"),t)})).then((function(){return Promise.resolve(t)}))}),(function(t){return n?Promise.reject(t):W(Y(e,"fail"),t).then((function(){return W(Y(e,"complete"),t)})).then((function(){return Promise.reject(t)}))}));if(!(a.success||a.fail||a.complete))return s;s.then((function(t){a.success&&a.success(t),a.complete&&a.complete(t)})).catch((function(t){a.fail&&a.fail(t),a.complete&&a.complete(t)}))}:function(e){if(!((e=e||{}).success||e.fail||e.complete))return t.call(this,e);t.call(this,e).then((function(t){e.success&&e.success(t),e.complete&&e.complete(t)}),(function(t){e.fail&&e.fail(t),e.complete&&e.complete(t)}))}}var K=function(t){x(a,t);var e=A(a);function a(t){var i;return I(this,a),i=e.call(this,t.message),i.errMsg=t.message||"",Object.defineProperties(y(i),{code:{get:function(){return t.code}},requestId:{get:function(){return t.requestId}},message:{get:function(){return this.errMsg},set:function(t){this.errMsg=t}}}),i}return a}(L(Error)),z=(0,s.initVueI18n)({"zh-Hans":{"uniCloud.init.paramRequired":"\u7f3a\u5c11\u53c2\u6570\uff1a{param}","uniCloud.uploadFile.fileError":"filePath\u5e94\u4e3aFile\u5bf9\u8c61"},"zh-Hant":{"uniCloud.init.paramRequired":"\u7f3a\u5c11\u53c2\u6570\uff1a{param}","uniCloud.uploadFile.fileError":"filePath\u5e94\u4e3aFile\u5bf9\u8c61"},en:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},fr:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},es:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"}},"zh-Hans"),$=z.t,q=(z.setLocale,z.getLocale);function j(t){return t&&"string"==typeof t?JSON.parse(t):t}var Z,Q,tt,et=!1,at="app-plus",it=j(void 0),rt=j([]),nt=!0;try{Z=a("da66").default||a("da66")}catch(We){Z={appid:""}}function st(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,e="";e.length<t;)e+=Math.random().toString(32).substring(2);return e.substring(0,t)}function ot(){var t=uni.getSystemInfoSync(),e=t.deviceId;return{PLATFORM:at,OS:tt,APPID:Z.appid,LOCALE:q(),DEVICEID:e,CLIENT_SDK_VERSION:"1.0.4"}}function ht(){if("n"===lt()){try{Q=plus.runtime.getDCloudId()}catch(We){Q=""}return Q}return Q||(Q=st(32),uni.setStorage({key:"__DC_CLOUD_UUID",data:Q})),Q}function lt(){var t;return(t={"app-plus":"n",h5:"h5","mp-weixin":"wx"},T(t,["y","a","p","mp-ali"].reverse().join(""),"ali"),T(t,"mp-baidu","bd"),T(t,"mp-toutiao","tt"),T(t,"mp-qq","qq"),T(t,"quickapp-native","qn"),t)[at]}var ut,ct={sign:function(t,e){var a="";return Object.keys(t).sort().forEach((function(e){t[e]&&(a=a+"&"+e+"="+t[e])})),a=a.slice(1),P(a,e).toString()},wrappedRequest:function(t,e){return new Promise((function(a,i){e(Object.assign(t,{complete:function(t){t||(t={}),et&&"h5"===at&&t.errMsg&&0===t.errMsg.indexOf("request:fail")&&console.warn("\u53d1\u5e03H5\uff0c\u9700\u8981\u5728uniCloud\u540e\u53f0\u64cd\u4f5c\uff0c\u7ed1\u5b9a\u5b89\u5168\u57df\u540d\uff0c\u5426\u5219\u4f1a\u56e0\u4e3a\u8de8\u57df\u95ee\u9898\u800c\u65e0\u6cd5\u8bbf\u95ee\u3002\u6559\u7a0b\u53c2\u8003\uff1ahttps://uniapp.dcloud.io/uniCloud/quickstart?id=useinh5");var e=t.data&&t.data.header&&t.data.header["x-serverless-request-id"]||t.header&&t.header["request-id"];if(!t.statusCode||t.statusCode>=400)return i(new K({code:"SYS_ERR",message:t.errMsg||"request:fail",requestId:e}));var r=t.data;if(r.error)return i(new K({code:r.error.code,message:r.error.message,requestId:e}));r.result=r.data,r.requestId=e,delete r.data,a(r)}}))}))}},Ct={request:function(t){return uni.request(t)},uploadFile:function(t){return uni.uploadFile(t)},setStorageSync:function(t,e){return uni.setStorageSync(t,e)},getStorageSync:function(t){return uni.getStorageSync(t)},removeStorageSync:function(t){return uni.removeStorageSync(t)},clearStorageSync:function(){return uni.clearStorageSync()}},mt=function(){function t(e){I(this,t),["spaceId","clientSecret"].forEach((function(t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error($("uniCloud.init.paramRequired",{param:t}))})),this.config=Object.assign({},{endpoint:"https://api.bspapp.com"},e),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=Ct,this._getAccessTokenPromise=null,this._getAccessTokenPromiseStatus=null}return g(t,[{key:"setAccessToken",value:function(t){this.accessToken=t}},{key:"requestWrapped",value:function(t){return ct.wrappedRequest(t,this.adapter.request)}},{key:"requestAuth",value:function(t){return this.requestWrapped(t)}},{key:"request",value:function(t,e){var a=this;return Promise.resolve().then((function(){return a.hasAccessToken?e?a.requestWrapped(t):a.requestWrapped(t).catch((function(e){return new Promise((function(t,a){!e||"GATEWAY_INVALID_TOKEN"!==e.code&&"InvalidParameter.InvalidToken"!==e.code?a(e):t()})).then((function(){return a.getAccessToken()})).then((function(){var e=a.rebuildRequest(t);return a.request(e,!0)}))})):a.getAccessToken().then((function(){var e=a.rebuildRequest(t);return a.request(e,!0)}))}))}},{key:"rebuildRequest",value:function(t){var e=Object.assign({},t);return e.data.token=this.accessToken,e.header["x-basement-token"]=this.accessToken,e.header["x-serverless-sign"]=ct.sign(e.data,this.config.clientSecret),e}},{key:"setupRequest",value:function(t,e){var a=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};return"auth"!==e&&(a.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=ct.sign(a,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:a,dataType:"json",header:i}}},{key:"getAccessToken",value:function(){var t=this;return"pending"===this._getAccessTokenPromiseStatus||(this._getAccessTokenPromiseStatus="pending",this._getAccessTokenPromise=this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then((function(e){return new Promise((function(a,i){e.result&&e.result.accessToken?(t.setAccessToken(e.result.accessToken),t._getAccessTokenPromiseStatus="fulfilled",a(t.accessToken)):(t._getAccessTokenPromiseStatus="rejected",i(new K({code:"AUTH_FAILED",message:"\u83b7\u53d6accessToken\u5931\u8d25"})))}))}),(function(e){return t._getAccessTokenPromiseStatus="rejected",Promise.reject(e)}))),this._getAccessTokenPromise}},{key:"authorize",value:function(){this.getAccessToken()}},{key:"callFunction",value:function(t){var e={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:t.name,functionArgs:t.data||{}})};return this.request(this.setupRequest(e))}},{key:"getOSSUploadOptionsFromPath",value:function(t){var e={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}},{key:"uploadFileToOSS",value:function(t){var e=this,a=t.url,i=t.formData,r=t.name,n=t.filePath,s=t.fileType,o=t.onUploadProgress;return new Promise((function(t,h){var l=e.adapter.uploadFile({url:a,formData:i,name:r,filePath:n,fileType:s,header:{"X-OSS-server-side-encrpytion":"AES256"},success:function(e){e&&e.statusCode<400?t(e):h(new K({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(t){h(new K({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof o&&l&&"function"==typeof l.onProgressUpdate&&l.onProgressUpdate((function(t){o({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}},{key:"reportOSSUpload",value:function(t){var e={method:"serverless.file.resource.report",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}},{key:"uploadFile",value:function(t){var e=this,a=t.filePath,i=t.cloudPath,r=t.fileType,n=void 0===r?"image":r,s=t.onUploadProgress,o=t.config;if(!i)throw new K({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});var h,l,u=o&&o.envType||this.config.envType;return this.getOSSUploadOptionsFromPath({env:u,filename:i}).then((function(t){var i=t.result;h=i.id,l="https://"+i.cdnDomain+"/"+i.ossPath;var r={url:"https://"+i.host,formData:{"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:i.accessKeyId,Signature:i.signature,host:i.host,id:h,key:i.ossPath,policy:i.policy,success_action_status:200},fileName:"file",name:"file",filePath:a,fileType:n};return e.uploadFileToOSS(Object.assign({},r,{onUploadProgress:s}))})).then((function(){return e.reportOSSUpload({id:h})})).then((function(t){return new Promise((function(e,i){t.success?e({success:!0,filePath:a,fileID:l}):i(new K({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}))}))}},{key:"deleteFile",value:function(t){var e=t.fileList,a={method:"serverless.file.resource.delete",params:JSON.stringify({id:e[0]})};return this.request(this.setupRequest(a))}},{key:"getTempFileURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fileList;return new Promise((function(t,a){Array.isArray(e)&&0!==e.length||a(new K({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"})),t({fileList:e.map((function(t){return{fileID:t,tempFileURL:t}}))})}))}},{key:"hasAccessToken",get:function(){return!!this.accessToken}}]),t}(),ft={init:function(t){var e=new mt(t),a={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return a},e.customAuth=e.auth,e}},dt="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:",Dt="//tcb-api.tencentcloudapi.com/web";!function(t){t.local="local",t.none="none",t.session="session"}(ut||(ut={}));var pt,St=function(){},vt=function(){var t;if(!Promise){t=function(){},t.promise={};var e=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(t.promise,"then",{get:e}),Object.defineProperty(t.promise,"catch",{get:e}),t}var a=new Promise((function(e,a){t=function(t,i){return t?a(t):e(i)}}));return t.promise=a,t};function gt(t){return void 0===t}function Tt(t){return"[object Null]"===Object.prototype.toString.call(t)}function It(t){var e,a,i=(e=t,"[object Array]"===Object.prototype.toString.call(e)?t:[t]),r=D(i);try{for(r.s();!(a=r.n()).done;){var n=a.value,s=n.isMatch,o=n.genAdapter,h=n.runtime;if(s())return{adapter:o(),runtime:h}}}catch(l){r.e(l)}finally{r.f()}}!function(t){t.WEB="web",t.WX_MP="wx_mp"}(pt||(pt={}));var xt={adapter:null,runtime:void 0},At=["anonymousUuidKey"],Ft=function(t){x(a,t);var e=A(a);function a(){var t;return I(this,a),t=e.call(this),xt.adapter.root.tcbObject||(xt.adapter.root.tcbObject={}),t}return g(a,[{key:"setItem",value:function(t,e){xt.adapter.root.tcbObject[t]=e}},{key:"getItem",value:function(t){return xt.adapter.root.tcbObject[t]}},{key:"removeItem",value:function(t){delete xt.adapter.root.tcbObject[t]}},{key:"clear",value:function(){delete xt.adapter.root.tcbObject}}]),a}(St);function yt(t,e){switch(t){case"local":return e.localStorage||new Ft;case"none":return new Ft;default:return e.sessionStorage||new Ft}}var Lt=function(){function t(e){if(I(this,t),!this._storage){this._persistence=xt.adapter.primaryStorage||e.persistence,this._storage=yt(this._persistence,xt.adapter);var a="access_token_"+e.env,i="access_token_expire_"+e.env,r="refresh_token_"+e.env,n="anonymous_uuid_"+e.env,s="login_type_"+e.env,o="user_info_"+e.env;this.keys={accessTokenKey:a,accessTokenExpireKey:i,refreshTokenKey:r,anonymousUuidKey:n,loginTypeKey:s,userInfoKey:o}}}return g(t,[{key:"updatePersistence",value:function(t){if(t!==this._persistence){var e="local"===this._persistence;this._persistence=t;var a=yt(t,xt.adapter);for(var i in this.keys){var r=this.keys[i];if(!e||!At.includes(i)){var n=this._storage.getItem(r);gt(n)||Tt(n)||(a.setItem(r,n),this._storage.removeItem(r))}}this._storage=a}}},{key:"setStore",value:function(t,e,a){if(this._storage){var i={version:a||"localCachev1",content:e},r=JSON.stringify(i);try{this._storage.setItem(t,r)}catch(t){throw t}}}},{key:"getStore",value:function(t,e){try{if(!this._storage)return}catch(t){return""}e=e||"localCachev1";var a=this._storage.getItem(t);return a&&a.indexOf(e)>=0?JSON.parse(a).content:""}},{key:"removeStore",value:function(t){this._storage.removeItem(t)}}]),t}(),Mt={},Et={};function Nt(t){return Mt[t]}var _t=function t(e,a){I(this,t),this.data=a||null,this.name=e},wt=function(t){x(a,t);var e=A(a);function a(t,i){var r;return I(this,a),r=e.call(this,"error",{error:t,data:i}),r.error=t,r}return a}(_t),bt=new(function(){function t(){I(this,t),this._listeners={}}return g(t,[{key:"on",value:function(t,e){return function(t,e,a){a[t]=a[t]||[],a[t].push(e)}(t,e,this._listeners),this}},{key:"off",value:function(t,e){return function(t,e,a){if(a&&a[t]){var i=a[t].indexOf(e);-1!==i&&a[t].splice(i,1)}}(t,e,this._listeners),this}},{key:"fire",value:function(t,e){if(t instanceof wt)return console.error(t.error),this;var a="string"==typeof t?new _t(t,e||{}):t,i=a.name;if(this._listens(i)){a.target=this;var r,n=this._listeners[i]?C(this._listeners[i]):[],s=D(n);try{for(s.s();!(r=s.n()).done;){var o=r.value;o.call(this,a)}}catch(h){s.e(h)}finally{s.f()}}return this}},{key:"_listens",value:function(t){return this._listeners[t]&&this._listeners[t].length>0}}]),t}());function Ot(t,e){bt.on(t,e)}function Rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bt.fire(t,e)}function Pt(t,e){bt.off(t,e)}var Bt,Gt="loginStateChanged",kt="loginStateExpire",Vt="loginTypeChanged",Ht="anonymousConverted",Jt="refreshAccessToken";!function(t){t.ANONYMOUS="ANONYMOUS",t.WECHAT="WECHAT",t.WECHAT_PUBLIC="WECHAT-PUBLIC",t.WECHAT_OPEN="WECHAT-OPEN",t.CUSTOM="CUSTOM",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.NULL="NULL"}(Bt||(Bt={}));var Ut=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],Wt={"X-SDK-Version":"1.3.5"};function Yt(t,e,a){var i=t[e];t[e]=function(e){var r={},n={};a.forEach((function(a){var i=a.call(t,e),s=i.data,o=i.headers;Object.assign(r,s),Object.assign(n,o)}));var s=e.data;return s&&function(){var t;if(t=s,"[object FormData]"!==Object.prototype.toString.call(t))e.data=c(c({},s),r);else for(var a in r)s.append(a,r[a])}(),e.headers=c(c({},e.headers||{}),n),i.call(t,e)}}function Xt(){var t=Math.random().toString(16).slice(2);return{data:{seqId:t},headers:c(c({},Wt),{},{"x-seqid":t})}}var Kt=function(){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};I(this,t),this.config=a,this._reqClass=new xt.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"\u8bf7\u6c42\u5728".concat(this.config.timeout/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad"),restrictedMethods:["post"]}),this._cache=Nt(this.config.env),this._localCache=(e=this.config.env,Et[e]),Yt(this._reqClass,"post",[Xt]),Yt(this._reqClass,"upload",[Xt]),Yt(this._reqClass,"download",[Xt])}return g(t,[{key:"post",value:function(){var t=l(n.default.mark((function t(e){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.post(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"upload",value:function(){var t=l(n.default.mark((function t(e){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.upload(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"download",value:function(){var t=l(n.default.mark((function t(e){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.download(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"refreshAccessToken",value:function(){var t=l(n.default.mark((function t(){var e,a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),t.prev=1,t.next=4,this._refreshAccessTokenPromise;case 4:e=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),a=t.t0;case 10:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,!a){t.next=12;break}throw a;case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"_refreshAccessToken",value:function(){var t=l(n.default.mark((function t(){var e,a,i,r,s,o,h,l,u,c,C,m,f;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this._cache.keys,a=e.accessTokenKey,i=e.accessTokenExpireKey,r=e.refreshTokenKey,s=e.loginTypeKey,o=e.anonymousUuidKey,this._cache.removeStore(a),this._cache.removeStore(i),h=this._cache.getStore(r),h){t.next=5;break}throw new Error("\u672a\u767b\u5f55CloudBase");case 5:return l={refresh_token:h},t.next=8,this.request("auth.fetchAccessTokenWithRefreshToken",l);case 8:if(u=t.sent,!u.data.code){t.next=21;break}if(c=u.data.code,"SIGN_PARAM_INVALID"!==c&&"REFRESH_TOKEN_EXPIRED"!==c&&"INVALID_REFRESH_TOKEN"!==c){t.next=20;break}if(this._cache.getStore(s)!==Bt.ANONYMOUS||"INVALID_REFRESH_TOKEN"!==c){t.next=19;break}return C=this._cache.getStore(o),m=this._cache.getStore(r),t.next=17,this.send("auth.signInAnonymously",{anonymous_uuid:C,refresh_token:m});case 17:return f=t.sent,t.abrupt("return",(this.setRefreshToken(f.refresh_token),this._refreshAccessToken()));case 19:Rt(kt),this._cache.removeStore(r);case 20:throw new Error("\u5237\u65b0access token\u5931\u8d25\uff1a"+u.data.code);case 21:if(!u.data.access_token){t.next=23;break}return t.abrupt("return",(Rt(Jt),this._cache.setStore(a,u.data.access_token),this._cache.setStore(i,u.data.access_token_expire+Date.now()),{accessToken:u.data.access_token,accessTokenExpire:u.data.access_token_expire}));case 23:u.data.refresh_token&&(this._cache.removeStore(r),this._cache.setStore(r,u.data.refresh_token),this._refreshAccessToken());case 24:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getAccessToken",value:function(){var t=l(n.default.mark((function t(){var e,a,i,r,s,o,h;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this._cache.keys,a=e.accessTokenKey,i=e.accessTokenExpireKey,r=e.refreshTokenKey,this._cache.getStore(r)){t.next=3;break}throw new Error("refresh token\u4e0d\u5b58\u5728\uff0c\u767b\u5f55\u72b6\u6001\u5f02\u5e38");case 3:if(s=this._cache.getStore(a),o=this._cache.getStore(i),h=!0,t.t0=this._shouldRefreshAccessTokenHook,!t.t0){t.next=9;break}return t.next=8,this._shouldRefreshAccessTokenHook(s,o);case 8:t.t0=!t.sent;case 9:if(t.t1=t.t0,!t.t1){t.next=12;break}h=!1;case 12:return t.abrupt("return",(!s||!o||o<Date.now())&&h?this.refreshAccessToken():{accessToken:s,accessTokenExpire:o});case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"request",value:function(){var t=l(n.default.mark((function t(e,a,i){var r,s,o,h,l,u,C,m,f,d,D,p,S,v,g,T;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r="x-tcb-trace_"+this.config.env,s="application/x-www-form-urlencoded",o=c({action:e,env:this.config.env,dataVersion:"2019-08-16"},a),-1!==Ut.indexOf(e)){t.next=10;break}if(h=this._cache.keys.refreshTokenKey,t.t0=this._cache.getStore(h),!t.t0){t.next=10;break}return t.next=9,this.getAccessToken();case 9:o.access_token=t.sent.accessToken;case 10:if("storage.uploadFile"===e){for(u in l=new FormData,l)l.hasOwnProperty(u)&&void 0!==l[u]&&l.append(u,o[u]);s="multipart/form-data"}else for(C in s="application/json;charset=UTF-8",l={},o)void 0!==o[C]&&(l[C]=o[C]);return m={headers:{"content-type":s}},i&&i.onUploadProgress&&(m.onUploadProgress=i.onUploadProgress),f=this._localCache.getStore(r),f&&(m.headers["X-TCB-Trace"]=f),d=a.parse,D=a.inQuery,p=a.search,S={env:this.config.env},d&&(S.parse=!0),D&&(S=c(c({},D),S)),v=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=/\?/.test(e),r="";for(var n in a)""===r?!i&&(e+="?"):r+="&",r+="".concat(n,"=").concat(encodeURIComponent(a[n]));return/^http(s)?\:\/\//.test(e+=r)?e:"".concat(t).concat(e)}(dt,Dt,S),p&&(v+=p),t.next=22,this.post(c({url:v,data:l},m));case 22:if(g=t.sent,T=g.header&&g.header["x-tcb-trace"],T&&this._localCache.setStore(r,T),(200===Number(g.status)||200===Number(g.statusCode))&&g.data){t.next=26;break}throw new Error("network request error");case 26:return t.abrupt("return",g);case 27:case"end":return t.stop()}}),t,this)})));function e(e,a,i){return t.apply(this,arguments)}return e}()},{key:"send",value:function(){var t=l(n.default.mark((function t(e){var a,i,r,s=arguments;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,this.request(e,a,{onUploadProgress:a.onUploadProgress});case 3:if(i=t.sent,"ACCESS_TOKEN_EXPIRED"!==i.data.code||-1!==Ut.indexOf(e)){t.next=13;break}return t.next=7,this.refreshAccessToken();case 7:return t.next=9,this.request(e,a,{onUploadProgress:a.onUploadProgress});case 9:if(r=t.sent,!r.data.code){t.next=12;break}throw new Error("[".concat(r.data.code,"] ").concat(r.data.message));case 12:return t.abrupt("return",r.data);case 13:if(!i.data.code){t.next=15;break}throw new Error("[".concat(i.data.code,"] ").concat(i.data.message));case 15:return t.abrupt("return",i.data);case 16:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"setRefreshToken",value:function(t){var e=this._cache.keys,a=e.accessTokenKey,i=e.accessTokenExpireKey,r=e.refreshTokenKey;this._cache.removeStore(a),this._cache.removeStore(i),this._cache.setStore(r,t)}}]),t}(),zt={};function $t(t){return zt[t]}var qt=function(){function t(e){I(this,t),this.config=e,this._cache=Nt(e.env),this._request=$t(e.env)}return g(t,[{key:"setRefreshToken",value:function(t){var e=this._cache.keys,a=e.accessTokenKey,i=e.accessTokenExpireKey,r=e.refreshTokenKey;this._cache.removeStore(a),this._cache.removeStore(i),this._cache.setStore(r,t)}},{key:"setAccessToken",value:function(t,e){var a=this._cache.keys,i=a.accessTokenKey,r=a.accessTokenExpireKey;this._cache.setStore(i,t),this._cache.setStore(r,e)}},{key:"refreshUserInfo",value:function(){var t=l(n.default.mark((function t(){var e,a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getUserInfo",{});case 2:return e=t.sent,a=e.data,t.abrupt("return",(this.setLocalUserInfo(a),a));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setLocalUserInfo",value:function(t){var e=this._cache.keys.userInfoKey;this._cache.setStore(e,t)}}]),t}(),jt=function(){function t(e){if(I(this,t),!e)throw new Error("envId is not defined");this._envId=e,this._cache=Nt(this._envId),this._request=$t(this._envId),this.setUserInfo()}return g(t,[{key:"linkWithTicket",value:function(t){if("string"!=typeof t)throw new Error("ticket must be string");return this._request.send("auth.linkWithTicket",{ticket:t})}},{key:"linkWithRedirect",value:function(t){t.signInWithRedirect()}},{key:"updatePassword",value:function(t,e){return this._request.send("auth.updatePassword",{oldPassword:e,newPassword:t})}},{key:"updateEmail",value:function(t){return this._request.send("auth.updateEmail",{newEmail:t})}},{key:"updateUsername",value:function(t){if("string"!=typeof t)throw new Error("username must be a string");return this._request.send("auth.updateUsername",{username:t})}},{key:"getLinkedUidList",value:function(){var t=l(n.default.mark((function t(){var e,a,i,r;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getLinkedUidList",{});case 2:return e=t.sent,a=e.data,i=!1,r=a.users,t.abrupt("return",(r.forEach((function(t){t.wxOpenId&&t.wxPublicId&&(i=!0)})),{users:r,hasPrimaryUid:i}));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setPrimaryUid",value:function(t){return this._request.send("auth.setPrimaryUid",{uid:t})}},{key:"unlink",value:function(t){return this._request.send("auth.unlink",{platform:t})}},{key:"update",value:function(){var t=l(n.default.mark((function t(e){var a,i,r,s,o,h,l,u;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.nickName,i=e.gender,r=e.avatarUrl,s=e.province,o=e.country,h=e.city,t.next=8,this._request.send("auth.updateUserInfo",{nickName:a,gender:i,avatarUrl:r,province:s,country:o,city:h});case 8:l=t.sent,u=l.data,this.setLocalUserInfo(u);case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"refresh",value:function(){var t=l(n.default.mark((function t(){var e,a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getUserInfo",{});case 2:return e=t.sent,a=e.data,t.abrupt("return",(this.setLocalUserInfo(a),a));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setUserInfo",value:function(){var t=this,e=this._cache.keys.userInfoKey,a=this._cache.getStore(e);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((function(e){t[e]=a[e]})),this.location={country:a.country,province:a.province,city:a.city}}},{key:"setLocalUserInfo",value:function(t){var e=this._cache.keys.userInfoKey;this._cache.setStore(e,t),this.setUserInfo()}}]),t}(),Zt=function(){function t(e){if(I(this,t),!e)throw new Error("envId is not defined");this._cache=Nt(e);var a=this._cache.keys,i=a.refreshTokenKey,r=a.accessTokenKey,n=a.accessTokenExpireKey,s=this._cache.getStore(i),o=this._cache.getStore(r),h=this._cache.getStore(n);this.credential={refreshToken:s,accessToken:o,accessTokenExpire:h},this.user=new jt(e)}return g(t,[{key:"isAnonymousAuth",get:function(){return this.loginType===Bt.ANONYMOUS}},{key:"isCustomAuth",get:function(){return this.loginType===Bt.CUSTOM}},{key:"isWeixinAuth",get:function(){return this.loginType===Bt.WECHAT||this.loginType===Bt.WECHAT_OPEN||this.loginType===Bt.WECHAT_PUBLIC}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}]),t}(),Qt=function(t){x(a,t);var e=A(a);function a(){return I(this,a),e.apply(this,arguments)}return g(a,[{key:"signIn",value:function(){var t=l(n.default.mark((function t(){var e,a,i,r,s,o,h;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._cache.updatePersistence("local"),e=this._cache.keys,a=e.anonymousUuidKey,i=e.refreshTokenKey,r=this._cache.getStore(a)||void 0,s=this._cache.getStore(i)||void 0,t.next=8,this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:s});case 8:if(o=t.sent,!o.uuid||!o.refresh_token){t.next=20;break}return this._setAnonymousUUID(o.uuid),this.setRefreshToken(o.refresh_token),t.next=14,this._request.refreshAccessToken();case 14:return Rt(Gt),Rt(Vt,{env:this.config.env,loginType:Bt.ANONYMOUS,persistence:"local"}),h=new Zt(this.config.env),t.next=19,h.user.refresh();case 19:return t.abrupt("return",h);case 20:throw new Error("\u533f\u540d\u767b\u5f55\u5931\u8d25");case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"linkAndRetrieveDataWithTicket",value:function(){var t=l(n.default.mark((function t(e){var a,i,r,s,o,h;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this._cache.keys,i=a.anonymousUuidKey,r=a.refreshTokenKey,s=this._cache.getStore(i),o=this._cache.getStore(r),t.next=7,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:s,refresh_token:o,ticket:e});case 7:if(h=t.sent,!h.refresh_token){t.next=16;break}return this._clearAnonymousUUID(),this.setRefreshToken(h.refresh_token),t.next=13,this._request.refreshAccessToken();case 13:return Rt(Ht,{env:this.config.env}),Rt(Vt,{loginType:Bt.CUSTOM,persistence:"local"}),t.abrupt("return",{credential:{refreshToken:h.refresh_token}});case 16:throw new Error("\u533f\u540d\u8f6c\u5316\u5931\u8d25");case 17:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"_setAnonymousUUID",value:function(t){var e=this._cache.keys,a=e.anonymousUuidKey,i=e.loginTypeKey;this._cache.removeStore(a),this._cache.setStore(a,t),this._cache.setStore(i,Bt.ANONYMOUS)}},{key:"_clearAnonymousUUID",value:function(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}]),a}(qt),te=function(t){x(a,t);var e=A(a);function a(){return I(this,a),e.apply(this,arguments)}return g(a,[{key:"signIn",value:function(){var t=l(n.default.mark((function t(e){var a,i;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new Error("ticket must be a string");case 2:return a=this._cache.keys.refreshTokenKey,t.next=5,this._request.send("auth.signInWithTicket",{ticket:e,refresh_token:this._cache.getStore(a)||""});case 5:if(i=t.sent,!i.refresh_token){t.next=15;break}return this.setRefreshToken(i.refresh_token),t.next=10,this._request.refreshAccessToken();case 10:return Rt(Gt),Rt(Vt,{env:this.config.env,loginType:Bt.CUSTOM,persistence:this.config.persistence}),t.next=14,this.refreshUserInfo();case 14:return t.abrupt("return",new Zt(this.config.env));case 15:throw new Error("\u81ea\u5b9a\u4e49\u767b\u5f55\u5931\u8d25");case 16:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),a}(qt),ee=function(t){x(a,t);var e=A(a);function a(){return I(this,a),e.apply(this,arguments)}return g(a,[{key:"signIn",value:function(){var t=l(n.default.mark((function t(e,a){var i,r,s,o,h;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new Error("email must be a string");case 2:return i=this._cache.keys.refreshTokenKey,t.next=5,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:a,refresh_token:this._cache.getStore(i)||""});case 5:if(r=t.sent,s=r.refresh_token,o=r.access_token,h=r.access_token_expire,!s){t.next=22;break}if(this.setRefreshToken(s),!o||!h){t.next=15;break}this.setAccessToken(o,h),t.next=17;break;case 15:return t.next=17,this._request.refreshAccessToken();case 17:return t.next=19,this.refreshUserInfo();case 19:return Rt(Gt),Rt(Vt,{env:this.config.env,loginType:Bt.EMAIL,persistence:this.config.persistence}),t.abrupt("return",new Zt(this.config.env));case 22:throw r.code?new Error("\u90ae\u7bb1\u767b\u5f55\u5931\u8d25: [".concat(r.code,"] ").concat(r.message)):new Error("\u90ae\u7bb1\u767b\u5f55\u5931\u8d25");case 23:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"activate",value:function(){var t=l(n.default.mark((function t(e){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.activateEndUserMail",{token:e}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"resetPasswordWithToken",value:function(){var t=l(n.default.mark((function t(e,a){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:a}));case 1:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()}]),a}(qt),ae=function(t){x(a,t);var e=A(a);function a(){return I(this,a),e.apply(this,arguments)}return g(a,[{key:"signIn",value:function(){var t=l(n.default.mark((function t(e,a){var i,r,s,o,h;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new Error("username must be a string");case 2:return"string"!=typeof a&&(a="",console.warn("password is empty")),i=this._cache.keys.refreshTokenKey,t.next=6,this._request.send("auth.signIn",{loginType:Bt.USERNAME,username:e,password:a,refresh_token:this._cache.getStore(i)||""});case 6:if(r=t.sent,s=r.refresh_token,o=r.access_token_expire,h=r.access_token,!s){t.next=23;break}if(this.setRefreshToken(s),!h||!o){t.next=16;break}this.setAccessToken(h,o),t.next=18;break;case 16:return t.next=18,this._request.refreshAccessToken();case 18:return t.next=20,this.refreshUserInfo();case 20:return Rt(Gt),Rt(Vt,{env:this.config.env,loginType:Bt.USERNAME,persistence:this.config.persistence}),t.abrupt("return",new Zt(this.config.env));case 23:throw r.code?new Error("\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25: [".concat(r.code,"] ").concat(r.message)):new Error("\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25");case 24:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()}]),a}(qt),ie=function(){function t(e){I(this,t),this.config=e,this._cache=Nt(e.env),this._request=$t(e.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),Ot(Vt,this._onLoginTypeChanged)}return g(t,[{key:"anonymousAuthProvider",value:function(){return new Qt(this.config)}},{key:"customAuthProvider",value:function(){return new te(this.config)}},{key:"emailAuthProvider",value:function(){return new ee(this.config)}},{key:"usernameAuthProvider",value:function(){return new ae(this.config)}},{key:"signInAnonymously",value:function(){var t=l(n.default.mark((function t(){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Qt(this.config).signIn());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"signInWithEmailAndPassword",value:function(){var t=l(n.default.mark((function t(e,a){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new ee(this.config).signIn(e,a));case 1:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"signInWithUsernameAndPassword",value:function(t,e){return new ae(this.config).signIn(t,e)}},{key:"linkAndRetrieveDataWithTicket",value:function(){var t=l(n.default.mark((function t(e){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._anonymousAuthProvider||(this._anonymousAuthProvider=new Qt(this.config)),Ot(Ht,this._onAnonymousConverted),t.next=3,this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"signOut",value:function(){var t=l(n.default.mark((function t(){var e,a,i,r,s,o;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loginType!==Bt.ANONYMOUS){t.next=2;break}throw new Error("\u533f\u540d\u7528\u6237\u4e0d\u652f\u6301\u767b\u51fa\u64cd\u4f5c");case 2:if(e=this._cache.keys,a=e.refreshTokenKey,i=e.accessTokenKey,r=e.accessTokenExpireKey,s=this._cache.getStore(a),s){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this._request.send("auth.logout",{refresh_token:s});case 7:return o=t.sent,t.abrupt("return",(this._cache.removeStore(a),this._cache.removeStore(i),this._cache.removeStore(r),Rt(Gt),Rt(Vt,{env:this.config.env,loginType:Bt.NULL,persistence:this.config.persistence}),o));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"signUpWithEmailAndPassword",value:function(){var t=l(n.default.mark((function t(e,a){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:a}));case 1:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"sendPasswordResetEmail",value:function(){var t=l(n.default.mark((function t(e){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.sendPasswordResetEmail",{email:e}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onLoginStateChanged",value:function(t){var e=this;Ot(Gt,(function(){var a=e.hasLoginState();t.call(e,a)}));var a=this.hasLoginState();t.call(this,a)}},{key:"onLoginStateExpired",value:function(t){Ot(kt,t.bind(this))}},{key:"onAccessTokenRefreshed",value:function(t){Ot(Jt,t.bind(this))}},{key:"onAnonymousConverted",value:function(t){Ot(Ht,t.bind(this))}},{key:"onLoginTypeChanged",value:function(t){var e=this;Ot(Vt,(function(){var a=e.hasLoginState();t.call(e,a)}))}},{key:"getAccessToken",value:function(){var t=l(n.default.mark((function t(){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.getAccessToken();case 2:return t.t0=t.sent.accessToken,t.t1=this.config.env,t.abrupt("return",{accessToken:t.t0,env:t.t1});case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"hasLoginState",value:function(){var t=this._cache.keys.refreshTokenKey;return this._cache.getStore(t)?new Zt(this.config.env):null}},{key:"isUsernameRegistered",value:function(){var t=l(n.default.mark((function t(e){var a,i;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new Error("username must be a string");case 2:return t.next=4,this._request.send("auth.isUsernameRegistered",{username:e});case 4:return a=t.sent,i=a.data,t.abrupt("return",i&&i.isRegistered);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getLoginState",value:function(){return Promise.resolve(this.hasLoginState())}},{key:"signInWithTicket",value:function(){var t=l(n.default.mark((function t(e){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new te(this.config).signIn(e));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"shouldRefreshAccessToken",value:function(t){this._request._shouldRefreshAccessTokenHook=t.bind(this)}},{key:"getUserInfo",value:function(){return this._request.send("auth.getUserInfo",{}).then((function(t){return t.code?t:c(c({},t.data),{},{requestId:t.seqId})}))}},{key:"getAuthHeader",value:function(){var t=this._cache.keys,e=t.refreshTokenKey,a=t.accessTokenKey,i=this._cache.getStore(e);return{"x-cloudbase-credentials":this._cache.getStore(a)+"/@@/"+i}}},{key:"_onAnonymousConverted",value:function(t){var e=t.data.env;e===this.config.env&&this._cache.updatePersistence(this.config.persistence)}},{key:"_onLoginTypeChanged",value:function(t){var e=t.data,a=e.loginType,i=e.persistence,r=e.env;r===this.config.env&&(this._cache.updatePersistence(i),this._cache.setStore(this._cache.keys.loginTypeKey,a))}},{key:"currentUser",get:function(){var t=this.hasLoginState();return t&&t.user||null}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}]),t}(),re=function(t,e){e=e||vt();var a=$t(this.config.env),i=t.cloudPath,r=t.filePath,n=t.onUploadProgress,s=t.fileType,o=void 0===s?"image":s;return a.send("storage.getUploadMetadata",{path:i}).then((function(t){var s=t.data,h=s.url,l=s.authorization,u=s.token,c=s.fileId,C=s.cosFileId,m=t.requestId,f={key:i,signature:l,"x-cos-meta-fileid":C,success_action_status:"201","x-cos-security-token":u};a.upload({url:h,data:f,file:r,name:i,fileType:o,onUploadProgress:n}).then((function(t){201===t.statusCode?e(null,{fileID:c,requestId:m}):e(new Error("STORAGE_REQUEST_FAIL: "+t.data))})).catch((function(t){e(t)}))})).catch((function(t){e(t)})),e.promise},ne=function(t,e){e=e||vt();var a=$t(this.config.env),i=t.cloudPath;return a.send("storage.getUploadMetadata",{path:i}).then((function(t){e(null,t)})).catch((function(t){e(t)})),e.promise},se=function(t,e){var a=t.fileList;if(e=e||vt(),!a||!Array.isArray(a))return{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"};var i,r=D(a);try{for(r.s();!(i=r.n()).done;){var n=i.value;if(!n||"string"!=typeof n)return{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"}}}catch(o){r.e(o)}finally{r.f()}var s={fileid_list:a};return $t(this.config.env).send("storage.batchDeleteFile",s).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.delete_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},oe=function(t,e){var a=t.fileList;e=e||vt(),a&&Array.isArray(a)||e(null,{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"});var i,r=[],n=D(a);try{for(n.s();!(i=n.n()).done;){var s=i.value;"object"==typeof s?(s.hasOwnProperty("fileID")&&s.hasOwnProperty("maxAge")||e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5305\u542bfileID\u548cmaxAge\u7684\u5bf9\u8c61"}),r.push({fileid:s.fileID,max_age:s.maxAge})):"string"==typeof s?r.push({fileid:s}):e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5b57\u7b26\u4e32"})}}catch(h){n.e(h)}finally{n.f()}var o={file_list:r};return $t(this.config.env).send("storage.batchGetDownloadUrl",o).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.download_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},he=function(){var t=l(n.default.mark((function t(e,a){var i,r,s,o;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.fileID,t.next=3,oe.call(this,{fileList:[{fileID:i,maxAge:600}]});case 3:if(r=t.sent.fileList[0],"SUCCESS"===r.code){t.next=6;break}return t.abrupt("return",a?a(r):new Promise((function(t){t(r)})));case 6:if(s=$t(this.config.env),o=r.download_url,o=encodeURI(o),a){t.next=10;break}return t.abrupt("return",s.download({url:o}));case 10:return t.t0=a,t.next=13,s.download({url:o});case 13:t.t1=t.sent,(0,t.t0)(t.t1);case 15:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}(),le=function(t,e){var a,i=t.name,r=t.data,n=t.query,s=t.parse,o=t.search,h=e||vt();try{a=r?JSON.stringify(r):""}catch(i){return Promise.reject(i)}if(!i)return Promise.reject(new Error("\u51fd\u6570\u540d\u4e0d\u80fd\u4e3a\u7a7a"));var l={inQuery:n,parse:s,search:o,function_name:i,request_data:a};return $t(this.config.env).send("functions.invokeFunction",l).then((function(t){if(t.code)h(null,t);else{var e=t.data.response_data;if(s)h(null,{result:e,requestId:t.requestId});else try{e=JSON.parse(t.data.response_data),h(null,{result:e,requestId:t.requestId})}catch(t){h(new Error("response data must be json"))}}return h.promise})).catch((function(t){h(t)})),h.promise},ue={timeout:15e3,persistence:"session"},ce={},Ce=function(){function t(e){I(this,t),this.config=e||this.config,this.authObj=void 0}return g(t,[{key:"init",value:function(e){switch(xt.adapter||(this.requestClient=new xt.adapter.reqClass({timeout:e.timeout||5e3,timeoutMsg:"\u8bf7\u6c42\u5728".concat((e.timeout||5e3)/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad")})),this.config=c(c({},ue),e),!0){case this.config.timeout>6e5:console.warn("timeout\u5927\u4e8e\u53ef\u914d\u7f6e\u4e0a\u9650[10\u5206\u949f]\uff0c\u5df2\u91cd\u7f6e\u4e3a\u4e0a\u9650\u6570\u503c"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout\u5c0f\u4e8e\u53ef\u914d\u7f6e\u4e0b\u9650[100ms]\uff0c\u5df2\u91cd\u7f6e\u4e3a\u4e0b\u9650\u6570\u503c"),this.config.timeout=100}return new t(this.config)}},{key:"auth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.persistence;if(this.authObj)return this.authObj;var a,i=e||xt.adapter.primaryStorage||ue.persistence;return i!==this.config.persistence&&(this.config.persistence=i),function(t){var e=t.env;Mt[e]=new Lt(t),Et[e]=new Lt(c(c({},t),{},{persistence:"local"}))}(this.config),a=this.config,zt[a.env]=new Kt(a),this.authObj=new ie(this.config),this.authObj}},{key:"on",value:function(t,e){return Ot.apply(this,[t,e])}},{key:"off",value:function(t,e){return Pt.apply(this,[t,e])}},{key:"callFunction",value:function(t,e){return le.apply(this,[t,e])}},{key:"deleteFile",value:function(t,e){return se.apply(this,[t,e])}},{key:"getTempFileURL",value:function(t,e){return oe.apply(this,[t,e])}},{key:"downloadFile",value:function(t,e){return he.apply(this,[t,e])}},{key:"uploadFile",value:function(t,e){return re.apply(this,[t,e])}},{key:"getUploadMetadata",value:function(t,e){return ne.apply(this,[t,e])}},{key:"registerExtension",value:function(t){ce[t.name]=t}},{key:"invokeExtension",value:function(){var t=l(n.default.mark((function t(e,a){var i;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=ce[e],i){t.next=3;break}throw Error("\u6269\u5c55".concat(e," \u5fc5\u987b\u5148\u6ce8\u518c"));case 3:return t.next=5,i.invoke(a,this);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"useAdapters",value:function(t){var e=It(t)||{},a=e.adapter,i=e.runtime;a&&(xt.adapter=a),i&&(xt.runtime=i)}}]),t}(),me=new Ce;function fe(t,e,a){void 0===a&&(a={});var i=/\?/.test(e),r="";for(var n in a)""===r?!i&&(e+="?"):r+="&",r+=n+"="+encodeURIComponent(a[n]);return/^http(s)?:\/\//.test(e+=r)?e:""+t+e}var de=function(){function t(){I(this,t)}return g(t,[{key:"post",value:function(t){var e=t.url,a=t.data,i=t.headers;return new Promise((function(t,r){Ct.request({url:fe("https:",e),data:a,method:"POST",header:i,success:function(e){t(e)},fail:function(t){r(t)}})}))}},{key:"upload",value:function(t){return new Promise((function(e,a){var i=t.url,r=t.file,n=t.data,s=t.headers,o=t.fileType,h=Ct.uploadFile({url:fe("https:",i),name:"file",formData:Object.assign({},n),filePath:r,fileType:o,header:s,success:function(t){var a={statusCode:t.statusCode,data:t.data||{}};200===t.statusCode&&n.success_action_status&&(a.statusCode=parseInt(n.success_action_status,10)),e(a)},fail:function(t){et&&"mp-alipay"===at&&console.warn("\u652f\u4ed8\u5b9d\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u5de5\u5177\u4e0a\u4f20\u817e\u8baf\u4e91\u65f6\u65e0\u6cd5\u51c6\u786e\u5224\u65ad\u662f\u5426\u4e0a\u4f20\u6210\u529f\uff0c\u8bf7\u4f7f\u7528\u771f\u673a\u6d4b\u8bd5"),a(new Error(t.errMsg||"uploadFile:fail"))}});"function"==typeof t.onUploadProgress&&h&&"function"==typeof h.onProgressUpdate&&h.onProgressUpdate((function(e){t.onUploadProgress({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}}]),t}(),De={setItem:function(t,e){Ct.setStorageSync(t,e)},getItem:function(t){return Ct.getStorageSync(t)},removeItem:function(t){Ct.removeStorageSync(t)},clear:function(){Ct.clearStorageSync()}},pe={genAdapter:function(){return{root:{},reqClass:de,localStorage:De,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};me.useAdapters(pe);var Se=me,ve=Se.init;Se.init=function(t){t.env=t.spaceId;var e=ve.call(this,t);e.config.provider="tencent",e.config.spaceId=t.spaceId;var a=e.auth;return e.auth=function(t){var e=a.call(this,t);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach((function(t){e[t]=X(e[t]).bind(e)})),e},e.customAuth=e.auth,e};var ge,Te,Ie=function(t){x(a,t);var e=A(a);function a(){return I(this,a),e.apply(this,arguments)}return g(a,[{key:"getAccessToken",value:function(){var t=this;return new Promise((function(e,a){t.setAccessToken("Anonymous_Access_token"),e("Anonymous_Access_token")}))}},{key:"setupRequest",value:function(t,e){var a=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};"auth"!==e&&(a.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=ct.sign(a,this.config.clientSecret);var r=ot(),n=r.APPID,s=r.PLATFORM,o=r.DEVICEID,h=r.CLIENT_SDK_VERSION;return i["x-client-platform"]=s,i["x-client-appid"]=n,i["x-client-device-id"]=o,i["x-client-version"]=h,i["x-client-token"]=Ct.getStorageSync("uni_id_token"),{url:this.config.requestUrl,method:"POST",data:a,dataType:"json",header:JSON.parse(JSON.stringify(i))}}},{key:"uploadFileToOSS",value:function(t){var e=this,a=t.url,i=t.formData,r=t.name,n=t.filePath,s=t.fileType,o=t.onUploadProgress;return new Promise((function(t,h){var l=e.adapter.uploadFile({url:a,formData:i,name:r,filePath:n,fileType:s,success:function(e){e&&e.statusCode<400?t(e):h(new K({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(t){h(new K({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof o&&l&&"function"==typeof l.onProgressUpdate&&l.onProgressUpdate((function(t){o({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}},{key:"uploadFile",value:function(t){var e,a=this,i=t.filePath,r=t.cloudPath,n=t.fileType,s=void 0===n?"image":n,o=t.onUploadProgress;if(!r)throw new K({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});return this.getOSSUploadOptionsFromPath({cloudPath:r}).then((function(t){var r=t.result,n=r.url,h=r.formData,l=r.name,u=r.fileUrl;e=u;var c={url:n,formData:h,name:l,filePath:i,fileType:s};return a.uploadFileToOSS(Object.assign({},c,{onUploadProgress:o}))})).then((function(){return a.reportOSSUpload({cloudPath:r})})).then((function(t){return new Promise((function(a,r){t.success?a({success:!0,filePath:i,fileID:e}):r(new K({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}))}))}}]),a}(mt),xe={init:function(t){var e=new Ie(t),a={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return a},e.customAuth=e.auth,e}};function Ae(t){var e=t.name,a=t.data,i=t.spaceId,r=t.provider;ge||(ge=ot(),Te={ak:Z.appid,p:"android"===tt?"a":"i",ut:lt(),uuid:ht()});var n=JSON.parse(JSON.stringify(a||{})),s=e,o=i,h={tencent:"t",aliyun:"a"}[r],l=Object.assign({},Te,{fn:s,sid:o,pvd:h});Object.assign(n,{clientInfo:ge,uniCloudClientInfo:encodeURIComponent(JSON.stringify(l))});var u=uni.getSystemInfoSync(),c=u.deviceId;if(n.uniCloudDeviceId=c,!n.uniIdToken){var C=Ct.getStorageSync("uni_id_token")||Ct.getStorageSync("uniIdToken");C&&(n.uniIdToken=C)}return n}function Fe(t){var e=this,a=t.name,i=t.data,r=this.localAddress,n=this.localPort,s={aliyun:"aliyun",tencent:"tcb"}[this.config.provider],o=this.config.spaceId,h="http://".concat(r,":").concat(n,"/system/check-function"),l="http://".concat(r,":").concat(n,"/cloudfunctions/").concat(a);return new Promise((function(t,e){Ct.request({method:"POST",url:h,data:{name:a,platform:at,provider:s,spaceId:o},timeout:3e3,success:function(e){t(e)},fail:function(){t({data:{code:"NETWORK_ERROR",message:"\u8fde\u63a5\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u5ba2\u6237\u7aef\u662f\u5426\u548c\u4e3b\u673a\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\uff0c\u81ea\u52a8\u5207\u6362\u4e3a\u5df2\u90e8\u7f72\u7684\u4e91\u51fd\u6570\u3002"}})}})})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=e||{},i=a.code,r=a.message;return{code:0===i?0:i||"SYS_ERR",message:r||"SYS_ERR"}})).then((function(t){var r=t.code,n=t.message;if(0!==r){switch(r){case"MODULE_ENCRYPTED":console.error("\u6b64\u4e91\u51fd\u6570\uff08".concat(a,"\uff09\u4f9d\u8d56\u52a0\u5bc6\u516c\u5171\u6a21\u5757\u4e0d\u53ef\u672c\u5730\u8c03\u8bd5\uff0c\u81ea\u52a8\u5207\u6362\u4e3a\u4e91\u7aef\u5df2\u90e8\u7f72\u7684\u4e91\u51fd\u6570"));break;case"FUNCTION_ENCRYPTED":console.error("\u6b64\u4e91\u51fd\u6570\uff08".concat(a,"\uff09\u5df2\u52a0\u5bc6\u4e0d\u53ef\u672c\u5730\u8c03\u8bd5\uff0c\u81ea\u52a8\u5207\u6362\u4e3a\u4e91\u7aef\u5df2\u90e8\u7f72\u7684\u4e91\u51fd\u6570"));break;case"ACTION_ENCRYPTED":console.error(n||"\u9700\u8981\u8bbf\u95ee\u52a0\u5bc6\u7684uni-clientDB-action\uff0c\u81ea\u52a8\u5207\u6362\u4e3a\u4e91\u7aef\u73af\u5883");break;case"NETWORK_ERROR":var h="\u8fde\u63a5\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u5ba2\u6237\u7aef\u662f\u5426\u548c\u4e3b\u673a\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b";throw console.error(h),new Error(h);case"SWITCH_TO_CLOUD":break;default:var u="\u68c0\u6d4b\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u51fa\u73b0\u9519\u8bef\uff1a".concat(n,"\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u73af\u5883\u6216\u91cd\u542f\u5ba2\u6237\u7aef\u518d\u8bd5");throw console.error(u),new Error(u)}return e._originCallFunction({name:a,data:i})}return new Promise((function(t,r){var n=Ae({name:a,data:i,provider:e.config.provider,spaceId:o});Ct.request({method:"POST",url:l,data:{provider:s,platform:at,param:n},success:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.statusCode,i=e.data;return!a||a>=400?r(new K({code:i.code||"SYS_ERR",message:i.message||"request:fail"})):t({result:i})},fail:function(t){r(new K({code:t.code||t.errCode||"SYS_ERR",message:t.message||t.errMsg||"request:fail"}))}})}))}))}var ye=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"\uff0c\u4e91\u51fd\u6570[{functionName}]\u5728\u4e91\u7aef\u4e0d\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u6b64\u4e91\u51fd\u6570\u540d\u79f0\u662f\u5426\u6b63\u786e\u4ee5\u53ca\u8be5\u4e91\u51fd\u6570\u662f\u5426\u5df2\u4e0a\u4f20\u5230\u670d\u52a1\u7a7a\u95f4",mode:"append"}],Le=/[\\^$.*+?()[\]{}|]/g,Me=RegExp(Le.source);function Ee(t,e,a){return t.replace(new RegExp((i=e)&&Me.test(i)?i.replace(Le,"\\$&"):i,"g"),a);var i}function Ne(t){var e=t.functionName,a=t.result,i=t.logPvd;if(this.config.useDebugFunction&&a&&a.requestId){var r=JSON.stringify({spaceId:this.config.spaceId,functionName:e,requestId:a.requestId});console.log("[".concat(i,"-request]").concat(r,"[/").concat(i,"-request]"))}}function _e(t){var e=t.callFunction,a=function(t){var a=this,i=t.name;t.data=Ae({name:i,data:t.data,provider:this.config.provider,spaceId:this.config.spaceId});var r={aliyun:"aliyun",tencent:"tcb"}[this.config.provider];return e.call(this,t).then((function(t){return Ne.call(a,{functionName:i,result:t,logPvd:r}),Promise.resolve(t)}),(function(e){return Ne.call(a,{functionName:i,result:e,logPvd:r}),e&&e.message&&(e.message=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,a=void 0===e?"":e,i=t.extraInfo,r=void 0===i?{}:i,n=t.formatter,s=void 0===n?[]:n,o=0;o<s.length;o++){var h=s[o],l=h.rule,u=h.content,c=h.mode,C=a.match(l);if(C){for(var m=u,f=1;f<C.length;f++)m=Ee(m,"{$".concat(f,"}"),C[f]);for(var d in r)m=Ee(m,"{".concat(d,"}"),r[d]);switch(c){case"replace":return m;case"append":default:return a+m}}}return a}({message:"[".concat(t.name,"]: ").concat(e.message),formatter:ye,extraInfo:{functionName:i}})),Promise.reject(e)}))};t.callFunction=function(e){var i;return et&&t.debugInfo&&!t.debugInfo.forceRemote&&rt?(t._originCallFunction||(t._originCallFunction=a),i=Fe.call(this,e)):i=a.call(this,e),Object.defineProperty(i,"result",{get:function(){return console.warn("\u5f53\u524d\u8fd4\u56de\u7ed3\u679c\u4e3aPromise\u7c7b\u578b\uff0c\u4e0d\u53ef\u76f4\u63a5\u8bbf\u95ee\u5176result\u5c5e\u6027\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\uff1ahttps://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{}}}),i}}var we=Symbol("CLIENT_DB_INTERNAL");function be(t,e){return t.then="DoNotReturnProxyWithAFunctionNamedThen",t._internalType=we,new Proxy(t,{get:function(t,a,i){return function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,a)||t[a]||"string"!=typeof a?t[a]:e.get(t,a,i)}})}function Oe(t){switch(B(t)){case"array":return t.map((function(t){return Oe(t)}));case"object":return t._internalType===we||Object.keys(t).forEach((function(e){t[e]=Oe(t[e])})),t;case"regexp":return{$regexp:{source:t.source,flags:t.flags}};case"date":return{$date:t.toISOString()};default:return t}}function Re(){var t,e,a=Ct.getStorageSync("uni_id_token")||"",i=a.split(".");if(!a||3!==i.length)return{uid:null,role:[],permission:[],tokenExpired:0};try{t=JSON.parse((e=i[1],decodeURIComponent(atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(a){throw new Error("\u83b7\u53d6\u5f53\u524d\u7528\u6237\u4fe1\u606f\u51fa\u9519\uff0c\u8be6\u7ec6\u9519\u8bef\u4fe1\u606f\u4e3a\uff1a"+a.message)}return t.tokenExpired=1e3*t.exp,delete t.exp,delete t.iat,t}var Pe=b(O((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var a="chooseAndUploadFile:fail";function i(t,e){return t.tempFiles.forEach((function(t,a){t.name||(t.name=t.path.substring(t.path.lastIndexOf("/")+1)),e&&(t.fileType=e),t.cloudPath=Date.now()+"_"+a+t.name.substring(t.name.lastIndexOf("."))})),t.tempFilePaths||(t.tempFilePaths=t.tempFiles.map((function(t){return t.path}))),t}function n(t,e,a){var i=a.onChooseFile,r=a.onUploadProgress;return e.then((function(t){if(i){var e=i(t);if(void 0!==e)return Promise.resolve(e).then((function(e){return void 0===e?t:e}))}return t})).then((function(e){return!1===e?{errMsg:"chooseAndUploadFile:ok",tempFilePaths:[],tempFiles:[]}:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=arguments.length>3?arguments[3]:void 0;(e=Object.assign({},e)).errMsg="chooseAndUploadFile:ok";var r=e.tempFiles,n=r.length,s=0;return new Promise((function(o){for(;s<a;)h();function h(){var a=s++;if(a>=n)!r.find((function(t){return!t.url&&!t.errMsg}))&&o(e);else{var l=r[a];t.uploadFile({filePath:l.path,cloudPath:l.cloudPath,fileType:l.fileType,onUploadProgress:function(t){t.index=a,t.tempFile=l,t.tempFilePath=l.path,i&&i(t)}}).then((function(t){l.url=t.fileID,a<n&&h()})).catch((function(t){l.errMsg=t.errMsg||t.message,a<n&&h()}))}}}))}(t,e,5,r)}))}e.initChooseAndUploadFile=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};return"image"===e.type?n(t,function(t){var e=t.count,r=t.sizeType,n=t.sourceType,s=void 0===n?["album","camera"]:n,o=t.extension;return new Promise((function(t,n){uni.chooseImage({count:e,sizeType:r,sourceType:s,extension:o,success:function(e){t(i(e,"image"))},fail:function(t){n({errMsg:t.errMsg.replace("chooseImage:fail",a)})}})}))}(e),e):"video"===e.type?n(t,function(t){var e=t.camera,r=t.compressed,n=t.maxDuration,s=t.sourceType,o=t.extension;return new Promise((function(t,h){uni.chooseVideo({camera:e,compressed:r,maxDuration:n,sourceType:s,extension:o,success:function(e){var a=e.tempFilePath,r=e.duration,n=e.size,s=e.height,o=e.width;t(i({errMsg:"chooseVideo:ok",tempFilePaths:[a],tempFiles:[{name:e.tempFile&&e.tempFile.name||"",path:a,size:n,type:e.tempFile&&e.tempFile.type||"",width:o,height:s,duration:r,fileType:"video",cloudPath:""}]},"video"))},fail:function(t){h({errMsg:t.errMsg.replace("chooseVideo:fail",a)})}})}))}(e),e):n(t,function(t){var e=t.count,n=t.extension;return new Promise((function(t,s){var o=uni.chooseFile;if("undefined"!=typeof r&&"function"==typeof r.chooseMessageFile&&(o=r.chooseMessageFile),"function"!=typeof o)return s({errMsg:a+" \u8bf7\u6307\u5b9a type \u7c7b\u578b\uff0c\u8be5\u5e73\u53f0\u4ec5\u652f\u6301\u9009\u62e9 image \u6216 video\u3002"});o({type:"all",count:e,extension:n,success:function(e){t(i(e))},fail:function(t){s({errMsg:t.errMsg.replace("chooseFile:fail",a)})}})}))}(e),e)}}}))),Be="manual";function Ge(t){return{props:{localdata:{type:Array,default:function(){return[]}},options:{type:[Object,Array],default:function(){return{}}},collection:{type:String,default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}},created:function(){var t=this;this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var e=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach((function(a){e.push(t[a])})),e}),(function(e,a){if(t.loadtime!==Be){for(var i=!1,r=[],n=2;n<e.length;n++)e[n]!==a[n]&&(r.push(e[n]),i=!0);e[0]!==a[0]&&(t.mixinDatacomPage.current=t.pageCurrent),t.mixinDatacomPage.size=t.pageSize,t.onMixinDatacomPropsChange(i,r)}}))},methods:{onMixinDatacomPropsChange:function(t,e){},mixinDatacomEasyGet:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.getone,i=void 0!==a&&a,r=e.success,n=e.fail;this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then((function(e){t.mixinDatacomLoading=!1;var a=e.result,n=a.data,s=a.count;t.getcount&&(t.mixinDatacomPage.count=s),t.mixinDatacomHasMore=n.length<t.pageSize;var o=i?n.length?n[0]:void 0:n;t.mixinDatacomResData=o,r&&r(o)})).catch((function(e){t.mixinDatacomLoading=!1,t.mixinDatacomErrorMessage=e,n&&n(e)})))},mixinDatacomGet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.database(),i=e.action||this.action;i&&(a=a.action(i));var r=e.collection||this.collection;a=a.collection(r);var n=e.where||this.where;n&&Object.keys(n).length&&(a=a.where(n));var s=e.field||this.field;s&&(a=a.field(s));var o=e.foreignKey||this.foreignKey;o&&(a=a.foreignKey(o));var h=e.groupby||this.groupby;h&&(a=a.groupBy(h));var l=e.groupField||this.groupField;l&&(a=a.groupField(l)),!0===(void 0!==e.distinct?e.distinct:this.distinct)&&(a=a.distinct());var u=e.orderby||this.orderby;u&&(a=a.orderBy(u));var c=void 0!==e.pageCurrent?e.pageCurrent:this.mixinDatacomPage.current,C=void 0!==e.pageSize?e.pageSize:this.mixinDatacomPage.size,m=void 0!==e.getcount?e.getcount:this.getcount,f=void 0!==e.gettree?e.gettree:this.gettree,d=void 0!==e.gettreepath?e.gettreepath:this.gettreepath,D={getCount:m},p={limitLevel:void 0!==e.limitlevel?e.limitlevel:this.limitlevel,startWith:void 0!==e.startwith?e.startwith:this.startwith};return f&&(D.getTree=p),d&&(D.getTreePath=p),a=a.skip(C*(c-1)).limit(C).get(D),a}}}}function ke(t,e){return Ve.apply(this,arguments)}function Ve(){return Ve=l(n.default.mark((function t(e,a){var i,r,s;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="http://".concat(e,":").concat(a,"/system/ping"),t.prev=1,t.next=4,s={url:i,timeout:500},new Promise((function(t,e){Ct.request(c(c({},s),{},{success:function(e){t(e)},fail:function(t){e(t)}}))}));case 4:return r=t.sent,t.abrupt("return",!(!r.data||0!==r.data.code));case 8:return t.prev=8,t.t0=t["catch"](1),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),Ve.apply(this,arguments)}var He=new(function(){function t(){I(this,t)}return g(t,[{key:"init",value:function(t){var e={},a=!1!==t.debugFunction&&et&&("h5"===at&&navigator.userAgent.indexOf("HBuilderX")>0||"app-plus"===at);switch(t.provider){case"tencent":e=Se.init(Object.assign(t,{useDebugFunction:a}));break;case"aliyun":e=ft.init(Object.assign(t,{useDebugFunction:a}));break;case"private":e=xe.init(Object.assign(t,{useDebugFunction:a}));break;default:throw new Error("\u672a\u63d0\u4f9b\u6b63\u786e\u7684provider\u53c2\u6570")}var i=it;et&&i&&!i.code&&(e.debugInfo=i),e.isReady=!1;var r=e.auth();return e.initUniCloud=r.getLoginState().then((function(t){return t?Promise.resolve():r.signInAnonymously()})).then((function(){if(et&&e.debugInfo){var t=e.debugInfo,a=t.address,i=t.servePort;return function(){var t=l(n.default.mark((function t(e,a){var i,r,s;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<e.length)){t.next=11;break}return s=e[r],t.next=5,ke(s,a);case 5:if(!t.sent){t.next=8;break}return i=s,t.abrupt("break",11);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",{address:i,port:a});case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()(a,i)}return Promise.resolve()})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.address,i=t.port;if(!et)return Promise.resolve();if(a)e.localAddress=a,e.localPort=i;else if(e.debugInfo){var r=console["app-plus"===at?"error":"warn"];"remote"===e.debugInfo.initialLaunchType?(e.debugInfo.forceRemote=!0,r("\u5f53\u524d\u5ba2\u6237\u7aef\u548cHBuilderX\u4e0d\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\uff08\u6216\u5176\u4ed6\u7f51\u7edc\u539f\u56e0\u65e0\u6cd5\u8fde\u63a5HBuilderX\uff09\uff0cuniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\u4e0d\u5bf9\u5f53\u524d\u5ba2\u6237\u7aef\u751f\u6548\u3002\n- \u5982\u679c\u4e0d\u4f7f\u7528uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u76f4\u63a5\u5ffd\u7565\u6b64\u4fe1\u606f\u3002\n- \u5982\u9700\u4f7f\u7528uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u5c06\u5ba2\u6237\u7aef\u4e0e\u4e3b\u673a\u8fde\u63a5\u5230\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\u5e76\u91cd\u65b0\u8fd0\u884c\u5230\u5ba2\u6237\u7aef\u3002\n- \u5982\u679c\u5728HBuilderX\u5f00\u542f\u7684\u72b6\u6001\u4e0b\u5207\u6362\u8fc7\u7f51\u7edc\u73af\u5883\uff0c\u8bf7\u91cd\u542fHBuilderX\u540e\u518d\u8bd5\n- \u68c0\u67e5\u7cfb\u7edf\u9632\u706b\u5899\u662f\u5426\u62e6\u622a\u4e86HBuilderX\u81ea\u5e26\u7684nodejs")):r("\u65e0\u6cd5\u8fde\u63a5uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u68c0\u67e5\u5f53\u524d\u5ba2\u6237\u7aef\u662f\u5426\u4e0e\u4e3b\u673a\u5728\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\u3002\n- \u5982\u9700\u4f7f\u7528uniCloud\u672c\u5730\u8c03\u8bd5\u670d\u52a1\uff0c\u8bf7\u5c06\u5ba2\u6237\u7aef\u4e0e\u4e3b\u673a\u8fde\u63a5\u5230\u540c\u4e00\u5c40\u57df\u7f51\u4e0b\u5e76\u91cd\u65b0\u8fd0\u884c\u5230\u5ba2\u6237\u7aef\u3002\n- \u5982\u679c\u5728HBuilderX\u5f00\u542f\u7684\u72b6\u6001\u4e0b\u5207\u6362\u8fc7\u7f51\u7edc\u73af\u5883\uff0c\u8bf7\u91cd\u542fHBuilderX\u540e\u518d\u8bd5\n- \u68c0\u67e5\u7cfb\u7edf\u9632\u706b\u5899\u662f\u5426\u62e6\u622a\u4e86HBuilderX\u81ea\u5e26\u7684nodejs")}})).then((function(){return function(){et&&"h5"===at&&uni.getStorageSync("__LAST_DCLOUD_APPID")!==Z.appid&&(uni.setStorageSync("__LAST_DCLOUD_APPID",Z.appid),uni.removeStorageSync("uni_id_token")&&(console.warn("\u68c0\u6d4b\u5230\u5f53\u524d\u9879\u76ee\u4e0e\u4e0a\u6b21\u8fd0\u884c\u5230\u6b64\u7aef\u53e3\u7684\u9879\u76ee\u4e0d\u4e00\u81f4\uff0c\u81ea\u52a8\u6e05\u7406uni-id\u4fdd\u5b58\u7684token\u4fe1\u606f\uff08\u4ec5\u5f00\u53d1\u8c03\u8bd5\u65f6\u751f\u6548\uff09"),uni.removeStorageSync("uni_id_token"),uni.removeStorageSync("uni_id_token_expired")))}(),new Promise((function(t){"quickapp-native"===at?(tt="android",uni.getStorage({key:"__DC_CLOUD_UUID",success:function(e){Q=e.data?e.data:st(32),t()}})):setTimeout((function(){tt=uni.getSystemInfoSync().platform,Q=uni.getStorageSync("__DC_CLOUD_UUID")||st(32),t()}),0)}))})).then((function(){e.isReady=!0})),_e(e),function(t){var e=t.uploadFile;t.uploadFile=function(t){var a,i=this;return a=this.isReady?Promise.resolve():this.initUniCloud,a.then((function(){return e.call(i,t)}))}}(e),function(t){t.database=function(){if(this._database)return this._database;var e={},a={},i=function(){function i(t,e,a){I(this,i),this.content=t,this.prevStage=e,this.actionName=a}return g(i,[{key:"toJSON",value:function(){for(var t=this,e=[t.content];t.prevStage;)t=t.prevStage,e.push(t.content);return{$db:e.reverse().map((function(t){return{$method:t.$method,$param:t.$param}}))}}},{key:"get",value:function(){return this._send("get",Array.from(arguments))}},{key:"add",value:function(){return this._send("add",Array.from(arguments))}},{key:"remove",value:function(){return this._send("remove",Array.from(arguments))}},{key:"update",value:function(){return this._send("update",Array.from(arguments))}},{key:"end",value:function(){return this._send("end",Array.from(arguments))}},{key:"set",value:function(){throw new Error("clientDB\u7981\u6b62\u4f7f\u7528set\u65b9\u6cd5")}},{key:"_send",value:function(i,r){var n=this,s=W(Y("database","invoke")),o=this.toJSON();return o.$db.push({$method:i,$param:Oe(r)}),s.then((function(){return t.callFunction({name:"DCloud-clientDB",data:{action:n.actionName,command:o}}).then((function(t){var i=t.result,r=i.code,n=i.message,s=i.token,o=i.tokenExpired,h=i.systemInfo,l=void 0===h?[]:h;if(l)for(var u=0;u<l.length;u++){var c=l[u],C=c.level,m=c.message,f=c.detail,d=console["app-plus"===at&&"warn"===C?"error":C]||console.log,D="[System Info]"+m;f&&(D="".concat(D,"\n\u8be6\u7ec6\u4fe1\u606f\uff1a").concat(f)),d(D)}if(r)return Promise.reject(new k(n,r));s&&o&&e.refreshToken&&e.refreshToken.forEach((function(t){t({token:s,tokenExpired:o})})),s&&o&&a.refreshToken&&a.refreshToken.forEach((function(t){t({token:s,tokenExpired:o})}));var p=t.result.affectedDocs;return"number"==typeof p&&Object.defineProperty(t.result,"affectedDocs",{get:function(){return console.warn("affectedDocs\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528inserted/deleted/updated/data.length\u66ff\u4ee3"),p}}),W(Y("database","success"),t).then((function(){return W(Y("database","complete"),t)})).then((function(){return Promise.resolve(t)}))}),(function(t){var e=new k(t.message,t.code||"SYSTEM_ERROR");return a.error&&a.error.forEach((function(t){t(e)})),/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(t.message)&&console.warn("clientDB\u672a\u521d\u59cb\u5316\uff0c\u8bf7\u5728web\u63a7\u5236\u53f0\u4fdd\u5b58\u4e00\u6b21schema\u4ee5\u5f00\u542fclientDB"),W(Y("database","fail"),t).then((function(){return W(Y("database","complete"),t)})).then((function(){return Promise.reject(t)}))}))}))}},{key:"useAggregate",get:function(){for(var t=this,e=!1;t.prevStage;){t=t.prevStage;var a=t.content.$method;if("aggregate"===a||"pipeline"===a){e=!0;break}}return e}},{key:"count",get:function(){if(!this.useAggregate)return function(){return this._send("count",Array.from(arguments))};var t=this;return function(){return s({$method:"count",$param:Oe(Array.from(arguments))},t,t.actionName)}}}]),i}(),r=["db.Geo","db.command","command.aggregate"];function n(t,e){return r.indexOf("".concat(t,".").concat(e))>-1}function s(t,e,a){return be(new i(t,e,a),{get:function(t,e){var i="db";return t&&t.content&&(i=t.content.$method),n(i,e)?s({$method:e},t,a):function(){return s({$method:e,$param:Oe(Array.from(arguments))},t,a)}}})}function o(t){var e=t.path,a=t.method;return function(){function t(){I(this,t),this.param=Array.from(arguments)}return g(t,[{key:"toJSON",value:function(){return{$newDb:[].concat(C(e.map((function(t){return{$method:t}}))),[{$method:a,$param:this.param}])}}}]),t}()}var h={auth:{on:function(t,a){e[t]=e[t]||[],e[t].indexOf(a)>-1||e[t].push(a)},off:function(t,a){e[t]=e[t]||[];var i=e[t].indexOf(a);-1!==i&&e[t].splice(i,1)}},on:function(t,e){a[t]=a[t]||[],a[t].indexOf(e)>-1||a[t].push(e)},off:function(t,e){a[t]=a[t]||[];var i=a[t].indexOf(e);-1!==i&&a[t].splice(i,1)},env:be({},{get:function(t,e){return{$env:e}}}),action:function(t){return be({},{get:function(e,a){return n("db",a)?s({$method:a},null,t):function(){return s({$method:a,$param:Oe(Array.from(arguments))},null,t)}}})},Geo:be({},{get:function(t,e){return o({path:["Geo"],method:e})}}),getCloudEnv:function(t){if("string"!=typeof t||!t.trim())throw new Error("getCloudEnv\u53c2\u6570\u9519\u8bef");return{$env:t.replace("$cloudEnv_","")}},get serverDate(){return o({path:[],method:"serverDate"})},get RegExp(){return o({path:[],method:"RegExp"})}},l=be(h,{get:function(t,e){return n("db",e)?s({$method:e}):function(){return s({$method:e,$param:Oe(Array.from(arguments))})}}});return this._database=l,l}}(e),function(t){t.getCurrentUserInfo=Re,t.chooseAndUploadFile=Pe.initChooseAndUploadFile(t),Object.assign(t,{get mixinDatacom(){return Ge(t)}})}(e),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach((function(t){e[t]&&(e[t]=X(e[t],t))})),e.init=this.init,e}}]),t}());(function(){var t=rt,e={};if(1===t.length)e=t[0],He=He.init(e);else{var a,i=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo"];a=t&&t.length>0?"\u5e94\u7528\u6709\u591a\u4e2a\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u901a\u8fc7uniCloud.init\u65b9\u6cd5\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u670d\u52a1\u7a7a\u95f4":nt?"\u5e94\u7528\u672a\u5173\u8054\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u5728uniCloud\u76ee\u5f55\u53f3\u952e\u5173\u8054\u670d\u52a1\u7a7a\u95f4":"uni-app cli\u9879\u76ee\u5185\u4f7f\u7528uniCloud\u9700\u8981\u4f7f\u7528HBuilderX\u7684\u8fd0\u884c\u83dc\u5355\u8fd0\u884c\u9879\u76ee\uff0c\u4e14\u9700\u8981\u5728uniCloud\u76ee\u5f55\u5173\u8054\u670d\u52a1\u7a7a\u95f4",i.forEach((function(t){He[t]=function(){return console.error(a),Promise.reject(new K({code:"SYS_ERR",message:a}))}}))}Object.assign(He,{get mixinDatacom(){return Ge(He)}}),He.addInterceptor=J,He.removeInterceptor=U,et&&"h5"===at&&(window.uniCloud=He)})();var Je=He,Ue=Je;e.default=Ue}).call(this,a("c8ba"),a("4362"),a("fe07")["default"])},aa2e:function(t,e,a){"use strict";a.r(e);var i=a("d5d9"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},aecb:function(t,e,a){"use strict";a.r(e);var i=a("2806"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},af4e:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={created:function(){"message"===this.type&&(this.maskShow=!1,this.childrenMsg=null)},methods:{customOpen:function(){this.childrenMsg&&this.childrenMsg.open()},customClose:function(){this.childrenMsg&&this.childrenMsg.close()}}};e.default=i},b138:function(t,e,a){"use strict";a.r(e);var i=a("bda2"),r=a("14b9");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},b505:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("443c")),r=n(a("8602"));function n(t){return t&&t.__esModule?t:{default:t}}var s={name:"UniPopup",components:{uniTransition:i.default},props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0}},provide:function(){return{popup:this}},mixins:[r.default],watch:{type:{handler:function(t){this[this.config[t]]()},immediate:!0},maskClick:function(t){this.mkclick=t}},data:function(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:"top"}},created:function(){this.mkclick=this.maskClick,this.animation?this.duration=300:this.duration=0},methods:{clear:function(t){t.stopPropagation()},open:function(){var t=this;this.showPopup=!0,this.$nextTick((function(){new Promise((function(e){clearTimeout(t.timer),t.timer=setTimeout((function(){t.showTrans=!0,t.$nextTick((function(){e()}))}),50)})).then((function(e){clearTimeout(t.msgtimer),t.msgtimer=setTimeout((function(){t.customOpen&&t.customOpen()}),100),t.$emit("change",{show:!0,type:t.type})}))}))},close:function(t){var e=this;this.showTrans=!1,this.$nextTick((function(){e.$emit("change",{show:!1,type:e.type}),clearTimeout(e.timer),e.customOpen&&e.customClose(),e.timer=setTimeout((function(){e.showPopup=!1}),300)}))},onTap:function(){this.mkclick&&this.close()},top:function(){this.popupstyle="top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0}},bottom:function(){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0}},center:function(){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"}}}};e.default=s},b52b:function(t,e,a){"use strict";(function(e){var i=r(a("eff7"));function r(t){return t&&t.__esModule?t:{default:t}}t.exports={get_assert:function(t){var a="/deal/assert_list";return e("log",a," at src/deal.js:5"),(0,i.default)(a,"POST",t,"\u83b7\u53d6\u8d44\u4ea7\u4fe1\u606f")},get_position:function(t){var a="/deal/position_list";return e("log",a," at src/deal.js:15"),(0,i.default)(a,"POST",t,"\u83b7\u53d6\u6301\u4ed3\u4fe1\u606f")},buy:function(t){var a="/deal/buy";return e("log",a," at src/deal.js:25"),(0,i.default)(a,"POST",t,"\u8d2d\u4e70\u80a1\u7968")},sale:function(t){var a="/deal/sale";return e("log",a," at src/deal.js:35"),(0,i.default)(a,"POST",t,"\u5356\u51fa\u80a1\u7968")},get_detail:function(t){var a="/deal/detail";return e("log",a," at src/deal.js:45"),(0,i.default)(a,"POST",t,"\u83b7\u53d6\u4ea4\u6613\u660e\u7ec6")}}}).call(this,a("0de9")["default"])},b7be:function(t,e,a){"use strict";a.r(e);var i=a("c02c"),r=a("e2ff");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},b82a:function(t,e,a){"use strict";a.r(e);var i=a("958b"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},b99d:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","container loading3"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","shape shape1"),attrs:{_i:1}}),a("view",{staticClass:t._$s(2,"sc","shape shape2"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","shape shape3"),attrs:{_i:3}}),a("view",{staticClass:t._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},bb06:function(t,e,a){"use strict";a.r(e);var i=a("e3e3"),r=a("b82a");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"21f077a2",null,!1,i["a"],s);e["default"]=h.exports},bbdd:function(t,e,a){var i=function(){return this||"object"===typeof self&&self}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,n=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=a("96cf"),r)i.regeneratorRuntime=n;else try{delete i.regeneratorRuntime}catch(s){i.regeneratorRuntime=void 0}},bc6b:function(t,e,a){"use strict";var i=a("2f51"),r=a("c638"),n=a("f19e");n.JSCommonCoordinateData.MARKET_SUFFIX_NAME;function s(){this.Value,this.Message=new Array,this.TextColor=i.JSCommonResource_Global_JSChartResource.FrameSplitTextColor,this.Font=i.JSCommonResource_Global_JSChartResource.FrameSplitTextFont,this.LineColor=i.JSCommonResource_Global_JSChartResource.FrameSplitPen,this.LineType=1}function o(){this.ChartBorder,this.Frame,this.FrameSplitData,this.SplitCount=5,this.StringFormat=0,this.IsShowLeftText=!0,this.IsShowRightText=!0,this.LanguageID=i.JSCommonResource_JSCHART_LANGUAGE_ID.LANGUAGE_CHINESE_ID,this.IntegerCoordinateSplit=function(t){var e=this.FrameSplitData.Find(t.Interval);if(!e)return!1;if(t.Interval==e.Interval)return!0;var a=parseInt((t.Max/e.FixInterval+.5).toFixed(0))*e.FixInterval,i=parseInt((t.Min/e.FixInterval-.5).toFixed(0))*e.FixInterval;0==t.Min&&(i=0),i<0&&t.Min>0&&(i=0);for(var r=0,n=i;n-a<1e-8;n+=e.FixInterval)++r;return t.Interval=e.FixInterval,t.Max=a,t.Min=i,t.Count=r,!0},this.Filter=function(t,e){if(this.SplitCount<=0||t.length<=0||t.length<=this.SplitCount)return t;var a=parseInt(t.length/this.SplitCount);a<=1&&(a=2);for(var i=[],r=0;r<t.length;r+=a)r+a>=t.length&&r!=t.length-1?i.push(t[t.length-1]):i.push(t[r]);if(2==this.SplitCount&&i.length>2)for(r=1;r<i.length-1;++r){var n=i[r];n.Message[0]=null,n.Message[1]=null}if(e){var o=!1;for(r=0;r<i;++r){n=i[r];if(Math.abs(n.Value)<1e-8){o=!0;break}}if(0==o){var h=new s;h.Value=0,h.Message[0]=null,h.Message[1]=null,i.push(h)}}return i},this.RemoveZero=function(t){var e=[!0,!0];for(var a in t){var i=t[a],r=i.Message[0];this.IsDecimalZeroEnd(r)||(e[0]=!1);r=i.Message[1];this.IsDecimalZeroEnd(r)||(e[1]=!1)}if(0!=e[0]||0!=e[1])for(var a in t){i=t[a];if(e[0]){r=i.Message[0];null!=r&&("number"==typeof r&&(r=r.toString()),i.Message[0]=r.replace(/[.][0]+/g,""))}if(e[1]){r=i.Message[1];null!=r&&("number"==typeof r&&(r=r.toString()),i.Message[1]=r.replace(/[.][0]+/g,""))}}},this.IsDecimalZeroEnd=function(t){if(null==t)return!0;if("0"==t)return!0;"number"==typeof t&&(t=t.toString());var e=t.search(/[.]/);if(e<0)return!1;for(var a=e+1;a<t.length;++a){var i=t.charAt(a);if(i>="1"&&i<="9")return!1}return!0}}function h(){this.newMethod=o,this.newMethod(),delete this.newMethod,this.CoordinateType=0,this.Symbol,this.Data,this.FrameSplitData2,this.FloatPrecision=null,this.Custom=[],this.SplitType=0,this.Operator=function(){var t={};t.Max=this.Frame.HorizontalMax,t.Min=this.Frame.HorizontalMin,t.Count=this.SplitCount,t.Max==t.Min&&(t.Max+=.01*t.Max,t.Min-=.01*t.Min),t.Interval=(t.Max-t.Min)/(t.Count-1);var e=n.JSCommonCoordinateData.GetfloatPrecision(this.Symbol);n.JSCommonCoordinateData.MARKET_SUFFIX_NAME.IsSHSZIndex(this.Symbol)&&(e=0),null!=this.FloatPrecision&&(e=this.FloatPrecision);var a=!0;if(h.SplitCustom)h.SplitCustom(this,t,e),a=!1;else switch(this.CoordinateType){case 1:this.SplitPercentage(t,e);break;default:1==this.SplitType?this.SplitFixed(t,e):this.SplitDefault(t,e),this.CustomCoordinate(e);break}a&&(this.Frame.HorizontalInfo=this.Filter(this.Frame.HorizontalInfo,!1)),this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min},this.SplitDefault=function(t,e){this.IntegerCoordinateSplit(t),this.Frame.HorizontalInfo=[];for(var a=0,i=t.Min;a<t.Count;++a,i+=t.Interval)this.Frame.HorizontalInfo[a]=new s,this.Frame.HorizontalInfo[a].Value=i,this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=i.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=i.toFixed(e))},this.SplitPercentage=function(t,e){var a=this.GetFirstOpenPrice();t.Max=(t.Max-a)/a,t.Min=(t.Min-a)/a,t.Interval=(t.Max-t.Min)/(t.Count-1),this.IntegerCoordinateSplit2(t),this.Frame.HorizontalInfo=[];for(var i=0,r=t.Min;i<t.Count;++i,r+=t.Interval){var n=(r+1)*a;this.Frame.HorizontalInfo[i]=new s,this.Frame.HorizontalInfo[i].Value=n,this.IsShowLeftText&&(this.Frame.HorizontalInfo[i].Message[0]=n.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[i].Message[1]=(100*r).toFixed(2)+"%")}t.Min=(1+t.Min)*a,t.Max=(1+t.Max)*a},this.SplitFixed=function(t,e){this.Frame.HorizontalInfo=[];for(var a=0,i=t.Min;a<t.Count;++a,i+=t.Interval)this.Frame.HorizontalInfo[a]=new s,this.Frame.HorizontalInfo[a].Value=i,this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=i.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=i.toFixed(e))},this.CustomCoordinate=function(t){for(var e in this.Frame.CustomHorizontalInfo=[],this.Custom){var a=this.Custom[e];if(0==a.Type){var i=t;o.IsNumber(a.FloatPrecision)&&a.FloatPrecision>=0&&(i=a.FloatPrecision);var r=this.GetLatestPrice(i,a);r&&this.Frame.CustomHorizontalInfo.push(r)}else 1==a.Type&&this.CustomFixedCoordinate(a)}},this.GetLatestPrice=function(t,e){if(!this.Data||!this.Data.Data)return null;if(this.Data.Data.length<=0)return null;var a=this.Data.Data[this.Data.Data.length-1],r=new s;return r.Type=0,r.Value=a.Close,r.TextColor=i.JSCommonResource_Global_JSChartResource.FrameLatestPrice.TextColor,r.LineType=2,"left"==e.Position?r.Message[0]=a.Close.toFixed(t):r.Message[1]=a.Close.toFixed(t),a.Close>a.Open?r.LineColor=i.JSCommonResource_Global_JSChartResource.FrameLatestPrice.UpBarColor:a.Close<a.Open?r.LineColor=i.JSCommonResource_Global_JSChartResource.FrameLatestPrice.DownBarColor:r.LineColor=i.JSCommonResource_Global_JSChartResource.FrameLatestPrice.UnchagneBarColor,o.IsNumber(e.LineType)&&(r.LineType=e.LineType),0==e.IsShowLine&&(r.LineType=-1),r},this.GetFirstOpenPrice=function(){if(!this.Data)return null;for(var t=this.Frame.XPointCount,e=this.Data.DataOffset,a=0;e<this.Data.Data.length&&a<t;++e,++a){var i=this.Data.Data[e];if(null!=i.Open&&null!=i.High&&null!=i.Low&&null!=i.Close)return i.Open}return null},this.CustomFixedCoordinate=function(t){var e=n.JSCommonCoordinateData.GetfloatPrecision(this.Symbol);for(var a in t.Data){var i,r=t.Data[a],h=new s;h.Type=1,h.TextColor=r.TextColor,h.LineColor=r.Color,h.LineType=2,o.IsNumber(t.LineType)&&(h.LineType=t.LineType),0==t.IsShowLine&&(h.LineType=-1),h.Value=r.Value,i=r.Text?r.Text:h.Value.toFixed(e),"left"==t.Position?h.Message[0]=i:h.Message[1]=i,this.Frame.CustomHorizontalInfo.push(h)}},this.IntegerCoordinateSplit2=function(t){var e=this.FrameSplitData2.Find(t.Interval);if(!e)return!1;if(t.Interval==e.FixInterval)return!0;var a=parseInt((t.Max/e.FixInterval+.5).toFixed(0))*e.FixInterval,i=parseInt((t.Min/e.FixInterval-.5).toFixed(0))*e.FixInterval;0==t.Min&&(i=0),i<0&&t.Min>0&&(i=0);for(var r=0,n=i;n-a<1e-8;n+=e.FixInterval)++r;return t.Interval=e.FixInterval,t.Max=a,t.Min=i,t.Count=r,!0}}function l(){this.newMethod=o,this.newMethod(),delete this.newMethod,this.FloatPrecision=2,this.FLOATPRECISION_RANGE=[1,.1,.01,.001,1e-4],this.IgnoreYValue=null,this.LineType=null,this.IsShowYZero=!0,this.IntegerSplitData=null,this.Operator=function(){var t={};if(t.Max=this.Frame.HorizontalMax,t.Min=this.Frame.HorizontalMin,this.Frame.YSpecificMaxMin?(t.Count=this.Frame.YSpecificMaxMin.Count,t.Interval=(t.Max-t.Min)/(t.Count-1)):(t.Count=2*this.SplitCount,0==this.FloatPrecision?(t.Interval=(t.Max-t.Min)/(t.Count-1),this.IntegerCoordinateSplit2(t)):(t.Interval=(t.Max-t.Min)/(t.Count-1),this.IntegerCoordinateSplit(t))),this.Frame.HorizontalInfo=[],this.Frame.YSplitScale)for(var e in this.Frame.YSplitScale){var a=this.Frame.YSplitScale[e],i=new s;i.Value=a,o.IsNumber(this.LineType)&&(i.LineType=this.LineType);var r=Math.abs(a),n=this.FloatPrecision;r<1e-10?i.Message[1]=0:r<this.FLOATPRECISION_RANGE[this.FLOATPRECISION_RANGE.length-1]?i.Message[1]=a.toExponential(2).toString():(n<this.FLOATPRECISION_RANGE.length&&r<this.FLOATPRECISION_RANGE[n]&&++n,n<this.FLOATPRECISION_RANGE.length&&r<this.FLOATPRECISION_RANGE[n]&&++n,n<this.FLOATPRECISION_RANGE.length&&r<this.FLOATPRECISION_RANGE[n]&&++n,i.Message[1]=o.FormatValueString(a,n,this.LanguageID)),i.Message[0]=i.Message[1],-2==this.StringFormat?i.Message[1]=null:-3==this.StringFormat?i.Message[0]=null:-1==this.StringFormat&&(i.Message[0]=i.Message[1]=null),this.Frame.HorizontalInfo.push(i)}else for(e=0,a=t.Min;e<t.Count;++e,a+=t.Interval){i=new s;if(this.Frame.HorizontalInfo[e]=i,i.Value=a,o.IsNumber(this.LineType)&&(i.LineType=this.LineType),1==this.StringFormat){n=this.FloatPrecision;!isNaN(a)&&Math.abs(a)>1e3&&(n=0),this.Frame.HorizontalInfo[e].Message[1]=o.FormatValueString(a,n,this.LanguageID)}else if(-1==this.StringFormat);else{r=Math.abs(a),n=this.FloatPrecision;r<1e-10?this.Frame.HorizontalInfo[e].Message[1]=0:r<this.FLOATPRECISION_RANGE[this.FLOATPRECISION_RANGE.length-1]?this.Frame.HorizontalInfo[e].Message[1]=a.toExponential(2).toString():(n<this.FLOATPRECISION_RANGE.length&&r<this.FLOATPRECISION_RANGE[n]&&++n,n<this.FLOATPRECISION_RANGE.length&&r<this.FLOATPRECISION_RANGE[n]&&++n,n<this.FLOATPRECISION_RANGE.length&&r<this.FLOATPRECISION_RANGE[n]&&++n,this.Frame.HorizontalInfo[e].Message[1]=o.FormatValueString(a,n,this.LanguageID))}this.Frame.HorizontalInfo[e].Message[0]=this.Frame.HorizontalInfo[e].Message[1],-2==this.StringFormat?this.Frame.HorizontalInfo[e].Message[1]=null:-3==this.StringFormat&&(this.Frame.HorizontalInfo[e].Message[0]=null)}this.FilterIgnoreYValue(),this.Frame.HorizontalInfo=this.Filter(this.Frame.HorizontalInfo,t.Max>0&&t.Min<0&&this.IsShowYZero),this.RemoveZero(this.Frame.HorizontalInfo),this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min},this.FilterIgnoreYValue=function(){if(this.IgnoreYValue&&!(this.IgnoreYValue.length<=0)){var t=new Set(this.IgnoreYValue);this.Frame.HorizontalInfo=this.Frame.HorizontalInfo.filter((function(e){return!t.has(e.Value)})),this.IsShowYZero=!t.has(0)}},this.IntegerCoordinateSplit2=function(t){null==this.IntegerSplitData&&(this.IntegerSplitData=new p),t.Max>0?t.Max=parseInt(t.Max+.5):t.Max<0&&(t.Max=parseInt(t.Max-.5)),t.Min>0?t.Min=parseInt(t.Min-.5):t.Min<0&&(t.Min=parseInt(t.Min+.5)),t.Interval=(t.Max-t.Min)/(t.Count-1);var e=this.IntegerSplitData.Find(t.Interval);if(!e)return!1;if(t.Interval==e.Interval)return!0;var a=parseInt((t.Max/e.FixInterval+.5).toFixed(0))*e.FixInterval+.5,i=parseInt((t.Min/e.FixInterval-.5).toFixed(0))*e.FixInterval;0==t.Min&&(i=0),i<0&&t.Min>0&&(i=0);for(var r=0,n=i;n-a<1e-8;n+=e.FixInterval)++r;return t.Interval=e.FixInterval,t.Max=a,t.Min=i,t.Count=r,!0}}function u(){this.newMethod=o,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.MinDistance=12,this.Period,this.Symbol,this.MinTextDistance=50,this.SplitDateTime=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.DistanceWidth+this.Frame.DataWidth,e=this.Frame.Data.DataOffset,a=this.Frame.XPointCount,i=0,r=0,n=e;r<a&&n<this.Frame.Data.Data.length;++r,++n){i+=t;var h=null;if(0==r){var l=o.FormatDateString(this.Frame.Data.Data[n].Date,"MM-DD");h={Value:n-e,Text:l}}else if(i>this.MinTextDistance){var u=o.FormatTimeString(this.Frame.Data.Data[n].Time);h={Value:n-e,Text:u}}if(h){var c=new s;c.Value=h.Value,this.ShowText&&(c.Message[0]=h.Text),this.Frame.VerticalInfo.push(c),i=0,0==r&&(i=-this.MinTextDistance/2)}}},this.SplitSecond=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.DistanceWidth+this.Frame.DataWidth,e=this.Frame.Data.DataOffset,a=this.Frame.XPointCount,i=0,r=0,n=e;r<a&&n<this.Frame.Data.Data.length;++r,++n){i+=t;var h=null;if(0==r){var l=o.FormatDateString(this.Frame.Data.Data[n].Date,"MM-DD");h={Value:n-e,Text:l}}else if(i>this.MinTextDistance){var u=o.FormatTimeString(this.Frame.Data.Data[n].Time,"HH:MM:SS");h={Value:n-e,Text:u}}if(h){var c=new s;c.Value=h.Value,this.ShowText&&(c.Message[0]=h.Text),this.Frame.VerticalInfo.push(c),i=0,0==r&&(i=-this.MinTextDistance/2)}}},this.SplitDate=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,a=null,i=null,r=0,n=0,o=t,h=this.MinDistance;n<e&&o<this.Frame.Data.Data.length;++n,++o){var l=parseInt(this.Frame.Data.Data[o].Date/1e4),u=parseInt(this.Frame.Data.Data[o].Date/100)%100;if(i!=u&&++r,h<this.MinDistance&&a==l||null!=a&&a==l&&null!=i&&i==u)i=u,++h;else{var c,C=new s;C.Value=o-t,null==a||a!=l?c=l.toString():null!=i&&i==u||(c=u.toString()+"\u6708"),a=l,i=u,this.ShowText&&(C.Message[0]=c),this.Frame.VerticalInfo.push(C),h=0}}0==this.Period&&r<=2&&this.SplitShortDate()},this.SplitShortDate=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,a=12,i=!0,r=0,n=t,h=a;r<e&&n<this.Frame.Data.Data.length;++r,++n){var l=parseInt(this.Frame.Data.Data[n].Date/1e4);if(h<a)++h;else{var u,c=new s;c.Value=n-t,i?(u=l.toString(),i=!1):u=o.FormatDateString(this.Frame.Data.Data[n].Date,"MM-DD"),this.ShowText&&(c.Message[0]=u),this.Frame.VerticalInfo.push(c),h=0}}},this.Operator=function(){null!=this.Frame.Data&&(u.SplitCustom?u.SplitCustom(this):r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0)?this.SplitDateTime():r.JSCommon_ChartData.IsSecondPeriod(this.Period)?this.SplitSecond():this.SplitDate())},this.CreateCoordinateInfo=function(){return new s}}function c(){this.newMethod=o,this.newMethod(),delete this.newMethod,this.High=null,this.Low=null,this.YClose,this.Data,this.AverageData,this.OverlayChartPaint,this.SplitCount=7,this.Symbol,this.Custom,this.Operator=function(){if(this.Frame.HorizontalInfo=[],this.Frame.CustomHorizontalInfo=[],this.Data){var t=this.GetMaxMin();this.DefaultSplit(t),this.CustomCoordinate()}},this.GetMaxMin=function(){var t=this.YClose,e=this.YClose;for(var a in this.Data.Data)this.Data.Data[a]&&(t<this.Data.Data[a]&&(t=this.Data.Data[a]),e>this.Data.Data[a]&&(e=this.Data.Data[a]));if(this.AverageData)for(var a in this.AverageData.Data)this.AverageData.Data[a]&&(t<this.AverageData.Data[a]&&(t=this.AverageData.Data[a]),e>this.AverageData.Data[a]&&(e=this.AverageData.Data[a]));if(this.OverlayChartPaint&&this.OverlayChartPaint.length>0&&this.OverlayChartPaint[0]&&this.OverlayChartPaint[0].Symbol){var i=this.OverlayChartPaint[0].GetMaxMin();i.Max&&i.Max>t&&(t=i.Max),i.Min&&i.Min<e&&(e=i.Min)}return o.IsNumber(this.High)&&o.IsNumber(this.Low)&&(t<this.High&&(t=this.High),e>this.Low&&(e=this.Low)),{Max:t,Min:e}},this.DefaultSplit=function(t){var e=t.Max,a=t.Min;if(this.YClose==e&&this.YClose==a)e=this.YClose+.1*this.YClose,a=this.YClose-.1*this.YClose;else{var r=Math.max(Math.abs(this.YClose-e),Math.abs(this.YClose-a));e=this.YClose+r,a=this.YClose-r,a<0&&(a=t.Min)}var h=this.SplitCount,l=(e-a)/(h-1),u=[1,.1,.01,.001,1e-4],c=n.JSCommonCoordinateData.GetfloatPrecision(this.Symbol);n.JSCommonCoordinateData.MARKET_SUFFIX_NAME.IsSHSZIndex(this.Symbol)&&(c=0),l<u[c]&&(l=u[c],e=this.YClose+l*(h-1)/2,a=this.YClose-l*(h-1)/2);for(var C=0;C<h;++C){var m=a+l*C;if(this.Frame.HorizontalInfo[C]=new s,this.Frame.HorizontalInfo[C].Value=m,this.Frame.HorizontalInfo[C].Message[0]=m.toFixed(c),this.YClose){var f=100*(m/this.YClose-1);f>0?this.Frame.HorizontalInfo[C].TextColor=i.JSCommonResource_Global_JSChartResource.UpTextColor:f<0&&(this.Frame.HorizontalInfo[C].TextColor=i.JSCommonResource_Global_JSChartResource.DownTextColor),this.Frame.HorizontalInfo[C].Message[1]=o.FormatValueString(f,2)+"%"}}this.Frame.HorizontalMax=e,this.Frame.HorizontalMin=a},this.CustomCoordinate=function(){if(this.Custom)for(var t in this.Custom){var e=this.Custom[t];if(1==e.Type)this.CustomFixedCoordinate(e);else if(0==e.Type){var a=n.JSCommonCoordinateData.GetfloatPrecision(this.Symbol),i=this.GetLatestPrice(a,e);i&&this.Frame.CustomHorizontalInfo.push(i)}}},this.GetLatestPrice=function(t,e){if(!this.Data||!this.Data.Data)return null;if(this.Data.Data.length<=0)return null;var a=this.Data.Data[this.Data.Data.length-1];if(!o.IsNumber(a)||!o.IsNumber(this.YClose))return null;var r=new s;return r.Type=0,r.Value=a,r.TextColor=i.JSCommonResource_Global_JSChartResource.FrameLatestPrice.TextColor,r.LineType=2,"left"==e.Position?r.Message[0]=a.toFixed(t):r.Message[1]=a.toFixed(t),a>this.YClose?r.LineColor=i.JSCommonResource_Global_JSChartResource.FrameLatestPrice.UpBarColor:a<this.YClose?r.LineColor=i.JSCommonResource_Global_JSChartResource.FrameLatestPrice.DownBarColor:r.LineColor=i.JSCommonResource_Global_JSChartResource.FrameLatestPrice.UnchagneBarColor,o.IsNumber(e.LineType)&&(r.LineType=e.LineType),0==e.IsShowLine&&(r.LineType=-1),r},this.CustomFixedCoordinate=function(t){var e=n.JSCommonCoordinateData.GetfloatPrecision(this.Symbol);for(var a in t.Data){var i,r=t.Data[a],h=new s;h.Type=1,h.TextColor=r.TextColor,h.LineColor=r.Color,h.LineType=2,o.IsNumber(t.LineType)&&(h.LineType=t.LineType),0==t.IsShowLine&&(h.LineType=-1),o.IsNumber(r.Increase)?(o.IsNumber(this.YClose)||conintue,h.Value=this.YClose*(1+r.Increase)):h.Value=r.Value,i=r.Text?r.Text:h.Value.toFixed(e),"left"==t.Position?h.Message[0]=i:h.Message[1]=i,this.Frame.CustomHorizontalInfo.push(h)}}}function C(){this.newMethod=o,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.Symbol=null,this.DayCount=1,this.DayData,this.Operator=function(){this.Frame.VerticalInfo=[];this.Frame.XPointCount;var t=this.Frame.ChartBorder.GetWidth(),e=!0===this.Frame.IsHScreen;e&&(t=this.Frame.ChartBorder.GetHeight());var a=n.JSCommonCoordinateData.MinuteCoordinateData,i=a.GetCoordinateData(this.Symbol,t),r=i.Count,h=i.MiddleCount>0?i.MiddleCount:parseInt(r/2),l=i.Data;if(this.Frame.XPointCount=243,this.Frame.XPointCount=r*this.DayCount,this.Frame.MinuteCount=r,this.Frame.VerticalInfo=[],this.DayCount<=1)for(var u in l){var c=new s;c.Value=l[u][0],this.ShowText&&(c.Message[0]=l[u][3]),this.Frame.VerticalInfo[u]=c}else{u=this.DayData.length-1;for(var C=0;u>=0;--u,++C){c=new s;c.Value=C*r+h,c.LineType=-1,this.ShowText&&(c.Message[0]=o.FormatDateString(this.DayData[u].Date,"MM-DD")),this.Frame.VerticalInfo.push(c);c=new s;c.Value=(C+1)*r,this.Frame.VerticalInfo.push(c)}}}}function m(){this.newMethod=o,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.Operator=function(){if(null!=this.Frame.Data&&null!=this.Frame.XData){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,a=0,i=t;a<e&&i<this.Frame.Data.Data.length;++a,++i){var r=new s;r.Value=i-t,this.ShowText&&(r.Message[0]=this.Frame.XData[a]),this.Frame.VerticalInfo.push(r)}}}}function f(){this.newMethod=o,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.SplitCount=3,this.Symbol,this.LineType=3,this.Operator=function(){var t=this.Frame.VerticalRange;if(t){this.Frame.VerticalInfo=[];var e=2;this.Symbol&&(e=n.JSCommonCoordinateData.GetfloatPrecision(this.Symbol));var a=t.Max,i=t.Min;if(t.Bid)for(var r=(t.Bid.Max-i)/this.SplitCount,h=0;h<this.SplitCount;++h){var l=new s;l.Value=i+r*h,l.Value<=0||(o.IsNumber(this.LineType)&&(l.LineType=this.LineType),this.ShowText&&(l.Message[0]=l.Value.toFixed(e)),this.Frame.VerticalInfo.push(l))}l=new s;if(l.Value=t.Center,this.Frame.VerticalInfo.push(l),t.Ask)for(r=(a-t.Ask.Min)/this.SplitCount,h=1;h<=this.SplitCount;++h){l=new s;l.Value=t.Ask.Min+r*h,o.IsNumber(this.LineType)&&(l.LineType=this.LineType),this.ShowText&&(l.Message[0]=l.Value.toFixed(e)),this.Frame.VerticalInfo.push(l)}}}}function d(){this.Data=[[1e-6,2e-6,1e-6,1e-7],[2e-6,4e-6,2e-6,2e-7],[4e-6,5e-6,4e-6,1e-7],[5e-6,1e-5,5e-6,5e-7],[1e-5,2e-5,1e-5,1e-6],[2e-5,4e-5,2e-5,2e-6],[4e-5,5e-5,4e-5,1e-6],[5e-5,1e-4,5e-5,5e-6],[1e-4,2e-4,1e-4,1e-5],[2e-4,4e-4,2e-4,2e-5],[4e-4,5e-4,4e-4,1e-5],[5e-4,.001,5e-4,5e-5],[.001,.002,.001,1e-4],[.002,.004,.002,2e-4],[.004,.005,.004,1e-4],[.005,.01,.005,5e-4],[.01,.02,.01,.001],[.02,.04,.02,.002],[.04,.05,.04,.001],[.05,.1,.05,.005],[.1,.2,.1,.01],[.2,.4,.2,.02],[.4,.5,.4,.01],[.5,1,.5,.05],[1,2,1,.05],[2,4,2,.05],[4,5,4,.05],[5,10,5,.05],[10,20,10,2],[20,40,20,5],[40,50,40,2],[50,100,50,10],[100,200,100,10],[200,400,200,20],[400,500,400,10],[500,1e3,500,50],[1e3,2e3,1e3,50],[2e3,4e3,2e3,50],[4e3,5e3,4e3,50],[5e3,1e4,5e3,100],[1e4,2e4,1e4,1e3],[2e4,4e4,2e4,2e3],[4e4,5e4,4e4,1e3],[5e4,1e5,5e4,5e3],[1e5,2e5,1e5,1e4],[2e5,4e5,2e5,2e4],[4e5,5e5,4e5,1e4],[5e5,1e6,5e5,5e4],[1e6,2e6,1e6,1e5],[2e6,4e6,2e6,2e5],[4e6,5e6,4e6,1e5],[5e6,1e7,5e6,5e5],[1e7,2e7,1e7,1e6],[2e7,4e7,2e7,2e6],[4e7,5e7,4e7,1e6],[5e7,1e8,5e7,5e6],[1e8,2e8,1e8,1e7],[2e8,4e8,1e8,1e7],[4e8,5e8,1e8,1e7],[5e8,1e9,1e8,1e7],[1e9,2e9,1e9,1e8],[2e9,4e9,2e9,2e8],[4e9,5e9,4e9,1e8],[5e9,1e10,5e9,5e8]],this.Find=function(t){for(var e in this.Data){var a=this.Data[e];if(t>a[0]&&t<=a[1]){var i={};return i.FixInterval=a[2],i.Increase=a[3],i}}return null}}function D(){this.newMethod=d,this.newMethod(),delete this.newMethod,this.Data=[[1e-6,2e-6,1e-6,1e-7],[2e-6,4e-6,2e-6,2e-7],[4e-6,5e-6,4e-6,1e-7],[5e-6,1e-5,5e-6,5e-7],[1e-5,2e-5,1e-5,1e-6],[2e-5,4e-5,2e-5,2e-6],[4e-5,5e-5,4e-5,1e-6],[5e-5,1e-4,5e-5,5e-6],[1e-4,2e-4,1e-4,1e-5],[2e-4,4e-4,2e-4,2e-5],[4e-4,5e-4,4e-4,1e-5],[5e-4,.001,5e-4,5e-5],[.001,.002,.001,1e-4],[.002,.004,.002,2e-4],[.004,.005,.004,1e-4],[.005,.01,.005,5e-4],[.01,.02,.01,.001],[.02,.04,.02,.002],[.04,.05,.04,.001],[.05,.1,.05,.005],[.1,.2,.1,.01],[.2,.4,.2,.02],[.4,.5,.2,.01],[.5,.8,.2,.05],[.8,1,.5,.05],[1,2,.5,.05],[2,4,.5,.05],[4,5,.5,.05],[5,10,.5,.05],[10,12,10,2],[20,40,20,5],[40,50,40,2],[50,100,50,10],[100,200,100,10],[200,400,200,20],[400,500,400,10],[500,1e3,500,50],[1e3,2e3,1e3,50],[2e3,4e3,2e3,50],[4e3,5e3,4e3,50],[5e3,1e4,5e3,100],[1e4,2e4,1e4,1e3],[2e4,4e4,2e4,2e3],[4e4,5e4,4e4,1e3],[5e4,1e5,5e4,5e3],[1e5,2e5,1e5,1e4],[2e5,4e5,2e5,2e4],[4e5,5e5,4e5,1e4],[5e5,1e6,5e5,5e4],[1e6,2e6,1e6,1e5],[2e6,4e6,2e6,2e5],[4e6,5e6,4e6,1e5],[5e6,1e7,5e6,5e5],[1e7,2e7,1e7,1e6],[2e7,4e7,2e7,2e6],[4e7,5e7,4e7,1e6],[5e7,1e8,5e7,5e6],[1e8,2e8,1e8,1e7],[2e8,4e8,2e8,2e7],[4e8,5e8,4e8,1e7],[5e8,1e9,5e8,5e7],[1e9,2e9,1e9,1e8],[2e9,4e9,2e9,2e8],[4e9,5e9,4e9,1e8],[5e9,1e10,5e9,5e8]]}function p(){this.newMethod=d,this.newMethod(),delete this.newMethod,this.Data=[[1e-6,2e-6,1e-6,1e-7],[2e-6,4e-6,2e-6,2e-7],[4e-6,5e-6,4e-6,1e-7],[5e-6,1e-5,5e-6,5e-7],[1e-5,2e-5,1e-5,1e-6],[2e-5,4e-5,2e-5,2e-6],[4e-5,5e-5,4e-5,1e-6],[5e-5,1e-4,5e-5,5e-6],[1e-4,2e-4,1e-4,1e-5],[2e-4,4e-4,2e-4,2e-5],[4e-4,5e-4,4e-4,1e-5],[5e-4,.001,5e-4,5e-5],[.001,.002,.001,1e-4],[.002,.004,.002,2e-4],[.004,.005,.004,1e-4],[.005,.01,.005,5e-4],[.01,.02,.01,.001],[.02,.04,.02,.002],[.04,.05,.04,.001],[.05,.1,.05,.005],[.1,.2,1,1],[.2,.4,1,1],[.4,.5,1,1],[.5,.8,1,1],[.8,1,1,1],[1,2,1,1],[2,4,2,1],[4,5,4,1],[5,10,5,1],[10,12,10,2],[20,40,20,5],[40,50,40,2],[50,100,50,10],[100,200,100,10],[200,400,200,20],[400,500,400,10],[500,1e3,500,50],[1e3,2e3,1e3,50],[2e3,4e3,2e3,50],[4e3,5e3,4e3,50],[5e3,1e4,5e3,100],[1e4,2e4,1e4,1e3],[2e4,4e4,2e4,2e3],[4e4,5e4,4e4,1e3],[5e4,1e5,5e4,5e3],[1e5,2e5,1e5,1e4],[2e5,4e5,2e5,2e4],[4e5,5e5,4e5,1e4],[5e5,1e6,5e5,5e4],[1e6,2e6,1e6,1e5],[2e6,4e6,2e6,2e5],[4e6,5e6,4e6,1e5],[5e6,1e7,5e6,5e5],[1e7,2e7,1e7,1e6],[2e7,4e7,2e7,2e6],[4e7,5e7,4e7,1e6],[5e7,1e8,5e7,5e6],[1e8,2e8,1e8,1e7],[2e8,4e8,2e8,2e7],[4e8,5e8,4e8,1e7],[5e8,1e9,5e8,5e7],[1e9,2e9,1e9,1e8],[2e9,4e9,2e9,2e8],[4e9,5e9,4e9,1e8],[5e9,1e10,5e9,5e8]]}o.FormatValueThousandsString=function(t,e){if(null==t||isNaN(t)){if(e>0){for(var a="-.",i=0;i<e;++i)a+="-";return a}return"--"}var r="",n=t.toFixed(e);if(e>0){var s=n.split(".")[1],o=n.split(".")[0];while(o.length>3)r=","+o.slice(-3)+r,o=o.slice(0,o.length-3);o&&(r=o+r+"."+s)}else{while(n.length>3)r=","+n.slice(-3)+r,n=n.slice(0,n.length-3);n&&(r=n+r)}return r},o.FormatValueString=function(t,e,a){if(null==t||isNaN(t)){if(e>0){for(var r="-.",n=0;n<e;++n)r+="-";return r}return"--"}if(t<1e-11&&t>-1e-11)return"0";var s=Math.abs(t);return a===i.JSCommonResource_JSCHART_LANGUAGE_ID.LANGUAGE_ENGLISH_ID?s<1e4?t.toFixed(e):s<1e6?(t/1e3).toFixed(e)+"K":s<1e9?(t/1e6).toFixed(e)+"M":s<1e12?(t/1e9).toFixed(e)+"B":(t/1e12).toFixed(e)+"T":s<1e4?t.toFixed(e):s<1e8?(t/1e4).toFixed(e)+"\u4e07":s<1e12?(t/1e8).toFixed(e)+"\u4ebf":(t/1e12).toFixed(e)+"\u4e07\u4ebf"},o.FromatIntegerString=function(t,e,a){return t<1e4&&o.IsInteger(t)&&(e=0),o.FormatValueString(t,e,a)},o.NumberToString=function(t){return t<10?"0"+t.toString():t.toString()},o.FormatDateString=function(t,e){var a=parseInt(t/1e4),i=parseInt(t/100)%100,r=t%100;switch(e){case"MM-DD":return o.NumberToString(i)+"-"+o.NumberToString(r);default:return a.toString()+"-"+o.NumberToString(i)+"-"+o.NumberToString(r)}},o.FormatTimeString=function(t,e){if("HH:MM:SS"==e){var a=parseInt(t/1e4),i=parseInt(t%1e4/100),r=t%100;return o.NumberToString(a)+":"+o.NumberToString(i)+":"+o.NumberToString(r)}if("HH:MM"==e){a=parseInt(t/100),i=t%100;return o.NumberToString(a)+":"+o.NumberToString(i)}if(t<1e4){a=parseInt(t/100),i=t%100;return o.NumberToString(a)+":"+o.NumberToString(i)}a=parseInt(t/1e4),i=parseInt(t%1e4/100),r=t%100;return o.NumberToString(a)+":"+o.NumberToString(i)+":"+o.NumberToString(r)},o.FormatReportDateString=function(t){var e,a=parseInt(t/1e4),i=parseInt(t/100)%100;switch(i){case 3:e="\u4e00\u5b63\u5ea6\u62a5";break;case 6:e="\u534a\u5e74\u62a5";break;case 9:e="\u4e09\u5b63\u5ea6\u62a5";break;case 12:e="\u5e74\u62a5";break}return a.toString()+e},o.FormatDateTimeString=function(t,e){var a=t.split(" ");if(a.length<2)return"";var i=parseInt(a[1]),r=i%100,n=parseInt(i/100),s=(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString());if(1==e){var o=parseInt(a[0]),h=parseInt(o/1e4),l=parseInt(o%1e4/100),u=o%100;s=h.toString()+"-"+(l<10?"0"+l.toString():l.toString())+"-"+(u<10?"0"+u.toString():u.toString())+" "+s}return s},o.FormatValueColor=function(t,e){return null!=t&&null==e?0==t?"PriceNull":t>0?"PriceUp":"PriceDown":null==t||null==e||t==e?"PriceNull":t>e?"PriceUp":"PriceDown"},o.IsNumber=function(t){return null!=t&&!isNaN(t)},o.IsPlusNumber=function(t){return null!=t&&(!isNaN(t)&&t>0)},o.IsInteger=function(t){return"number"===typeof t&&t%1===0},o.IsObjectExist=function(t){return void 0!==t&&null!=t},o.IsBool=function(t){return!0===t||!1===t},o.IsString=function(t){return!(!t||"string"!=typeof t)},t.exports={JSCommonSplit:{CoordinateInfo:s,IFrameSplitOperator:o,FrameSplitKLinePriceY:h,FrameSplitY:l,FrameSplitKLineX:u,FrameSplitMinutePriceY:c,FrameSplitMinuteX:C,FrameSplitXData:m,SplitData:d,PriceSplitData:D,FrameSplitXDepth:f},JSCommonSplit_CoordinateInfo:s,JSCommonSplit_IFrameSplitOperator:o,JSCommonSplit_FrameSplitKLinePriceY:h,JSCommonSplit_FrameSplitY:l,JSCommonSplit_FrameSplitKLineX:u,JSCommonSplit_FrameSplitMinutePriceY:c,JSCommonSplit_FrameSplitMinuteX:C,JSCommonSplit_FrameSplitXData:m,JSCommonSplit_SplitData:d,JSCommonSplit_PriceSplitData:D,JSCommonSplit_FrameSplitXDepth:f}},bd66:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("6876"));function r(t){return t&&t.__esModule?t:{default:t}}var n={components:{api:i.default},data:function(){return{backimg_url:"/static/login_back.jpg",lock:!1,email:"",pw:"",repw:"",auth:""}},methods:{checkemail:function(){var t=this.email,e=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(0==t.length)return uni.showToast({title:"\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1;if(!e.test(t))return uni.showToast({title:"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e\uff01",duration:800,icon:"none",position:"bottom"}),!1;var a=!0;return a},checkpw:function(){var t=this.pw;return""==t?(uni.showToast({title:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1):!(t.length<4||t.length>32)||(uni.showToast({title:"\u5bc6\u7801\u957f\u5ea6\u4e3a4-32\u4f4d\uff01",duration:800,icon:"none",position:"bottom"}),!1)},checkrepw:function(){var t=this.pw,e=this.repw;return""==t?(uni.showToast({title:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1):t==e||(uni.showToast({title:"\u786e\u8ba4\u5bc6\u7801\u4e0e\u5bc6\u7801\u4e0d\u4e00\u81f4\uff01",duration:800,icon:"none",position:"bottom"}),!1)},checkauth:function(){var t=this.auth;return 0!=t.length||(uni.showToast({title:"\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01",duration:800,icon:"none",position:"bottom"}),!1)},sendauth:function(){var e=this;this.checkemail()&&this.checkpw()&&this.checkrepw()&&i.default.ckemail(this.email).then((function(a){if(t("log","\u9a8c\u8bc1\u90ae\u7bb1",a," at pages/changepw/changepw.vue:136"),200==a.statusCode){if("FAIL"==a.data){var r={email:e.email};i.default.reauth({data:r}).then((function(e){t("log","\u53d1\u9001\u9a8c\u8bc1\u7801",e," at pages/changepw/changepw.vue:143"),200==e.statusCode?(uni.showToast({title:"\u6210\u529f\u53d1\u9001\u9a8c\u8bc1\u7801\uff01",duration:800,icon:"none",position:"bottom"}),t("log","\u6210\u529f\u53d1\u9001\u9a8c\u8bc1\u7801"," at pages/changepw/changepw.vue:151")):t("log","\u53d1\u9001\u9a8c\u8bc1\u7801\u5931\u8d25"," at pages/changepw/changepw.vue:153")})),e.lock=!0}else uni.showToast({title:"\u8be5\u90ae\u7bb1\u4e0d\u5b58\u5728\uff01",duration:800,icon:"none",position:"bottom"});t("log","\u6210\u529f\u9a8c\u8bc1\u90ae\u7bb1"," at pages/changepw/changepw.vue:167")}else t("log","\u9a8c\u8bc1\u90ae\u7bb1\u5931\u8d25"," at pages/changepw/changepw.vue:169")}))},submit:function(){if(this.checkemail()&&this.checkpw()&&this.checkrepw()&&this.checkauth()){var e={email:this.email,pw:this.pw,auth:this.auth};i.default.changepw({data:e}).then((function(e){t("log","\u4fee\u6539\u5bc6\u7801",e," at pages/changepw/changepw.vue:181"),200==e.statusCode?("OK"==e.data?(uni.showToast({title:"\u4fee\u6539\u5bc6\u7801\u6210\u529f\uff01",duration:800,icon:"none",position:"bottom"}),getApp().globalData.kind="",getApp().globalData.uid="",getApp().globalData.jwt="",uni.navigateTo({url:"../login/login"})):uni.showToast({title:e.data+"\uff01",duration:800,icon:"none",position:"bottom"}),t("log","\u6210\u529f\u4fee\u6539\u5bc6\u7801"," at pages/changepw/changepw.vue:205")):t("log","\u4fee\u6539\u5bc6\u7801\u5931\u8d25"," at pages/changepw/changepw.vue:207")}))}}}};e.default=n}).call(this,a("0de9")["default"])},bda2:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","chartsview"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","charts-error"),attrs:{_i:1}}),a("view",{staticClass:t._$s(2,"sc","charts-font"),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(null==t.errorMessage?"\u8bf7\u70b9\u51fb\u91cd\u8bd5":t.errorMessage)))])])},n=[]},bf8f:function(t,e,a){"use strict";a.r(e);var i=a("c4a0"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},c02c:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={vTabs:a("a367").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","topbox"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","searchinput"),attrs:{_i:2}},[i("image",{staticClass:t._$s(3,"sc","searchlogo"),attrs:{src:t._$s(3,"a-src",a("023e")),_i:3}}),i("input",{attrs:{_i:4},on:{input:function(e){return t.inputchange(e)}}})]),i("view",[i("v-tabs",{attrs:{"v-model":t.tab_index,tabs:["\u6caa\u6df1","\u884c\u4e1a","\u5730\u533a"],pills:!1,scroll:!1,fixed:!0,bgColor:"#f0f0f0","line-height":"5rpx",lineColor:"#f9273f",activeColor:"#f9273f",_i:6},on:{change:t.changeTab}})],1)]),i("view"),t._$s(8,"i",0==t.tab_index)?i("view",[i("view",[i("v-tabs",{attrs:{"v-model":t.HStab_index,tabs:t.HStabs,pills:!1,scroll:!1,fixed:!0,bgColor:"#ffffff","line-height":"0rpx",color:"#262822",activeColor:"#f9273f",_i:10},on:{change:t.changeHSTab}})],1),i("view",{staticClass:t._$s(11,"sc","HSlist"),attrs:{_i:11}},t._l(t._$s(12,"f",{forItems:t.HSdata}),(function(e,a,r,n){return t._$s("12-"+n,"i",""==t.search_value||-1!=e[0].indexOf(t.search_value)||-1!=e[1].indexOf(t.search_value))?i("view",{key:t._$s(12,"f",{forIndex:r,key:a}),staticClass:t._$s("12-"+n,"sc","HSitem"),attrs:{_i:"12-"+n},on:{click:function(a){return t.choose_Stock(e)}}},[i("view",{staticClass:t._$s("13-"+n,"sc","HSitem_col"),attrs:{_i:"13-"+n}},[i("view",[t._v(t._$s("14-"+n,"t0-0",t._s(e[1])))]),i("view",[t._v(t._$s("15-"+n,"t0-0",t._s(e[0].substr(0,6))))])]),i("view",{staticClass:t._$s("16-"+n,"sc","HSitem_col"),attrs:{_i:"16-"+n}},[i("view",{class:t._$s("17-"+n,"c",[e[3]>0?"HSitem_red":"HSitem_green"]),attrs:{_i:"17-"+n}},[t._v(t._$s("17-"+n,"t0-0",t._s((e[2]-0).toFixed(2))))])]),i("view",{staticClass:t._$s("18-"+n,"sc","HSitem_col"),attrs:{_i:"18-"+n}},[i("view",{class:t._$s("19-"+n,"c",[e[3]>0?"HSitem_red":"HSitem_green"]),attrs:{_i:"19-"+n}},[t._v(t._$s("19-"+n,"t0-0",t._s((e[3]-0).toFixed(2))))])])]):t._e()})),0),t._$s(20,"i",t.is_more)?i("view",{staticClass:t._$s(20,"sc","more"),attrs:{_i:20},on:{click:function(e){return t.more()}}}):t._e()]):t._$s(21,"e",1==t.tab_index)?i("view",[i("view",{staticClass:t._$s(22,"sc","block_group"),attrs:{_i:22}},t._l(t._$s(23,"f",{forItems:t.HYdata}),(function(e,a,r,n){return i("view",{key:t._$s(23,"f",{forIndex:r,key:a}),staticClass:t._$s("23-"+n,"sc","block"),attrs:{_i:"23-"+n}},[t._$s("24-"+n,"i","None"!=e[0])?i("view",{staticClass:t._$s("24-"+n,"sc","name"),attrs:{_i:"24-"+n}},[t._v(t._$s("24-"+n,"t0-0",t._s(e[0])))]):i("view",{staticClass:t._$s("25-"+n,"sc","name"),attrs:{_i:"25-"+n}}),i("view",{staticClass:t._$s("26-"+n,"sc","rate"),attrs:{_i:"26-"+n}},[i("text",{class:t._$s("27-"+n,"c",[e[1]>0?"B_red":"B_green"]),attrs:{_i:"27-"+n}},[t._v(t._$s("27-"+n,"t0-0",t._s((e[1]-0).toFixed(2))))])])])})),0)]):t._$s(28,"e",2==t.tab_index)?i("view",[i("view",{staticClass:t._$s(29,"sc","block_group"),attrs:{_i:29}},t._l(t._$s(30,"f",{forItems:t.DQdata}),(function(e,a,r,n){return i("view",{key:t._$s(30,"f",{forIndex:r,key:a}),staticClass:t._$s("30-"+n,"sc","block"),attrs:{_i:"30-"+n}},[t._$s("31-"+n,"i","None"!=e[0])?i("view",{staticClass:t._$s("31-"+n,"sc","name"),attrs:{_i:"31-"+n}},[t._v(t._$s("31-"+n,"t0-0",t._s(e[0])))]):i("view",{staticClass:t._$s("32-"+n,"sc","name"),attrs:{_i:"32-"+n}}),i("view",{staticClass:t._$s("33-"+n,"sc","rate"),attrs:{_i:"33-"+n}},[i("text",{class:t._$s("34-"+n,"c",[e[1]>0?"B_red":"B_green"]),attrs:{_i:"34-"+n}},[t._v(t._$s("34-"+n,"t0-0",t._s((e[1]-0).toFixed(2))))])])])})),0)]):t._e()])},n=[]},c1db:function(t,e,a){"use strict";var i=a("2f51"),r=a("c638"),n=a("f19e"),s=a("a3c0"),o=a("bc6b"),h=n.JSCommonCoordinateData.MARKET_SUFFIX_NAME;function l(){this.Frame,this.Data=new Array,this.Canvas,this.IsDynamic=!1,this.Position=0,this.CursorIndex,this.Font=i.JSCommonResource_Global_JSChartResource.DynamicTitleFont,this.Title,this.TitleColor=i.JSCommonResource_Global_JSChartResource.DefaultTextColor,this.LanguageID=i.JSCommonResource_JSCHART_LANGUAGE_ID.LANGUAGE_CHINESE_ID,this.UpdateUICallback,this.OnDrawEvent}var u=["\u4e0d\u590d\u6743","\u524d\u590d\u6743","\u540e\u590d\u6743"];function c(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.ClassName="DynamicKLineTitlePainting",this.IsDynamic=!0,this.IsShow=!0,this.LineCount=1,this.SpaceWidth=1,this.Period,this.UpColor=i.JSCommonResource_Global_JSChartResource.UpTextColor,this.DownColor=i.JSCommonResource_Global_JSChartResource.DownTextColor,this.UnchagneColor=i.JSCommonResource_Global_JSChartResource.UnchagneTextColor,this.VolColor=i.JSCommonResource_Global_JSChartResource.Title.VolColor,this.AmountColor=i.JSCommonResource_Global_JSChartResource.Title.AmountColor,this.DateTimeColor=i.JSCommonResource_Global_JSChartResource.Title.DateTimeColor,this.NameColor=i.JSCommonResource_Global_JSChartResource.Title.NameColor,this.SettingColor=i.JSCommonResource_Global_JSChartResource.Title.SettingColor,this.PositionColor=i.JSCommonResource_Global_JSChartResource.Title.PositionColor,this.Symbol,this.UpperSymbol,this.Name,this.InfoData,this.InfoTextHeight=15,this.InfoTextColor=i.JSCommonResource_Global_JSChartResource.KLine.Info.TextColor,this.InfoTextBGColor=i.JSCommonResource_Global_JSChartResource.KLine.Info.TextBGColor,this.IsShowName=!0,this.IsShowSettingInfo=!0,this.GetCurrentKLineData=function(){if(null==this.CursorIndex||!this.Data)return null;if(this.Data.length<=0)return null;var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;if(e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0)return null;var a=this.Data.Data[e];return a},this.GetDataIndex=function(){if(null==this.CursorIndex||!this.Data)return null;if(this.Data.length<=0)return null;var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;return e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0?null:e},this.SendUpdateUIMessage=function(t){if(this.UpdateUICallback){var e={TitleName:"K\u7ebf\u6807\u9898",CallFunction:t,Stock:{Name:this.Name,Symbol:this.Symbol},Rect:{Left:this.Frame.ChartBorder.GetLeft(),Right:this.Frame.ChartBorder.GetRight(),Top:0,Bottom:this.Frame.ChartBorder.GetTop()}};if(this.Data&&this.Data.Data&&this.Data.Data.length>0){var a=this.Data.Data.length-1;if(this.CursorIndex){var i=Math.abs(this.CursorIndex-.5);i=parseInt(i.toFixed(0)),a=this.Data.DataOffset+i,a>=this.Data.Data.length&&(a=this.Data.Data.length-1)}if(a>=0){var r=this.Data.Data[a];e.Stock.Data={Date:r.Date,YClose:r.YClose,Open:r.Open,High:r.High,Low:r.Low,Close:r.Close,Vol:r.Vol,Amount:r.Amount},r.Time&&(e.Stock.Time=r.Time)}null!=this.Data.Period&&(e.Stock.PeriodName=this.GetPeriodName(this.Data.Period)),null!=this.Data.Right&&(e.Stock.RightName=u[this.Data.Right])}this.UpdateUICallback(e)}},this.GetPeriodName=function(t){var e="";return e=t>r.JSCommon_CUSTOM_MINUTE_PERIOD_START&&t<=r.JSCommon_CUSTOM_MINUTE_PERIOD_END?t-r.JSCommon_CUSTOM_MINUTE_PERIOD_START+i.JSCommonResource_Global_JSChartLocalization.GetText("\u81ea\u5b9a\u4e49\u5206\u949f",this.LanguageID):t>r.JSCommon_CUSTOM_DAY_PERIOD_START&&t<=r.JSCommon_CUSTOM_DAY_PERIOD_END?t-r.JSCommon_CUSTOM_DAY_PERIOD_START+i.JSCommonResource_Global_JSChartLocalization.GetText("\u81ea\u5b9a\u4e49\u65e5\u7ebf",this.LanguageID):t>r.JSCommon_CUSTOM_SECOND_PERIOD_START&&t<=r.JSCommon_CUSTOM_SECOND_PERIOD_END?t-r.JSCommon_CUSTOM_SECOND_PERIOD_START+i.JSCommonResource_Global_JSChartLocalization.GetText("\u81ea\u5b9a\u4e49\u79d2",this.LanguageID):i.JSCommonResource_Global_JSChartLocalization.GetText(r.JSCommon_ChartData.GetPeriodName(t),this.LanguageID),e},this.GetRightName=function(t,e){if(r.JSCommon_ChartData.IsMinutePeriod(e,!0)||r.JSCommon_ChartData.IsSecondPeriod(e))return null;if(h.IsSHSZStockA(this.UpperSymbol)){var a=u[t];return a}return null},this.FullDraw=function(){if(this.IsShow)if(this.UpperSymbol=this.Symbol?this.Symbol.toUpperCase():"",null==this.CursorIndex||!this.Data||this.Data.length<=0)this.OnDrawEventCallback(null,"DynamicKLineTitlePainting::FullDraw");else{this.SpaceWidth=this.Canvas.measureText(" ").width;var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;if(e>=this.Data.Data.length&&(e=-1),e<0)this.OnDrawEventCallback(null,"DynamicKLineTitlePainting::FullDraw");else{var a=this.Data.Data[e];this.OnDrawEventCallback(a,"DynamicKLineTitlePainting::FullDraw"),!0===this.Frame.IsHScreen?(this.Canvas.save(),this.LineCount>1?this.DrawMulitLine(a):this.DrawSingleLine(a,!0),this.Canvas.restore(),!a.Time&&a.Date&&this.InfoData&&this.HSCreenKLineInfoDraw(a.Date)):(this.LineCount>1?this.DrawMulitLine(a):this.DrawSingleLine(a,!0),!a.Time&&a.Date&&this.InfoData&&this.KLineInfoDraw(a.Date))}}},this.DrawTitle=function(){if(this.UpperSymbol=this.Symbol?this.Symbol.toUpperCase():"",this.SendUpdateUIMessage("DrawTitle"),this.OnDrawEventCallback(null,"DynamicKLineTitlePainting::DrawTitle"),this.IsShow&&(this.IsShowName||this.IsShowSettingInfo)&&!(this.LineCount>1)){if(!0===this.Frame.IsHScreen)return this.Canvas.save(),this.HScreenDrawTitle(),void this.Canvas.restore();var t=this.Frame.ChartBorder.GetLeft(),e=this.Frame.ChartBorder.GetTop();this.Frame.ChartBorder.GetRight();if(!(e<5)){this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.font=this.Font;var a={Left:t,Bottom:e,IsHScreen:!1};if((!this.IsShowName||!this.Name||this.DrawKLineText(this.Name,this.NameColor,a))&&this.IsShowSettingInfo&&null!=this.Data.Period&&null!=this.Data.Right){var i=this.GetPeriodName(this.Data.Period),r=this.GetRightName(this.Data.Right),n="("+i+")";if(r&&(n="("+i+" "+r+")"),!this.DrawKLineText(n,this.SettingColor,a))return}}}},this.HScreenDrawTitle=function(){var t=this.Frame.ChartBorder.GetRight(),e=this.Frame.ChartBorder.GetTop();this.Frame.ChartBorder.GetHeight();if(!(this.Frame.ChartBorder.Right<10)){this.Canvas.translate(t,e),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.font=this.Font;var a=2,i=-2,r={Left:a,Bottom:i,IsHScreen:!1};if((!this.IsShowName||!this.Name||this.DrawKLineText(this.Name,this.NameColor,r))&&this.IsShowSettingInfo&&null!=this.Data.Period&&null!=this.Data.Right){var n=this.GetPeriodName(this.Data.Period),s=this.GetRightName(this.Data.Right),o="("+n+")";if(s&&(o="("+n+" "+s+")"),!this.DrawKLineText(o,this.SettingColor,r))return}}},this.DrawMulitLine=function(t){var e=!0===this.Frame.IsHScreen,a=1,s=1,h=this.Frame.ChartBorder.GetLeft()+a,l=this.Frame.ChartBorder.GetWidth(),u=this.Frame.ChartBorder.GetTop(),c=n.JSCommonCoordinateData.GetfloatPrecision(this.Symbol);if(e){h=a,l=this.Frame.ChartBorder.GetHeight(),u=this.Frame.ChartBorder.Right;var C=this.Frame.ChartBorder.GetChartWidth(),m=this.Frame.ChartBorder.GetTop();this.Canvas.translate(C,m),this.Canvas.rotate(90*Math.PI/180)}var f=(u-s)/this.LineCount,d=(l-a)/4,D=f;this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.font=this.Font;var p=o.JSCommonSplit_IFrameSplitOperator.FormatDateString(t.Date);this.Canvas.fillStyle=this.DateTimeColor,this.Canvas.fillText(p,h,D,d),h+=d,this.Canvas.textAlign="left",this.Canvas.fillStyle=this.GetColor(t.Open,t.YClose);p=i.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Open",this.LanguageID)+t.Open.toFixed(c);this.Canvas.fillText(p,h,D,d),h+=d,this.Canvas.fillStyle=this.GetColor(t.High,t.YClose);p=i.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-High",this.LanguageID)+t.High.toFixed(c);this.Canvas.fillText(p,h,D,d),h+=d;var S=(t.Close-t.YClose)/t.YClose*100;this.Canvas.fillStyle=this.GetColor(S,0);p=i.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Increase",this.LanguageID)+S.toFixed(2)+"%";this.Canvas.fillText(p,h,D,d),h+=d,D+=f;h=this.Frame.ChartBorder.GetLeft()+a;if(e&&(h=a),r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0)&&t.Time){this.Canvas.fillStyle=this.DateTimeColor;p=o.JSCommonSplit_IFrameSplitOperator.FormatTimeString(t.Time);this.Canvas.fillText(p,h,D,d)}else if(r.JSCommon_ChartData.IsSecondPeriod(this.Period)&&t.Time){this.Canvas.fillStyle=this.SettingColor;p=o.JSCommonSplit_IFrameSplitOperator.FormatTimeString(t.Time,"HH:MM:SS");this.Canvas.fillText(p,h,D,d)}h+=d,this.Canvas.fillStyle=this.GetColor(t.Close,t.YClose);p=i.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Close",this.LanguageID)+t.Close.toFixed(c);this.Canvas.fillText(p,h,D,d),h+=d,this.Canvas.fillStyle=this.GetColor(t.Low,t.YClose);p=i.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Low",this.LanguageID)+t.Low.toFixed(c);this.Canvas.fillText(p,h,D,d),h+=d,this.Canvas.fillStyle=this.AmountColor;p=i.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Amount",this.LanguageID)+o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t.Amount,2,this.LanguageID);this.Canvas.fillText(p,h,D,d),h+=d},this.DrawSingleLine=function(t,e){var a=!0===this.Frame.IsHScreen,s=this.Frame.ChartBorder.GetLeft(),l=this.Frame.ChartBorder.GetTop(),u=(this.Frame.ChartBorder.GetRight(),n.JSCommonCoordinateData.GetfloatPrecision(this.Symbol));if(a){if(this.Frame.ChartBorder.GetHeight(),this.Frame.ChartBorder.Right<5)return;s=2,l=-2;var c=this.Frame.ChartBorder.GetRight(),C=this.Frame.ChartBorder.GetTop();this.Canvas.translate(c,C),this.Canvas.rotate(90*Math.PI/180)}else if(l<5)return;this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.font=this.Font;var m={Left:s,Bottom:l,IsHScreen:a};if(!this.IsShowName||this.DrawKLineText(this.Name,this.NameColor,m,1==e)){if(this.IsShowSettingInfo){var f=this.GetPeriodName(this.Data.Period),d=this.GetRightName(this.Data.Right),D="("+f+")";if(d&&(D="("+f+" "+d+")"),!this.DrawKLineText(D,this.SettingColor,m,1==e))return}D=o.JSCommonSplit_IFrameSplitOperator.FormatDateString(t.Date);if(this.DrawKLineText(D,this.DateTimeColor,m)){if(r.JSCommon_ChartData.IsMinutePeriod(this.Period,!0)&&o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Time)){D=o.JSCommonSplit_IFrameSplitOperator.FormatTimeString(t.Time);if(!this.DrawKLineText(D,this.DateTimeColor,m))return}else if(r.JSCommon_ChartData.IsSecondPeriod(this.Period)&&o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Time)){D=o.JSCommonSplit_IFrameSplitOperator.FormatTimeString(t.Time,"HH:MM:SS");if(!this.DrawKLineText(D,this.DateTimeColor,m))return}var p=this.GetColor(t.Open,t.YClose);D=i.JSCommonResource_Global_JSChartLocalization.GetText("KTitle-Open",this.LanguageID)+t.Open.toFixed(u);if(this.DrawKLineText(D,p,m)){p=this.GetColor(t.High,t.YClose),D=i.JSCommonResource_Global_JSChartLocalization.GetText("KTitle-High",this.LanguageID)+t.High.toFixed(u);if(this.DrawKLineText(D,p,m)){p=this.GetColor(t.Low,t.YClose),D=i.JSCommonResource_Global_JSChartLocalization.GetText("KTitle-Low",this.LanguageID)+t.Low.toFixed(u);if(this.DrawKLineText(D,p,m)){p=this.GetColor(t.Close,t.YClose),D=i.JSCommonResource_Global_JSChartLocalization.GetText("KTitle-Close",this.LanguageID)+t.Close.toFixed(u);if(this.DrawKLineText(D,p,m)){if(o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Vol)){D=i.JSCommonResource_Global_JSChartLocalization.GetText("KTitle-Vol",this.LanguageID)+o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t.Vol,2);if(!this.DrawKLineText(D,this.VolColor,m))return}if(o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Amount)){D=i.JSCommonResource_Global_JSChartLocalization.GetText("KTitle-Amount",this.LanguageID)+o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t.Amount,2);if(!this.DrawKLineText(D,this.AmountColor,m))return}if(h.IsChinaFutures(this.UpperSymbol)&&o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Position)){D=i.JSCommonResource_Global_JSChartLocalization.GetText("KTitle-Position",this.LanguageID)+o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t.Position,2);if(!this.DrawKLineText(D,this.PositionColor,m))return}}}}}}}},this.OnDrawEventCallback=function(t,e){if(this.OnDrawEvent&&this.OnDrawEvent.Callback){var a={Draw:t,Name:this.ClassName,Explain:e};if(this.Data&&this.Data.Data){if(o.JSCommonSplit_IFrameSplitOperator.IsNumber(this.CursorIndex)){var i=this.CursorIndex;i=parseInt(i.toFixed(0));var r=this.Data.DataOffset+i}else r=this.Data.Data.length-1;var n=this.Data.Data.length;a.DataIndex=r,a.DataCount=n}this.OnDrawEvent.Callback(this.OnDrawEvent,a,this)}},this.Draw=function(){if(this.UpperSymbol=this.Symbol?this.Symbol.toUpperCase():"",this.SendUpdateUIMessage("Draw"),this.IsShow)if(null==this.CursorIndex||!this.Data||this.Data.length<=0)this.OnDrawEventCallback(null,"DynamicKLineTitlePainting::Draw");else{this.SpaceWidth=this.Canvas.measureText(" ").width;var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;if(e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0)this.OnDrawEventCallback(null,"DynamicKLineTitlePainting::Draw");else{var a=this.Data.Data[e];this.OnDrawEventCallback(a,"DynamicKLineTitlePainting::Draw"),!0===this.Frame.IsHScreen?(this.Canvas.save(),this.LineCount>1?this.DrawMulitLine(a):this.DrawSingleLine(a),this.Canvas.restore(),!a.Time&&a.Date&&this.InfoData&&this.HSCreenKLineInfoDraw(a.Date)):(this.LineCount>1?this.DrawMulitLine(a):this.DrawSingleLine(a),!a.Time&&a.Date&&this.InfoData&&this.KLineInfoDraw(a.Date))}}},this.KLineInfoDraw=function(t){var e=this.InfoData.get(t.toString());if(e){var a=0,i=0,r=0,n=0,h=0,l=null,u=null,c=null;for(var C in e.Data){var m=e.Data[C];switch(m.InfoType){case s.JSCommon_KLINE_INFO_TYPE.INVESTOR:++a;break;case s.JSCommon_KLINE_INFO_TYPE.PFORECAST:c=m.Title;break;case s.JSCommon_KLINE_INFO_TYPE.ANNOUNCEMENT:++r;break;case s.JSCommon_KLINE_INFO_TYPE.ANNOUNCEMENT_QUARTER_1:case s.JSCommon_KLINE_INFO_TYPE.ANNOUNCEMENT_QUARTER_2:case s.JSCommon_KLINE_INFO_TYPE.ANNOUNCEMENT_QUARTER_3:case s.JSCommon_KLINE_INFO_TYPE.ANNOUNCEMENT_QUARTER_4:u=m.Title;break;case s.JSCommon_KLINE_INFO_TYPE.RESEARCH:++i;break;case s.JSCommon_KLINE_INFO_TYPE.BLOCKTRADING:++n;break;case s.JSCommon_KLINE_INFO_TYPE.TRADEDETAIL:++h;break;case s.JSCommon_KLINE_INFO_TYPE.POLICY:l=m;break}}var f=!0===this.Frame.IsHScreen,d=this.Frame.ChartBorder.GetRight()-4,D=this.Frame.ChartBorder.GetTopEx();f&&(d=this.Frame.ChartBorder.GetBottom()-4,D=this.Frame.ChartBorder.GetRightEx(),this.Canvas.translate(D,d),this.Canvas.rotate(90*Math.PI/180),d=0,D=0),this.Canvas.font=this.Font;var p=[],S={Top:D,Right:d,IsHScreen:f};if(p.push(o.JSCommonSplit_IFrameSplitOperator.FormatDateString(t)),u&&p.push(u),c&&p.push(c),r>0&&p.push("\u516c\u544a\u6570\u91cf:"+r),i>0&&p.push("\u673a\u6784\u8c03\u7814\u6b21\u6570:"+i),h>0&&p.push("\u9f99\u864e\u699c\u4e0a\u699c\u6b21\u6570:"+h),a>0&&p.push("\u4e92\u52a8\u6613\u6570\u91cf:"+a),n>0&&p.push("\u5927\u5b97\u4ea4\u6613\u6b21\u6570:"+n),l)for(var v in l.ExtendData)p.push(l.ExtendData[v].Name);var g=0,T=0;for(var I in p){m=p[I];var x=this.Canvas.measureText(m).width+2;g<x&&(g=x),T+=this.InfoTextHeight}for(var A in this.Canvas.fillStyle=this.InfoTextBGColor,this.Canvas.fillRect(S.Right-g,S.Top,g+2,T+2),p){m=p[A];this.DrawInfoText(m,S)}}},this.HSCreenKLineInfoDraw=function(t){this.Canvas.save(),this.KLineInfoDraw(t),this.Canvas.restore()},this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor},this.DrawInfoText=function(t,e){return!t||(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",this.Canvas.fillStyle=this.InfoTextColor,this.Canvas.fillText(t,e.Right,e.Top),e.Top+=this.InfoTextHeight,!0)},this.DrawKLineText=function(t,e,a,i){if(!t)return!0;var r=!0===this.Frame.IsHScreen,n=this.Frame.ChartBorder.GetRight();r&&(n=this.Frame.ChartBorder.GetHeight()),this.Canvas.fillStyle=e;var s=this.Canvas.measureText(t).width;return!(a.Left+s>n)&&(!1!==i&&this.Canvas.fillText(t,a.Left,a.Bottom,s),a.Left+=s+this.SpaceWidth,!0)}}function C(){this.newMethod=c,this.newMethod(),delete this.newMethod,this.YClose,this.IsShowDate=!1,this.IsShowName=!0,this.Symbol,this.UpperSymbol,this.LastShowData,this.ClassName="DynamicMinuteTitlePainting",this.SpaceWidth=2,this.IsShowAveragePrice=!0,this.GetCurrentKLineData=function(){if(this.LastShowData)return this.LastShowData;if(null==this.CursorIndex||!this.Data)return null;if(this.Data.length<=0)return null;var t=Math.abs(this.CursorIndex);t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;if(e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0)return null;var a=this.Data.Data[e];return a},this.SendUpdateUIMessage=function(t){if(this.UpdateUICallback){var e={TitleName:"\u5206\u949f\u6807\u9898",CallFunction:t,Stock:{Name:this.Name,Symbol:this.Symbol},Rect:{Left:this.Frame.ChartBorder.GetLeft(),Right:this.Frame.ChartBorder.GetRight(),Top:0,Bottom:this.Frame.ChartBorder.GetTop()}};if(this.Data&&this.Data.Data&&this.Data.Data.length>0){var a=this.Data.Data.length-1;if(this.CursorIndex){var i=Math.abs(this.CursorIndex-.5);i=parseInt(i.toFixed(0)),a=this.Data.DataOffset+i,a>=this.Data.Data.length&&(a=this.Data.Data.length-1)}if(a>=0){var r=this.Data.Data[a];this.LastShowData=r,e.Stock.Data={Time:r.Time,Close:r.Close,AvPrice:r.AvPrice,Vol:r.Vol,Amount:r.Amount},r.Time&&(e.Stock.Time=r.Time)}}this.UpdateUICallback(e)}},this.DrawTitle=function(){this.UpperSymbol=this.Symbol?this.Symbol.toUpperCase():"",this.SendUpdateUIMessage("DrawTitle"),this.OnDrawEventCallback(null,"DynamicMinuteTitlePainting::DrawTitle")},this.GetDecimal=function(t){return n.JSCommonCoordinateData.GetfloatPrecision(t)},this.DrawMulitLine=function(t){var e=5,a=2,r=this.Frame.ChartBorder.GetLeft()+e,n=(this.Frame.ChartBorder.GetRight(),this.Frame.ChartBorder.GetWidth()),s=this.Frame.ChartBorder.GetTop(),h=this.GetDecimal(this.Symbol),l=(s-a)/this.LineCount,u=l;this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.font=this.Font,this.Canvas.fillStyle=this.UnchagneColor,this.Canvas.fillStyle=this.UnchagneColor;var c=o.JSCommonSplit_IFrameSplitOperator.FormatDateTimeString(t.DateTime,this.IsShowDate?"YYYY-MM-DD":"HH-MM"),C=this.Canvas.measureText(c).width+5;if(this.Canvas.fillText(c,r,u,C),this.IsShowDate){c=o.JSCommonSplit_IFrameSplitOperator.FormatDateTimeString(t.DateTime,"HH-MM");this.Canvas.fillText(c,r,u+l,C)}var m=(n-e-C)/2;if(r+=C,null!=t.Close){this.Canvas.fillStyle=this.GetColor(t.Close,this.YClose);c=i.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Price",this.LanguageID)+t.Close.toFixed(h);this.Canvas.fillText(c,r,u,m),r+=m}if(null!=t.Increase){this.Canvas.fillStyle=this.GetColor(t.Increase,0);c=i.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Increase",this.LanguageID)+t.Increase.toFixed(2)+"%";this.Canvas.fillText(c,r,u,m),r+=m}u+=l;r=this.Frame.ChartBorder.GetLeft()+e+C;this.Canvas.fillStyle=this.VolColor;c=i.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Vol",this.LanguageID)+o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t.Vol,2,this.LanguageID);this.Canvas.fillText(c,r,u,m),r+=m,this.Canvas.fillStyle=this.AmountColor;c=i.JSCommonResource_Global_JSChartLocalization.GetText("Tooltip-Amount",this.LanguageID)+o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t.Amount,2,this.LanguageID);this.Canvas.fillText(c,r,u,m),r+=m},this.DrawItem=function(t){var e=!0===this.Frame.IsHScreen,a=this.Frame.ChartBorder.GetLeft(),r=this.Frame.ChartBorder.GetTop()-this.Frame.ChartBorder.Top/2,n=(this.Frame.ChartBorder.GetRight(),this.GetDecimal(this.Symbol));if(e){if(this.Frame.ChartBorder.Right<5)return;a=2,r=this.Frame.ChartBorder.Right/2,this.Frame.ChartBorder.GetHeight();var s=this.Frame.ChartBorder.GetChartWidth(),l=this.Frame.ChartBorder.GetTop();this.Canvas.translate(s,l),this.Canvas.rotate(90*Math.PI/180)}else if(r<5)return;this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.font=this.Font;var u={Left:a,Bottom:r,IsHScreen:e};if(!this.IsShowName||this.DrawMinuteText(this.Name,this.NameColor,u,!0)){this.Canvas.fillStyle=this.UnchagneColor;var c=o.JSCommonSplit_IFrameSplitOperator.FormatDateTimeString(t.DateTime,this.IsShowDate?"YYYY-MM-DD HH-MM":"HH-MM");if(this.DrawMinuteText(c,this.DateTimeColor,u)){if(o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Close)){var C=this.GetColor(t.Close,this.YClose);c=i.JSCommonResource_Global_JSChartLocalization.GetText("MTitle-Close",this.LanguageID)+t.Close.toFixed(n);if(!this.DrawMinuteText(c,C,u))return}if(o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Increase)){C=this.GetColor(t.Increase,0),c=i.JSCommonResource_Global_JSChartLocalization.GetText("MTitle-Increase",this.LanguageID)+t.Increase.toFixed(2)+"%";if(!this.DrawMinuteText(c,C,u))return}if(o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.AvPrice)&&1==this.IsShowAveragePrice){C=this.GetColor(t.AvPrice,this.YClose),c=i.JSCommonResource_Global_JSChartLocalization.GetText("MTitle-AvPrice",this.LanguageID)+t.AvPrice.toFixed(n);if(!this.DrawMinuteText(c,C,u))return}if(o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Vol)){c=i.JSCommonResource_Global_JSChartLocalization.GetText("MTitle-Vol",this.LanguageID)+o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t.Vol,2,this.LanguageID);if(!this.DrawMinuteText(c,this.VolColor,u))return}if(o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Amount)){c=i.JSCommonResource_Global_JSChartLocalization.GetText("MTitle-Amount",this.LanguageID)+o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t.Amount,2,this.LanguageID);if(!this.DrawMinuteText(c,this.AmountColor,u))return}if(h.IsChinaFutures(this.UpperSymbol)&&o.JSCommonSplit_IFrameSplitOperator.IsNumber(t.Position)){c=i.JSCommonResource_Global_JSChartLocalization.GetText("MTitle-Position",this.LanguageID)+o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t.Position,2,this.LanguageID);if(!this.DrawMinuteText(c,this.VolColor,u))return}}}},this.FullDraw=function(){this.Draw()},this.Draw=function(){if(this.UpperSymbol=this.Symbol?this.Symbol.toUpperCase():"",this.LastShowData=null,this.SendUpdateUIMessage("Draw"),this.IsShow)if(null==this.CursorIndex||!this.Data||!this.Data.Data||this.Data.Data.length<=0)this.OnDrawEventCallback(null,"DynamicMinuteTitlePainting::Draw");else{var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=t+this.Data.DataOffset;e>=this.Data.Data.length&&(e=this.Data.Data.length-1);var a=this.Data.Data[e];this.LastShowData=a,this.OnDrawEventCallback(a,"DynamicMinuteTitlePainting::Draw"),this.LineCount>1&&!0!==this.Frame.IsHScreen?this.DrawMulitLine(a):(this.Canvas.save(),this.DrawItem(a),this.Canvas.restore())}},this.DrawMinuteText=function(t,e,a,i){if(!t)return!0;var r=!0===this.Frame.IsHScreen,n=this.Frame.ChartBorder.GetRight();r&&(n=this.Frame.ChartBorder.GetHeight()),this.Canvas.fillStyle=e;var s=this.Canvas.measureText(t).width;return!(a.Left+s>n)&&(!1!==i&&this.Canvas.fillText(t,a.Left,a.Bottom,s),a.Left+=s+this.SpaceWidth,!0)}}var m={DEFAULT:1,ORIGINAL:2,THOUSANDS:21};function f(t,e,a){this.Data=t,this.Name=e,this.Color=a,this.DataType,this.StringFormat=m.DEFAULT,this.FloatPrecision=2,this.GetTextCallback}function d(){this.newMethod=l,this.newMethod(),delete this.newMethod,this.IsDynamic=!0,this.Data=new Array,this.Explain,this.TitleBG,this.TitleBGHeight=20,this.TitleAlign="middle",this.TitleBottomDistance=1,this.Text=new Array,this.EraseRect,this.EraseColor=i.JSCommonResource_Global_JSChartResource.BGColor,this.TitleRect,this.IsDrawTitleBG=!1,this.BGColor=i.JSCommonResource_Global_JSChartResource.IndexTitleBGColor,this.IsShowIndexName=!0,this.ParamSpace=2,this.OutName=null,this.IsFullDraw=!0,this.SetDynamicOutName=function(t,e){this.OutName?this.OutName.clear():this.OutName=new Map;var a=new Map;for(var i in e){var r=e[i];a.set("{".concat(r.Name,"}"),r)}for(var i in t){r=t[i];var n=r.DynamicName.match(/{\w*}/i);if(!n||n.length<=0)this.OutName.set(r.Name,r.DynamicName);else{for(var s=r.DynamicName,o=!0,h=0;h<n.length;++h){var l=n[h];if(!a.has(l)){o=!1;break}var u=a.get(l).Value;s=s.replace(l,u.toString())}o&&this.OutName.set(r.Name,s)}}},this.GetDynamicOutName=function(t){return!this.OutName||this.OutName.size<=0?null:this.OutName.has(t)?this.OutName.get(t):null},this.IsClickTitle=function(t,e){return!!this.TitleRect&&(t>this.TitleRect.Left&&t<this.TitleRect.Left+this.TitleRect.Width&&e>this.TitleRect.Top&&e<this.TitleRect.Top+this.TitleRect.Height)},this.FormatValue=function(t,e){return e.StringFormat==m.DEFAULT?o.JSCommonSplit_IFrameSplitOperator.FormatValueString(t,e.FloatPrecision,this.LanguageID):(e.StringFormat=m.THOUSANDS)?o.JSCommonSplit_IFrameSplitOperator.FormatValueThousandsString(t,e.FloatPrecision):e.StringFormat==m.ORIGINAL?t.toFixed(e.FloatPrecision).toString():void 0},this.FormatMultiReport=function(t,e){var a="";for(var i in t){var r=t[i],n=r.Quarter,s=r.Year,o=r.Value;switch(a.length>0&&(a+=","),a+=s.toString(),n){case 1:a+="\u4e00\u5b63\u62a5 ";break;case 2:a+="\u534a\u5e74\u62a5 ";break;case 3:a+="\u4e09\u5b63\u62a5 ";break;case 4:a+="\u5e74\u62a5 ";break}a+=this.FormatValue(o,e)}return a},this.SendUpdateUIMessage=function(t){if(this.UpdateUICallback){var e={TitleName:"\u6307\u6807\u6807\u9898",CallFunction:t,TitleData:{Title:this.Title,Identify:this.Frame.Identify,Data:[]},Rect:{Top:this.Frame.ChartBorder.GetTop(),Left:this.Frame.ChartBorder.GetLeft(),Right:this.Frame.ChartBorder.GetRight(),Bottom:this.Frame.ChartBorder.GetBottom()}};for(var a in this.Data){var i=this.Data[a];if(i&&i.Data&&i.Data.Data&&!(i.Data.Data.length<=0)){var r={Name:i.Name,Color:i.Color};if(i.DataType&&(r.DataType=i.DataType),"StraightLine"==i.DataType)r.Value=i.Data.Data[0];else{var n=i.Data.Data.length-1;if(null!=this.CursorIndex){var s=Math.abs(this.CursorIndex-.5);s=parseInt(s.toFixed(0)),n=i.Data.DataOffset+s}n>=i.Data.Data.length&&(n=i.Data.Data.length-1),r.Value=i.Data.Data[n]}e.TitleData.Data.push(r)}}this.UpdateUICallback(e)}},this.FullDraw=function(){if(this.EraseRect=null,this.TitleRect=null,this.IsDrawTitleBG=this.Frame.IsDrawTitleBG,!(this.Frame.ChartBorder.TitleHeight<5)&&0!=this.Frame.IsShowTitle){if(this.IsShowIndexName=this.Frame.IsShowIndexName,this.ParamSpace=this.Frame.IndexParamSpace,!0===this.Frame.IsHScreen)return this.Canvas.save(),this.DrawItem(!0,!0),void this.Canvas.restore();this.DrawItem(!0,!0)}},this.DrawTitle=function(){if(this.IsDrawTitleBG=this.Frame.IsDrawTitleBG,this.EraseRect=null,this.TitleRect=null,this.SendUpdateUIMessage("DrawTitle"),!(this.Frame.ChartBorder.TitleHeight<5)&&0!=this.Frame.IsShowTitle){if(this.IsShowIndexName=this.Frame.IsShowIndexName,this.ParamSpace=this.Frame.IndexParamSpace,!0===this.Frame.IsHScreen)return this.Canvas.save(),this.DrawItem(!0,!1),void this.Canvas.restore();this.DrawItem(!0,!1)}},this.EraseTitle=function(){this.EraseRect&&(this.Canvas.fillStyle=this.EraseColor,this.Canvas.fillRect(this.EraseRect.Left,this.EraseRect.Top,this.EraseRect.Width,this.EraseRect.Height))},this.Draw=function(){if(this.TitleRect=null,this.SendUpdateUIMessage("Draw"),null!=this.CursorIndex&&this.Data&&!(this.Frame.ChartBorder.TitleHeight<5)&&0!=this.Frame.IsShowTitle){if(this.IsShowIndexName=this.Frame.IsShowIndexName,this.ParamSpace=this.Frame.IndexParamSpace,!0===this.Frame.IsHScreen)return this.Canvas.save(),this.DrawItem(!1,!0),void this.Canvas.restore();this.DrawItem(!1,!0)}},this.DrawItem=function(t,e){var a=!0===this.Frame.IsHScreen,i=this.Frame.ChartBorder.GetLeft()+1,r=this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.TitleHeight/2;"bottom"==this.TitleAlign&&(r=this.Frame.ChartBorder.GetTopEx()-this.TitleBottomDistance);var n,s=this.Frame.ChartBorder.GetRight();if(a){var o=this.Frame.ChartBorder.GetRightTitle(),h=this.Frame.ChartBorder.GetTop();this.Canvas.translate(o,h),this.Canvas.rotate(90*Math.PI/180),i=1,r=-this.Frame.ChartBorder.TitleHeight/2,"bottom"==this.TitleAlign&&(r=-this.TitleBottomDistance),s=this.Frame.ChartBorder.GetHeight()}if(this.EraseTitle(),this.Canvas.textAlign="left",this.Canvas.textBaseline=this.TitleAlign,this.Canvas.font=this.Font,this.TitleBG&&this.Title){n=this.Canvas.measureText(this.Title).width+2;var l=this.Frame.ChartBorder.TitleHeight,u=this.Frame.ChartBorder.GetTop();l>20&&(u+=(l-20)/2+(l-45)/2,l=20),"bottom"==this.TitleAlign&&(u=this.Frame.ChartBorder.GetTopEx()-20,u<0&&(u=0)),t&&(this.Canvas.fillStyle=this.TitleBG,this.Canvas.fillRect(i,u,n,l))}if(this.Title&&this.IsShowIndexName){var c=this.Canvas.measureText(this.Title);if(n=c.width+2,t){if(this.IsDrawTitleBG){var C=1;if(this.Canvas.fillStyle=this.BGColor,a){this.TitleRect={Left:this.Frame.ChartBorder.GetRightTitle(),Top:this.Frame.ChartBorder.GetTop(),Width:this.Frame.ChartBorder.TitleHeight,Height:n};var m={Left:i,Top:-this.Frame.ChartBorder.TitleHeight+C,Width:n,Height:this.Frame.ChartBorder.TitleHeight-2*C};this.Canvas.fillRect(m.Left,m.Top,m.Width,m.Height)}else this.TitleRect={Left:i,Top:this.Frame.ChartBorder.GetTop()+C,Width:n,Height:this.Frame.ChartBorder.TitleHeight-2*C},this.Canvas.fillRect(this.TitleRect.Left,this.TitleRect.Top,this.TitleRect.Width,this.TitleRect.Height)}this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(this.Title,i,r,n)}i+=n}if(this.Text&&this.Text.length>0)for(var f in this.Text){var d=this.Text[f];this.Canvas.fillStyle=d.Color,n=this.Canvas.measureText(d.Text).width+2,this.Canvas.fillText(d.Text,i,r,n),i+=n}if(e)for(var D in this.Data){var p=this.Data[D];if(p&&p.Data&&p.Data.Data&&!(p.Data.Data.length<=0)){var S,v=null,g=null;if("StraightLine"==p.DataType)v=p.Data.Data[0],g=this.FormatValue(v,p);else{var T=this.CursorIndex-.5;if(T<0&&(T=0),T=parseInt(T.toFixed(0)),p.Data.DataOffset+T>=p.Data.Data.length)continue;if(v=p.Data.Data[p.Data.DataOffset+T],null==v)continue;"HistoryData-Vol"==p.DataType?(v=v.Vol,g=this.FormatValue(v,p)):g="MultiReport"==p.DataType?this.FormatMultiReport(v,p):p.GetTextCallback?p.GetTextCallback(v,p):this.FormatValue(v,p)}if(this.Canvas.fillStyle=p.Color,p.Name){var I=this.GetDynamicOutName(p.Name);S=I?I+":"+g:p.Name+":"+g}else S=g;n=this.Canvas.measureText(S).width+this.ParamSpace,this.Canvas.fillText(S,i,r,n),i+=n}}else{i+=4;var x=i,A=i;for(var D in this.Data){p=this.Data[D];if(p&&p.Data&&p.Data.Data&&!(p.Data.Data.length<=0)){var F="\u25cf"+p.Name;if(this.Canvas.fillStyle=p.Color,n=this.Canvas.measureText(F).width+this.ParamSpace,i+n>=s)break;this.Canvas.fillText(F,i,r,n),i+=n,x=i}}x>A&&(this.EraseRect=a?{Left:A,Right:x,Top:-(this.Frame.ChartBorder.TitleHeight-1),Width:x-A,Height:this.Frame.ChartBorder.TitleHeight-2}:{Left:A,Right:x,Top:this.Frame.ChartBorder.GetTop()+1,Width:x-A,Height:this.Frame.ChartBorder.TitleHeight-2})}}}t.exports={JSCommonChartTitle:{IChartTitlePainting:l,DynamicKLineTitlePainting:c,DynamicMinuteTitlePainting:C,DynamicChartTitlePainting:d,DynamicTitleData:f,STRING_FORMAT_TYPE:m},JSCommonChartTitle_IChartTitlePainting:l,JSCommonChartTitle_DynamicKLineTitlePainting:c,JSCommonChartTitle_DynamicMinuteTitlePainting:C,JSCommonChartTitle_DynamicChartTitlePainting:d,JSCommonChartTitle_DynamicTitleData:f,JSCommonChartTitle_STRING_FORMAT_TYPE:m}},c2ac:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"loading2",data:function(){return{}}};e.default=i},c4a0:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniPopupDialog",props:{value:{type:[String,Number],default:""},placeholder:{type:[String,Number],default:"\u8bf7\u8f93\u5165\u5185\u5bb9"},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:"\u63d0\u793a"},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1}},data:function(){return{dialogType:"error",focus:!1,val:""}},inject:["popup"],watch:{type:function(t){this.dialogType=t},mode:function(t){"input"===t&&(this.dialogType="info")},value:function(t){this.val=t}},created:function(){this.popup.mkclick=!1,"input"===this.mode?(this.dialogType="info",this.val=this.value):this.dialogType=this.type},mounted:function(){this.focus=!0},methods:{onOk:function(){var t=this;this.$emit("confirm",(function(){t.popup.close(),"input"===t.mode&&(t.val=t.value)}),"input"===this.mode?this.val:"")},close:function(){var t=this;this.beforeClose?this.$emit("close",(function(){t.popup.close()})):this.popup.close()}}};e.default=i},c638:function(t,e,a){"use strict";var i=a("f19e");function r(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function n(){this.Date,this.YClose,this.Open,this.Close,this.High,this.Low,this.Vol,this.Amount,this.Time,this.FlowCapital=0,this.Position=null,this.Stop,this.Up,this.Down,this.Unchanged}function s(){this.Close,this.Open,this.High,this.Low,this.Vol,this.Amount,this.DateTime,this.Increase,this.Risefall,this.AvPrice,this.Date,this.Time,this.Position=null}function o(){this.Date,this.Value}function h(){}function l(){this.Data=new Array,this.DataOffset=0,this.Period=0,this.Right=0,this.Symbol,this.Data2=new Array,this.GetCloseMA=function(t){for(var e=new Array,a=0,i=this.Data.length;a<i;a++)if(a<t)e[a]=null;else{for(var r=0,n=0;n<t;n++)r+=this.Data[a-n].Close;e[a]=r/t}return e},this.GetVolMA=function(t){for(var e=new Array,a=0,i=this.Data.length;a<i;a++)if(a<t)e[a]=null;else{for(var r=0,n=0;n<t;n++)r+=this.Data[a-n].Vol;e[a]=r/t}return e},this.GetAmountMA=function(t){for(var e=new Array,a=0,i=this.Data.length;a<i;a++)if(a<t)e[a]=null;else{for(var r=0,n=0;n<t;n++)r+=this.Data[a-n].Amount;e[a]=r/t}return e},this.GetClose=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Close;return t},this.GetYClose=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].YClose;return t},this.GetHigh=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].High;return t},this.GetLow=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Low;return t},this.GetOpen=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Open;return t},this.GetVol=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Vol;return t},this.GetAmount=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Amount;return t},this.GetPosition=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Position;return t},this.GetDate=function(){var t=[];for(var e in this.Data)t[e]=this.Data[e].Date;return t},this.GetTime=function(){var t=[];for(var e in this.Data)t[e]=this.Data[e].Time;return t},this.GetUp=function(){var t=[];for(var e in this.Data)t[e]=this.Data[e].Up;return t},this.GetDown=function(){var t=[];for(var e in this.Data)t[e]=this.Data[e].Down;return t},this.GetYear=function(){var t=new Array;for(var e in this.Data)t[e]=parseInt(this.Data[e].Date/1e4);return t},this.GetMonth=function(){var t=new Array;for(var e in this.Data)t[e]=parseInt(this.Data[e].Date%1e4/100);return t},this.GetAvPrice=function(){var t=new Array;for(var e in this.Data){var a=this.Data[e].AvPrice;l.IsNumber(a)?t[e]=a:t[e]=0}return t},this.GetDateRange=function(){if(!this.Data||this.Data.length<=0)return null;var t=this.Data[0],e=this.Data[this.Data.length-1],a={Start:{Date:t.Date},End:{Date:e.Date}};return l.IsNumber(t.Time)&&(a.Start.Time=t.Time),l.IsNumber(e.Time)&&(a.End.Time=e.Time),a},this.GetDateIndex=function(t){for(var e=0,a=0;e<this.Data.length;){var i=this.Data[e].Date;if(a>=t.length)break;var r=t[a];r.Date==i?(r.Index=e,++a):r.Date<i?++a:++e}},this.GetDateTimeIndex=function(t){for(var e=0,a=0;e<this.Data.length;){var i=this.Data[e].Date,r=this.Data[e].Time;if(a>=t.length)break;var n=t[a];n.Date==i&&n.Time==r?(n.Index=e,++a):n.Date<i||n.Date==i&&n.Time<r?++a:++e}},this.GetMinutePeriodData=function(t){if(h.GetMinutePeriodData)return h.GetMinutePeriodData(t,this.Data,this);if(t>C&&t<=m)return this.GetMinuteCustomPeriodData(t-C);var e=[],a=5;if(5==t)a=5;else if(6==t)a=15;else if(7==t)a=30;else if(8==t)a=60;else if(11==t)a=120;else{if(12!=t)return this.Data;a=240}for(var i=!1,r=null,s=null,o=0;o<this.Data.length;){i=!0;for(var l=0;l<a&&o<this.Data.length;++o){i&&(r=new n,e.push(r),i=!1);var u=this.Data[o];if(null!=u){if((925!=u.Time||null!=s&&924==s)&&(930!=u.Time||null!=s&&929==s)&&(1300!=u.Time||null!=s&&1259==s)&&++l,r.Date=u.Date,r.Time=u.Time,s=r.Time,null!=u.Open&&null!=u.Close&&(null==r.Open||null==r.Close?(r.Open=u.Open,r.High=u.High,r.Low=u.Low,r.YClose=u.YClose,r.Close=u.Close,r.Vol=u.Vol,r.Amount=u.Amount,r.Position=u.Position,r.FlowCapital=u.FlowCapital):(r.High<u.High&&(r.High=u.High),r.Low>u.Low&&(r.Low=u.Low),r.Close=u.Close,r.Vol+=u.Vol,r.Amount+=u.Amount,r.Position=u.Position,r.FlowCapital=u.FlowCapital),o+1<this.Data.length)){var c=this.Data[o+1];if(c&&c.Date!=u.Date){++o;break}}}else++l}}return e},this.GetMinuteCustomPeriodData=function(t){for(var e=new Array,a=t,i=!1,r=null,s=0;s<this.Data.length;){i=!0;for(var o=0;o<a&&s<this.Data.length;++s,++o){i&&(r=new n,e.push(r),i=!1);var h=this.Data[s];null!=h&&(r.Date=h.Date,r.Time=h.Time,null!=h.Open&&null!=h.Close&&(null==r.Open||null==r.Close?(r.Open=h.Open,r.High=h.High,r.Low=h.Low,r.YClose=h.YClose,r.Close=h.Close,r.Vol=h.Vol,r.Amount=h.Amount,r.FlowCapital=h.FlowCapital,r.Position=h.Position):(r.High<h.High&&(r.High=h.High),r.Low>h.Low&&(r.Low=h.Low),r.Close=h.Close,r.Vol+=h.Vol,r.Amount+=h.Amount,r.FlowCapital=h.FlowCapital,r.Position=h.Position)))}}return e},this.GetDayPeriodData=function(t){if(t>u&&t<=c)return this.GetDayCustomPeriodData(t-u);var e=i.JSCommonCoordinateData_MARKET_SUFFIX_NAME.IsBIT(this.Symbol),a=[],r=0,s=2,o=null;for(var h in this.Data){var C=!1,m=this.Data[h];switch(t){case 1:if(e)var f=l.GetSunday(m.Date);else f=l.GetFirday(m.Date);f!=r&&(C=!0,r=f);break;case 21:if(e)f=l.GetSunday(m.Date);else f=l.GetFirday(m.Date);f!=r&&(++s,s>=2&&(C=!0,s=0),r=f);break;case 2:parseInt(m.Date/100)!=parseInt(r/100)&&(C=!0,r=m.Date);break;case 3:parseInt(m.Date/1e4)!=parseInt(r/1e4)&&(C=!0,r=m.Date);break;case 9:var d=l.GetQuarter(m.Date);d=10*parseInt(m.Date/1e4)+d;var D=l.GetQuarter(r);D=10*parseInt(r/1e4)+D,d!=D&&(C=!0,r=m.Date);break}if(C){if(o=new n,o.Date=m.Date,a.push(o),null==m.Open||null==m.Close)continue;o.Open=m.Open,o.High=m.High,o.Low=m.Low,o.YClose=m.YClose,o.Close=m.Close,o.Vol=m.Vol,o.Amount=m.Amount,o.FlowCapital=m.FlowCapital,o.Position=m.Position}else{if(null==o)continue;if(null==m.Open||null==m.Close)continue;null==o.Open||null==o.Close?(o.Open=m.Open,o.High=m.High,o.Low=m.Low,o.YClose=m.YClose,o.Close=m.Close,o.Vol=m.Vol,o.Amount=m.Amount,o.FlowCapital=m.FlowCapital,o.Position=m.Position):(o.High<m.High&&(o.High=m.High),o.Low>m.Low&&(o.Low=m.Low),o.Close=m.Close,o.Vol+=m.Vol,o.Amount+=m.Amount,o.Date=m.Date,o.FlowCapital=m.FlowCapital,o.Position=m.Position)}}return a},this.GetDayCustomPeriodData=function(t){for(var e=[],a=t,i=!1,r=null,s=0;s<this.Data.length;){i=!0;for(var o=0;o<a&&s<this.Data.length;++s,++o){i&&(r=new n,e.push(r),i=!1);var h=this.Data[s];null!=h&&(r.Date=h.Date,null!=h.Open&&null!=h.Close&&(null==r.Open||null==r.Close?(r.Open=h.Open,r.High=h.High,r.Low=h.Low,r.YClose=h.YClose,r.Close=h.Close,r.Vol=h.Vol,r.Amount=h.Amount,r.FlowCapital=h.FlowCapital,r.Position=h.Position):(r.High<h.High&&(r.High=h.High),r.Low>h.Low&&(r.Low=h.Low),r.Close=h.Close,r.Vol+=h.Vol,r.Amount+=h.Amount,r.Position=h.Position,r.FlowCapital=h.FlowCapital)))}}return e},this.GetPeriodData=function(t){return 1==t||2==t||3==t||9==t||21==t||t>u&&t<=c?this.GetDayPeriodData(t):5==t||6==t||7==t||8==t||11==t||12==t||t>C&&t<=m?this.GetMinutePeriodData(t):void 0},this.GetRightDate=function(t){var e=[];if(this.Data.length<=0)return e;if(1==t){var a=this.Data.length-1,i=1,r=this.Data[a].YClose;for(e[a]=n.Copy(this.Data[a]),--a;a>=0;--a){if(r!=this.Data[a].Close)break;e[a]=n.Copy(this.Data[a]),r=this.Data[a].YClose}for(;a>=0;--a)r!=this.Data[a].Close&&(i*=r/this.Data[a].Close),e[a]=n.CopyRight(this.Data[a],i),r=this.Data[a].YClose}else if(2==t){a=0,i=1;var s=this.Data[a].Close;for(e[a]=n.Copy(this.Data[a]),++a;a<this.Data.length;++a){if(s!=this.Data[a].YClose)break;e[a]=n.Copy(this.Data[a]),s=this.Data[a].Close}for(;a<this.Data.length;++a)s!=this.Data[a].YClose&&(i*=s/this.Data[a].YClose),e[a]=n.CopyRight(this.Data[a],i),s=this.Data[a].Close}return e},this.GetOverlayData=function(t){for(var e=[],a=0,i=0;a<this.Data.length;){var r=this.Data[a].Date;if(i>=t.length)e[a]=new n,e[a].Date=r,++a;else{var s=t[i].Date;s==r?(e[a]=new n,e[a].Date=t[i].Date,e[a].YClose=t[i].YClose,e[a].Open=t[i].Open,e[a].High=t[i].High,e[a].Low=t[i].Low,e[a].Close=t[i].Close,e[a].Vol=t[i].Vol,e[a].Amount=t[i].Amount,e[a].Stop=t[i].Stop,e[a].Up=t[i].Up,e[a].Down=t[i].Down,e[a].Unchanged=t[i].Unchanged,++i,++a):s<r?++i:(e[a]=new n,e[a].Date=r,++a)}}return e},this.GetFittingData=function(t){for(var e=new Array,a=0,i=0;a<this.Data.length;){var r=this.Data[a].Date;if(i>=t.length)e[a]=null,++a;else{var n=t[i].Date;if(n==r){var s=new o;s.Date=t[i].Date,s.Value=t[i].Value,e[a]=s,++i,++a}else n<r?++i:(e[a]=new o,e[a].Date=r,++a)}}return e},this.GetFittingData2=function(t,e){for(var a=new Array,i=0,r=0;i<this.Data.length;){var n=this.Data[i].Date;if(r>=t.length)a[i]=new o,a[i].Date=n,a[i].Value=e,++i;else{var s=t[r].Date;if(s==n){var h=new o;h.Date=t[r].Date,h.Value=t[r].Value,a[i]=h,++r,++i}else s<n?++r:(a[i]=new o,a[i].Date=n,a[i].Value=e,++i)}}return a},this.GetMinuteFittingData=function(t){for(var e=[],a=0,i=0;a<this.Data.length;){var r=this.Data[a].Date,n=this.Data[a].Time;if(i>=t.length)e[a]=null,++a;else{var s=t[i].Date,h=t[i].Time,l=t[i];if(s==r&&h==n){var u=new o;u.Date=l.Date,u.Time=l.Time,u.Value=l.Value,e[a]=u,++i,++a}else if(s<r||s==r&&h<n)++i;else{u=new o;u.Date=r,u.Time=n,e[a]=u,++a}}}return e},this.GetFittingFinanceData=function(t){for(var e=[],a=0,i=0;a<this.Data.length;){var r=this.Data[a].Date;if(i<t.length){var n=t[i].Date;if(r<n){++a;continue}}if(i+1<t.length&&t[i].Date<r&&t[i+1].Date<=r)++i;else{var s=new o;s.Date=r,s.Value=t[i].Value,s.FinanceDate=t[i].Date,e[a]=s,++a}}return e},this.GetMinuteFittingFinanceData=function(t){var e=[];if(!Array.isArray(t)||t.length<=0)return e;var a=0,i=t[0];for(a=0;a<this.Data.length;++a){var r=this.Data[a].Date,n=this.Data[a].Time;if(r>i.Date||r==i.Date&&n>=i.Time)break}for(var s=0;a<this.Data.length;){r=this.Data[a].Date,n=this.Data[a].Time;if(s+1<t.length&&(t[s].Date<r&&t[s+1].Date<=r||t[s].Date==r&&t[s].Time<n&&t[s+1].Time<=n))++s;else{var h=new o;h.Date=r,h.Time=n,s<t.length?(h.Value=t[s].Value,h.FinanceDate=t[s].Date,h.FinanceTime=t[s].Time):(h.Value=null,h.FinanceDate=null,h.FinanceTime=null),e[a]=h,++a}}return e},this.GetFittingMarketValueData=function(t){for(var e=[],a=0,i=0;a<this.Data.length;){var r=this.Data[a].Date,n=this.Data[a].Close;if(i+1<t.length&&t[i].Date<r&&t[i+1].Date<=r)++i;else{var s=new o;s.Date=r,s.Value=t[i].Value*n,s.FinanceDate=t[i].Date,e[a]=s,++a}}return e},this.GetFittingMonthData=function(t){for(var e=new Array,a=null,i=0,r=0;i<this.Data.length;){var n=this.Data[i].Date;if(r>=t.length)e[i]=null,++i;else{var s=t[r].Date;if(s==n){var h=new o;h.Date=t[r].Date,h.Value=t[r].Value,h.Text=t[r].Text,e[i]=h,++r,++i}else if(null!=a&&a<s&&n>s){h=new o;h.Date=n,h.OverlayDate=t[r].Date,h.Value=t[r].Value,h.Text=t[r].Text,e[i]=h,++r,++i}else s<n?++r:(e[i]=new o,e[i].Date=n,++i);a=n}}return e},this.GetValue=function(){var t=new Array;for(var e in this.Data)null==this.Data[e]||null==this.Data[e].Value?t[e]=null:isNaN(this.Data[e].Value)?this.Data[e].Value instanceof Array?t[e]=this.Data[e].Value:t[e]=null:t[e]=this.Data[e].Value;return t},this.GetPeriodSingleData=function(t){var e=new Array,a=0,i=null;for(var r in this.Data){var n=!1,s=this.Data[r];if(null!=s&&null!=s.Date){switch(t){case 1:var h=l.GetFirday(s.Date);h!=a&&(n=!0,a=h);break;case 2:parseInt(s.Date/100)!=parseInt(a/100)&&(n=!0,a=s.Date);break;case 3:parseInt(s.Date/1e4)!=parseInt(a/1e4)&&(n=!0,a=s.Date);break}if(n)i=new o,i.Date=s.Date,i.Value=s.Value,e.push(i);else{if(null==i)continue;if(null==s.Value||isNaN(s.Value))continue;(null==i.Value||isNaN(i.Value))&&(i.Value=s.Value)}}}return e},this.GetMinuteAvPrice=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].AvPrice;return t},this.MergeMinuteData=function(t){for(var e=this.Data[0],a=0,i=null,r=0;r<t.length;++r){var s=t[r];if(s.Date>e.Date){a=r,i=s;break}if(s.Date==e.Date&&s.Time>=e.Time){a=r,i=s;break}}if(null==i)return!1;var o=null,h=!1;for(r=this.Data.length-1;r>=0;--r){var l=this.Data[r].Date,u=this.Data[r].Time;if(i.Date>l||i.Date==l&&i.Time>=u){o=r,i.Date==l&&i.Time==u&&(h=!0);break}}if(null==o)return!1;var c=o;r=a;if(1==h){s=t[r];c-1>0&&!s.YClose&&(s.YClose=this.Data[c-1].Close);var C=n.Copy(s);this.Data[c]=C,++c,++r}else++c;for(;r<t.length;){s=t[r];if(c>=this.Data.length-1){c-1>0&&!s.YClose&&(s.YClose=this.Data[c-1].YClose);C=n.Copy(s);this.Data[c]=C,++c,++r}else{var m=this.Data[c];m.Date==s.Date&&m.Time==s.Time?(n.CopyTo(m,s),++c,++r):++c}}return!0},this.GetFittingTradeData=function(t,e,a){for(var i=[],r=!1,n=0,s=0;n<this.Data.length;){var h=this.Data[n].Date;if(s<t.length&&t[s].Date>h){var l=new o;l.Date=h,l.Value=e,i[n]=l,++n}else if(s+1<t.length&&t[s].Date<h&&t[s+1].Date<=h)++s,r=!1;else{l=new o;if(l.Date=h,l.Value=e,l.FinanceDate=null,s<t.length){var u=t[s];0==this.Period&&!0===a?u.Date==l.Date&&(l.Value=u.Value,l.FinanceDate=u.Date,r=!0):0==r&&(l.Value=u.Value,l.FinanceDate=u.Date,r=!0)}i[n]=l,++n}}return i},this.GetMinuteFittingTradeData=function(t,e,a){for(var i=[],r=!1,n=0,s=0;n<this.Data.length;){var h=this.Data[n].Date,l=this.Data[n].Time;if(s<t.length&&(t[s].Date>h||t[s].Date==h&&t[s].Time>l)){var u=new o;u.Date=h,u.Time=l,u.Value=e,i[n]=u,++n}else if(s+1<t.length&&(t[s].Date<h&&t[s+1].Date<=h||t[s].Date==h&&t[s].Time<l&&t[s+1].Time<=l))++s,r=!1;else{u=new o;if(u.Date=h,u.FinanceDate=null,u.Time=l,u.Value=e,s<t.length){var c=t[s];4==this.Period&&!0===a?c.Date==u.Date&&c.Time==u.Time&&(u.Value=c.Value,u.FinanceDate=c.Date,u.FinanceTime=c.Time,r=!0):0==r&&(u.Value=c.Value,u.FinanceDate=c.Date,u.FinanceTime=c.Time,r=!0)}i[n]=u,++n}}return i}}n.Copy=function(t){var e=new n;return e.Date=t.Date,e.YClose=t.YClose,e.Open=t.Open,e.Close=t.Close,e.High=t.High,e.Low=t.Low,e.Vol=t.Vol,e.Amount=t.Amount,e.Time=t.Time,e.FlowCapital=t.FlowCapital,e.Position=t.Position,e.Stop=t.Stop,e.Up=t.Up,e.Down=t.Down,e.Unchanged=t.Unchanged,e},n.CopyTo=function(t,e){t.Date=e.Date,t.YClose=e.YClose,t.Open=e.Open,t.Close=e.Close,t.High=e.High,t.Low=e.Low,t.Vol=e.Vol,t.Amount=e.Amount,t.Time=e.Time,t.FlowCapital=e.FlowCapital,t.Stop=e.Stop,t.Up=e.Up,t.Down=e.Down,t.Unchanged=e.Unchanged},n.CopyRight=function(t,e){var a=new n;return a.Date=t.Date,a.YClose=t.YClose*e,a.Open=t.Open*e,a.Close=t.Close*e,a.High=t.High*e,a.Low=t.Low*e,a.Vol=t.Vol,a.Amount=t.Amount,a.FlowCapital=t.FlowCapital,a.Position=t.Position,a},h.GetMinutePeriodData=null,l.IsNumber=function(t){return null!=t&&!isNaN(t)},l.GetFirday=function(t){var e=new Date(parseInt(t/1e4),t/100%100-1,t%100),a=e.getDay();if(5==a)return t;var i=e.getTime();if(a<5){var r=864e5*(5-a);i+=r}else{r=864e5*(a-5);i-=r}e.setTime(i);var n=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();e.getDay();return n},l.GetSunday=function(t){var e=new Date(parseInt(t/1e4),t/100%100-1,t%100),a=e.getDay();if(0==a)return t;var i=e.getTime();if(a>0){var r=864e5*(7-a);i+=r}e.setTime(i);var n=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();e.getDay();return n},l.GetQuarter=function(t){var e=parseInt(t%1e4/100);return 1==e||2==e||3==e?1:4==e||5==e||6==e?2:7==e||8==e||9==e?3:10==e||11==e||12==e?4:0};var u=4e4,c=49999;l.IsDayPeriod=function(t,e){return 1==t||2==t||3==t||9==t||21==t||(t>u&&t<=c||0==t&&1==e)};var C=2e4,m=29999;l.IsMinutePeriod=function(t,e){return 5==t||6==t||7==t||8==t||11==t||12==t||(t>C&&t<=m||4==t&&1==e)};var f=3e4,d=32e3;function D(t,e,a,i){this.Left=t,this.Top=e,this.Right=t+a,this.Bottom=e+i,this.IsPointIn=function(t,e){return t>=this.Left&&t<=this.Right&&e>=this.Top&&e<=this.Bottom}}function p(t){return parseInt(t)+.5}function S(t){return.5+t<<0}l.IsSecondPeriod=function(t){return t>f&&t<=d},l.IsTickPeriod=function(t){return 10==t},l.GetPeriodName=function(t){var e=new Map([[0,"\u65e5\u7ebf"],[1,"\u5468\u7ebf"],[2,"\u6708\u7ebf"],[3,"\u5e74\u7ebf"],[9,"\u5b63\u7ebf"],[21,"\u53cc\u5468"],[4,"1\u5206"],[5,"5\u5206"],[6,"15\u5206"],[7,"30\u5206"],[8,"60\u5206"],[11,"2\u5c0f\u65f6"],[12,"4\u5c0f\u65f6"],[10,"\u5206\u7b14"]]);return e.has(t)?e.get(t):""},t.exports={JSCommonData:{HistoryData:n,ChartData:l,SingleData:o,MinuteData:s,Rect:D,DataPlus:h},JSCommon_ChartData:l,JSCommon_HistoryData:n,JSCommon_SingleData:o,JSCommon_MinuteData:s,JSCommon_CUSTOM_DAY_PERIOD_START:u,JSCommon_CUSTOM_DAY_PERIOD_END:c,JSCommon_CUSTOM_MINUTE_PERIOD_START:C,JSCommon_CUSTOM_MINUTE_PERIOD_END:m,JSCommon_CUSTOM_SECOND_PERIOD_START:f,JSCommon_CUSTOM_SECOND_PERIOD_END:d,JSCommon_Rect:D,JSCommon_DataPlus:h,JSCommon_Guid:r,JSCommon_ToFixedPoint:p,JSCommon_ToFixedRect:S}},c6da:function(t,e,a){"use strict";a.r(e);var i=a("d7db"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},c7fb:function(t,e,a){"use strict";a("314e");var i=n(a("8bbf")),r=n(a("a697"));function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){h(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}i.default.config.productionTip=!1,r.default.mpType="app";var l=new i.default(o({},r.default));l.$mount()},c8a5:function(t,e,a){"use strict";a.r(e);var i=a("40f7"),r=a("8193");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=h.exports},c8ba:function(t,e){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(i){"object"===typeof window&&(a=window)}t.exports=a},ccab:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={vTabs:a("a367").default,uniPopup:a("df12").default},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:t._$s(1,"sc","topbox"),attrs:{_i:1}},[a("view",{staticClass:t._$s(2,"sc","topbox_left"),attrs:{_i:2}},[a("view",{staticClass:t._$s(3,"sc","topbox_left1"),attrs:{_i:3}},[a("text",{class:t._$s(4,"c",[t.lastday_data[1]>0?"text_red":"text_green"]),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s((t.lastday_data[5]-0).toFixed(2))))])]),a("view",{staticClass:t._$s(5,"sc","topbox_left2"),attrs:{_i:5}},[a("view",{staticClass:t._$s(6,"sc","topbox_left2_item"),attrs:{_i:6}},[a("text",{class:t._$s(7,"c",[t.lastday_data[1]>0?"text_red":"text_green"]),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s((t.lastday_data[5]-t.lastday_data[1]).toFixed(2))))])]),a("view",{staticClass:t._$s(8,"sc","topbox_left2_item"),attrs:{_i:8}},[a("text",{class:t._$s(9,"c",[t.lastday_data[1]>0?"text_red":"text_green"]),attrs:{_i:9}},[t._v(t._$s(9,"t0-0",t._s((100*(t.lastday_data[5]-t.lastday_data[1])/t.lastday_data[1]).toFixed(2))))])])])]),a("view",{staticClass:t._$s(10,"sc","topbox_right"),attrs:{_i:10}},[a("view",{staticClass:t._$s(11,"sc","topbox_right_line"),attrs:{_i:11}},[a("view",{staticClass:t._$s(12,"sc","topbox_right_item"),attrs:{_i:12}},[a("view"),a("view",[t._v(t._$s(14,"t0-0",t._s((t.lastday_data[1]-0).toFixed(2))))])]),a("view",{staticClass:t._$s(15,"sc","topbox_right_item"),attrs:{_i:15}},[a("view"),a("view",[t._v(t._$s(17,"t0-0",t._s((t.lastday_data[3]-0).toFixed(2))))])]),a("view",{staticClass:t._$s(18,"sc","topbox_right_item"),attrs:{_i:18}},[a("view"),a("view",[t._v(t._$s(20,"t0-0",t._s((t.lastday_data[6]/1e4).toFixed(2))))])])]),a("view",{staticClass:t._$s(21,"sc","topbox_right_line"),attrs:{_i:21}},[a("view",{staticClass:t._$s(22,"sc","topbox_right_item"),attrs:{_i:22}},[a("view"),a("view",[t._v(t._$s(24,"t0-0",t._s((t.lastday_data[2]-0).toFixed(2))))])]),a("view",{staticClass:t._$s(25,"sc","topbox_right_item"),attrs:{_i:25}},[a("view"),a("view",[t._v(t._$s(27,"t0-0",t._s((t.lastday_data[4]-0).toFixed(2))))])]),a("view",{staticClass:t._$s(28,"sc","topbox_right_item"),attrs:{_i:28}},[a("view"),a("view",[t._v(t._$s(30,"t0-0",t._s((t.lastday_data[7]/1e4).toFixed(2))))])])])])]),a("view"),a("view",[a("v-tabs",{attrs:{"v-model":t.tab_index,tabs:["\u65e5K","\u5468K"],pills:!1,scroll:!1,fixed:!1,bgColor:"#ffffff","line-height":"5rpx",lineColor:"#f9273f",activeColor:"#f9273f",_i:33},on:{change:t.changeTab}})],1),a("view",[a("canvas",{staticClass:t._$s(35,"sc","kline"),attrs:{id:"kline",_i:35},on:{touchstart:t.KLineTouchStart,touchmove:t.KLineTouchMove,touchend:t.KLineTouchEnd}})]),a("view",{staticClass:t._$s(36,"sc","picker_group"),attrs:{_i:36}},[a("picker",{staticClass:t._$s(37,"sc","picker"),attrs:{value:t._$s(37,"a-value",t.method1_value),range:t._$s(37,"a-range",t.method1_range),_i:37},on:{change:t.method1_picker}},[t._v(t._$s(37,"t0-0",t._s(t.method1_range[t.method1_value])))]),a("picker",{staticClass:t._$s(38,"sc","picker"),attrs:{value:t._$s(38,"a-value",t.method2_value),range:t._$s(38,"a-range",t.method2_range),_i:38},on:{change:t.method2_picker}},[t._v(t._$s(38,"t0-0",t._s(t.method2_range[t.method2_value])))])]),a("view",{staticClass:t._$s(39,"sc","messagebox"),attrs:{_i:39}},[a("view",{staticClass:t._$s(40,"sc","keyword_group"),attrs:{_i:40}},[a("view",{staticClass:t._$s(41,"sc","keyword"),attrs:{_i:41}},[t._v(t._$s(41,"t0-0",t._s(t.stock_data[2])))]),a("view",{staticClass:t._$s(42,"sc","keyword"),attrs:{_i:42}},[t._v(t._$s(42,"t0-0",t._s(t.stock_data[3])))]),a("view",{staticClass:t._$s(43,"sc","keyword"),attrs:{_i:43}},[t._v(t._$s(43,"t0-0",t._s(t.stock_data[4])))])]),a("text",{staticClass:t._$s(44,"sc","text"),attrs:{_i:44}},[t._v(t._$s(44,"t0-0",t._s(t.stock_data[1])))])]),a("view"),a("view",{staticClass:t._$s(46,"sc","bottombox"),attrs:{_i:46}},[t._$s(47,"i",0==t.is_ZX)?a("button",{staticClass:t._$s(47,"sc","bottom_button"),attrs:{_i:47},on:{click:function(e){return t.select()}}}):a("button",{staticClass:t._$s(48,"sc","bottom_button"),attrs:{_i:48},on:{click:function(e){return t.remove()}}}),a("button",{staticClass:t._$s(49,"sc","bottom_button"),attrs:{_i:49},on:{click:function(e){return t.deal()}}})]),a("uni-popup",{ref:"popdeal",attrs:{type:"center",_i:50}},[a("view",{staticClass:t._$s(51,"sc","self"),attrs:{_i:51}},[a("text"),a("view"),a("input",{staticClass:t._$s(54,"sc","in"),attrs:{value:t._$s(54,"a-value",t.Symbol.substr(0,6)),_i:54}}),a("view"),a("input",{staticClass:t._$s(56,"sc","in"),attrs:{value:t._$s(56,"a-value",t.Name),_i:56}}),a("view"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.deal_vol,expression:"deal_vol"}],staticClass:t._$s(58,"sc","in"),attrs:{_i:58},domProps:{value:t._$s(58,"v-model",t.deal_vol)},on:{input:function(e){e.target.composing||(t.deal_vol=e.target.value)}}}),a("radio-group",{staticClass:t._$s(59,"sc","radio_group"),attrs:{_i:59},on:{change:t.chooseBS}},[a("radio",{staticClass:t._$s(60,"sc","radio"),attrs:{_i:60}}),a("radio",{staticClass:t._$s(61,"sc","radio"),attrs:{_i:61}})]),a("view",{staticClass:t._$s(62,"sc","in_button"),attrs:{_i:62}},[a("view"),a("button",{staticClass:t._$s(64,"sc","button"),attrs:{_i:64},on:{click:function(e){return t.submit_deal()}}})])])])],1)},n=[]},cecd:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view"),i("view",{staticClass:t._$s(2,"sc","topbox"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","messagebox"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","name"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.user_msg[2])))]),i("view",{staticClass:t._$s(5,"sc","item"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.user_msg[0])))]),i("view",{staticClass:t._$s(6,"sc","item"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s((t.assert[0]+t.stock_assert).toFixed(2))))]),i("button",{staticClass:t._$s(7,"sc","button"),attrs:{_i:7},on:{click:t.changepw}}),i("button",{staticClass:t._$s(8,"sc","button"),attrs:{_i:8},on:{click:t.logout}})]),i("image",{staticClass:t._$s(9,"sc","photo"),attrs:{src:t._$s(9,"a-src",a("fb15")),_i:9}})]),i("view",{staticClass:t._$s(10,"sc","title"),attrs:{_i:10}}),i("scroll-view",{},[i("view",{staticClass:t._$s(12,"sc","HSlist"),attrs:{_i:12}},t._l(t._$s(13,"f",{forItems:t.TJdata}),(function(e,a,r,n){return i("view",{key:t._$s(13,"f",{forIndex:r,key:a}),staticClass:t._$s("13-"+n,"sc","HSitem"),attrs:{_i:"13-"+n},on:{click:function(a){return t.choose_Stock(e)}}},[i("view",{staticClass:t._$s("14-"+n,"sc","HSitem_col"),attrs:{_i:"14-"+n}},[i("view",[t._v(t._$s("15-"+n,"t0-0",t._s(e[3])))]),i("view",[t._v(t._$s("16-"+n,"t0-0",t._s(e[0].substr(0,6))))])]),i("view",{staticClass:t._$s("17-"+n,"sc","HSitem_col"),attrs:{_i:"17-"+n}},[i("view",[t._v(t._$s("18-"+n,"t0-0",t._s((e[1]-0).toFixed(2))))]),i("view",{staticClass:t._$s("19-"+n,"sc","SEL_msg"),attrs:{_i:"19-"+n}})]),i("view",{staticClass:t._$s("20-"+n,"sc","HSitem_col"),attrs:{_i:"20-"+n}},[i("view",{class:t._$s("21-"+n,"c",[e[2]>e[1]?"HSitem_red":"HSitem_green"]),attrs:{_i:"21-"+n}},[t._v(t._$s("21-"+n,"t0-0",t._s((e[2]-0).toFixed(2))))]),i("view",{staticClass:t._$s("22-"+n,"sc","SEL_msg"),attrs:{_i:"22-"+n}})])])})),0)]),i("view",{staticClass:t._$s(23,"sc","title"),attrs:{_i:23}}),i("scroll-view",{},[i("view",{staticClass:t._$s(25,"sc","HSlist"),attrs:{_i:25}},t._l(t._$s(26,"f",{forItems:t.position}),(function(e,a,r,n){return t._$s("26-"+n,"i",e[4]<e[2])?i("view",{key:t._$s(26,"f",{forIndex:r,key:a}),staticClass:t._$s("26-"+n,"sc","HSitem"),attrs:{_i:"26-"+n},on:{click:function(a){return t.choose_Stock(e)}}},[i("view",{staticClass:t._$s("27-"+n,"sc","HSitem_col"),attrs:{_i:"27-"+n}},[i("view",[t._v(t._$s("28-"+n,"t0-0",t._s(e[3])))]),i("view",[t._v(t._$s("29-"+n,"t0-0",t._s(e[0].substr(0,6))))])]),i("view",{staticClass:t._$s("30-"+n,"sc","HSitem_col"),attrs:{_i:"30-"+n}},[i("view",{class:t._$s("31-"+n,"c",[e[4]>e[2]?"HSitem_red":"HSitem_green"]),attrs:{_i:"31-"+n}},[t._v(t._$s("31-"+n,"t0-0",t._s((e[4]-0).toFixed(2))))]),i("view",{staticClass:t._$s("32-"+n,"sc","SEL_msg"),attrs:{_i:"32-"+n}},[t._v(t._$s("32-"+n,"t0-0",t._s(e[2])))])]),i("view",{staticClass:t._$s("33-"+n,"sc","HSitem_col"),attrs:{_i:"33-"+n}},[i("view",{class:t._$s("34-"+n,"c",[e[4]>e[2]?"HSitem_red":"HSitem_green"]),attrs:{_i:"34-"+n}},[t._v(t._$s("34-"+n,"t0-0",t._s((100*(e[4]-e[2])/e[2]).toFixed(2))))]),i("view",{staticClass:t._$s("35-"+n,"sc","SEL_msg"),attrs:{_i:"35-"+n}},[t._v(t._$s("35-"+n,"t0-0",t._s(e[1])))])])]):t._e()})),0)])])},n=[]},d004:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[t._$s(1,"i",1==t.loadingType)?a("Loading1",{attrs:{_i:1}}):t._e(),t._$s(2,"i",2==t.loadingType)?a("Loading2",{attrs:{_i:2}}):t._e(),t._$s(3,"i",3==t.loadingType)?a("Loading3",{attrs:{_i:3}}):t._e(),t._$s(4,"i",4==t.loadingType)?a("Loading4",{attrs:{_i:4}}):t._e(),t._$s(5,"i",5==t.loadingType)?a("Loading5",{attrs:{_i:5}}):t._e()],1)},n=[]},d418:function(t,e,a){"use strict";(function(e){function a(t,e){return o(t)||s(t,e)||r(t,e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return n(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function s(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],i=!0,r=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done);i=!0)if(a.push(s.value),e&&a.length===e)break}catch(h){r=!0,n=h}finally{try{i||null==o["return"]||o["return"]()}finally{if(r)throw n}}return a}}function o(t){if(Array.isArray(t))return t}var h={version:"v2.3.0-20210612",yAxisWidth:15,yAxisSplit:5,xAxisHeight:22,xAxisLineHeight:22,legendHeight:15,yAxisTitleWidth:15,padding:[10,10,10,10],pixelRatio:1,rotate:!1,columePadding:3,fontSize:13,fontColor:"#666666",dataPointShape:["circle","circle","circle","circle"],color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],linearColor:["#0EE2F8","#2BDCA8","#FA7D8D","#EB88E2","#2AE3A0","#0EE2F8","#EB88E2","#6773E3","#F78A85"],pieChartLinePadding:15,pieChartTextPadding:5,xAxisTextPadding:3,titleColor:"#333333",titleFontSize:20,subtitleColor:"#999999",subtitleFontSize:15,toolTipPadding:3,toolTipBackground:"#000000",toolTipOpacity:.7,toolTipLineHeight:20,radarLabelTextMargin:13,gaugeLabelTextMargin:13},l=function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];if(null==t)throw new TypeError("[uCharts] Cannot convert undefined or null to object");if(!a||a.length<=0)return t;function r(t,e){for(var a in e)t[a]=t[a]&&"[object Object]"===t[a].toString()?r(t[a],e[a]):t[a]=e[a];return t}return a.forEach((function(e){t=r(t,e)})),t},u={toFixed:function(t,e){return e=e||2,this.isFloat(t)&&(t=t.toFixed(e)),t},isFloat:function(t){return t%1!==0},approximatelyEqual:function(t,e){return Math.abs(t-e)<1e-10},isSameSign:function(t,e){return Math.abs(t)===t&&Math.abs(e)===e||Math.abs(t)!==t&&Math.abs(e)!==e},isSameXCoordinateArea:function(t,e){return this.isSameSign(t.x,e.x)},isCollision:function(t,e){t.end={},t.end.x=t.start.x+t.width,t.end.y=t.start.y-t.height,e.end={},e.end.x=e.start.x+e.width,e.end.y=e.start.y-e.height;var a=e.start.x>t.end.x||e.end.x<t.start.x||e.end.y>t.start.y||e.start.y<t.end.y;return!a}};function c(t,e){var a=Array(2),i=20037508.34*t/180,r=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return r=20037508.34*r/180,a[0]=i,a[1]=r,a}function C(t,e){var a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=t.replace(a,(function(t,e,a,i){return e+e+a+a+i+i})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),n=parseInt(r[1],16),s=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+n+","+s+","+o+","+e+")"}function m(t,e,a){if(isNaN(t))throw new Error("[uCharts] series\u6570\u636e\u9700\u4e3aNumber\u683c\u5f0f");a=a||10,e=e||"upper";var i=1;while(a<1)a*=10,i*=10;t="upper"===e?Math.ceil(t*i):Math.floor(t*i);while(t%a!==0)"upper"===e?t++:t--;return t/i}function f(t,e,a,i){for(var r=[],n=0;n<t.length;n++){for(var s={data:[],name:e[n],color:a[n]},o=0,h=i.length;o<h;o++)if(o<t[n])s.data.push(null);else{for(var l=0,u=0;u<t[n];u++)l+=i[o-u][1];s.data.push(+(l/t[n]).toFixed(3))}r.push(s)}return r}function d(t,e,a,i,r){var n=r.width-r.area[1]-r.area[3],s=a.eachSpacing*(r.chartData.xAxisData.xAxisPoints.length-1),o=e;return e>=0?(o=0,t.uevent.trigger("scrollLeft"),t.scrollOption.position="left",r.xAxis.scrollPosition="left"):Math.abs(e)>=s-n?(o=n-s,t.uevent.trigger("scrollRight"),t.scrollOption.position="right",r.xAxis.scrollPosition="right"):(t.scrollOption.position=e,r.xAxis.scrollPosition=e),o}function D(t,e,a){function i(t){while(t<0)t+=2*Math.PI;while(t>2*Math.PI)t-=2*Math.PI;return t}return t=i(t),e=i(e),a=i(a),e>a&&(a+=2*Math.PI,t<e&&(t+=2*Math.PI)),t>=e&&t<=a}function p(t,e,a){var i=t,r=a-e,n=i+(a-r-i)/Math.sqrt(2);n*=-1;var s=(a-r)*(Math.sqrt(2)-1)-(a-r-i)/Math.sqrt(2);return{transX:n,transY:s}}function S(t,e){function a(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].y>=Math.max(t[e-1].y,t[e+1].y)||t[e].y<=Math.min(t[e-1].y,t[e+1].y))}function i(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].x>=Math.max(t[e-1].x,t[e+1].x)||t[e].x<=Math.min(t[e-1].x,t[e+1].x))}var r=.2,n=.2,s=null,o=null,h=null,l=null;if(e<1?(s=t[0].x+(t[1].x-t[0].x)*r,o=t[0].y+(t[1].y-t[0].y)*r):(s=t[e].x+(t[e+1].x-t[e-1].x)*r,o=t[e].y+(t[e+1].y-t[e-1].y)*r),e>t.length-3){var u=t.length-1;h=t[u].x-(t[u].x-t[u-1].x)*n,l=t[u].y-(t[u].y-t[u-1].y)*n}else h=t[e+1].x-(t[e+2].x-t[e].x)*n,l=t[e+1].y-(t[e+2].y-t[e].y)*n;return a(t,e+1)&&(l=t[e+1].y),a(t,e)&&(o=t[e].y),i(t,e+1)&&(h=t[e+1].x),i(t,e)&&(s=t[e].x),(o>=Math.max(t[e].y,t[e+1].y)||o<=Math.min(t[e].y,t[e+1].y))&&(o=t[e].y),(l>=Math.max(t[e].y,t[e+1].y)||l<=Math.min(t[e].y,t[e+1].y))&&(l=t[e+1].y),(s>=Math.max(t[e].x,t[e+1].x)||s<=Math.min(t[e].x,t[e+1].x))&&(s=t[e].x),(h>=Math.max(t[e].x,t[e+1].x)||h<=Math.min(t[e].x,t[e+1].x))&&(h=t[e+1].x),{ctrA:{x:s,y:o},ctrB:{x:h,y:l}}}function v(t,e,a){return{x:a.x+t,y:a.y-e}}function g(t,e){if(e)while(u.isCollision(t,e))t.start.x>0?t.start.y--:t.start.x<0||t.start.y>0?t.start.y++:t.start.y--;return t}function T(t,e,a){var i=[];if(t.length>0&&t[0].data.constructor.toString().indexOf("Array")>-1){e._pieSeries_=t;for(var r=t[0].data,n=0;n<r.length;n++)r[n].formatter=t[0].formatter,r[n].data=r[n].value,i.push(r[n]);e.series=i}else i=t;return i}function I(t,e,a){for(var i=0,r=0;r<t.length;r++){var n=t[r];if(n.color||(n.color=a.color[i],i=(i+1)%a.color.length),n.linearIndex||(n.linearIndex=r),n.index||(n.index=0),n.type||(n.type=e.type),"undefined"==typeof n.show&&(n.show=!0),n.type||(n.type=e.type),n.pointShape||(n.pointShape="circle"),!n.legendShape)switch(n.type){case"line":n.legendShape="line";break;case"column":n.legendShape="rect";break;case"area":n.legendShape="triangle";break;case"bar":n.legendShape="rect";break;default:n.legendShape="circle"}}return t}function x(t,e,a,i){var r=e||[];if("custom"==t&&0==r.length&&(r=i.linearColor),"custom"==t&&r.length<a.length)for(var n=a.length-r.length,s=0;s<n;s++)r.push(i.linearColor[(s+1)%i.linearColor.length]);return r}function A(t,e){var a=0,i=e-t;return a=i>=1e4?1e3:i>=1e3?100:i>=100?10:i>=10?5:i>=1?1:i>=.1?.1:i>=.01?.01:i>=.001?.001:i>=1e-4?1e-4:i>=1e-5?1e-5:1e-6,{minRange:m(t,"lower",a),maxRange:m(e,"upper",a)}}function F(t,e,a){var i=0;if(t=String(t),!1!==a&&void 0!==a&&a.setFontSize&&a.measureText)return a.setFontSize(e),a.measureText(t).width;t=t.split("");for(var r=0;r<t.length;r++){var n=t[r];/[a-zA-Z]/.test(n)?i+=7:/[0-9]/.test(n)?i+=5.5:/\./.test(n)?i+=2.7:/-/.test(n)?i+=3.25:/:/.test(n)?i+=2.5:/[\u4e00-\u9fa5]/.test(n)?i+=10:/\(|\)/.test(n)?i+=3.73:/\s/.test(n)?i+=2.5:/%/.test(n)?i+=8:i+=10}return i*e/10}function y(t){return t.reduce((function(t,e){return(t.data?t.data:t).concat(e.data)}),[])}function L(t,e){for(var a=new Array(e),i=0;i<a.length;i++)a[i]=0;for(var r=0;r<t.length;r++)for(i=0;i<a.length;i++)a[i]+=t[r].data[i];return t.reduce((function(t,e){return(t.data?t.data:t).concat(e.data).concat(a)}),[])}function M(t,e,a){var i,r;return t.clientX?e.rotate?(r=e.height-t.clientX*e.pix,i=(t.pageY-a.currentTarget.offsetTop-e.height/e.pix/2*(e.pix-1))*e.pix):(i=t.clientX*e.pix,r=(t.pageY-a.currentTarget.offsetTop-e.height/e.pix/2*(e.pix-1))*e.pix):e.rotate?(r=e.height-t.x*e.pix,i=t.y*e.pix):(i=t.x*e.pix,r=t.y*e.pix),{x:i,y:r}}function E(t,e,a){var i=[],r=[],n=e.constructor.toString().indexOf("Array")>-1;if(n)for(var s=R(t),o=0;o<a.length;o++)r.push(s[a[o]]);else r=t;for(var h=0;h<r.length;h++){var l=r[h],u=-1;if(u=n?e[h]:e,null!==l.data[u]&&"undefined"!==typeof l.data[u]&&l.show){var c={};c.color=l.color,c.type=l.type,c.style=l.style,c.pointShape=l.pointShape,c.disableLegend=l.disableLegend,c.name=l.name,c.show=l.show,c.data=l.formatter?l.formatter(l.data[u]):l.data[u],i.push(c)}}return i}function N(t,e,a){var i=t.map((function(t){return F(t,e,a)}));return Math.max.apply(null,i)}function _(t){for(var e=2*Math.PI/t,a=[],i=0;i<t;i++)a.push(e*i);return a.map((function(t){return-1*t+Math.PI/2}))}function w(t,e,a,i,r){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=e.chartData.calPoints?e.chartData.calPoints:[],o={};if(i.length>0){for(var h=[],l=0;l<i.length;l++)h.push(s[i[l]]);o=h[0][a[0]]}else o=s[0][a];var u=t.map((function(t){var i=null;return e.categories&&e.categories.length>0&&(i=r[a]),{text:n.formatter?n.formatter(t,i,a,e):t.name+": "+t.data,color:t.color}})),c={x:Math.round(o.x),y:Math.round(o.y)};return{textList:u,offset:c}}function b(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},n=e.chartData.xAxisPoints[a]+e.chartData.eachSpacing/2,s=t.map((function(t){return{text:r.formatter?r.formatter(t,i[a],a,e):t.name+": "+t.data,color:t.color,disableLegend:!!t.disableLegend}}));s=s.filter((function(t){if(!0!==t.disableLegend)return t}));var o={x:Math.round(n),y:0};return{textList:s,offset:o}}function O(t,e,a,i,r,n){var s=a.chartData.calPoints,o=n.color.upFill,h=n.color.downFill,l=[o,o,h,o],u=[];e.map((function(e){0==i?e.data[1]-e.data[0]<0?l[1]=h:l[1]=o:(e.data[0]<t[i-1][1]&&(l[0]=h),e.data[1]<e.data[0]&&(l[1]=h),e.data[2]>t[i-1][1]&&(l[2]=o),e.data[3]<t[i-1][1]&&(l[3]=h));var a={text:"\u5f00\u76d8\uff1a"+e.data[0],color:l[0]},r={text:"\u6536\u76d8\uff1a"+e.data[1],color:l[1]},n={text:"\u6700\u4f4e\uff1a"+e.data[2],color:l[2]},s={text:"\u6700\u9ad8\uff1a"+e.data[3],color:l[3]};u.push(a,r,n,s)}));for(var c=[],C={x:0,y:0},m=0;m<s.length;m++){var f=s[m];"undefined"!==typeof f[i]&&null!==f[i]&&c.push(f[i])}return C.x=Math.round(c[0][0].x),{textList:u,offset:C}}function R(t){for(var e=[],a=0;a<t.length;a++)1==t[a].show&&e.push(t[a]);return e}function P(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n={index:-1,group:[]},s=a.chartData.eachSpacing/2,o=[];if(e&&e.length>0){if(a.categories){for(var h=1;h<a.chartData.xAxisPoints.length;h++)o.push(a.chartData.xAxisPoints[h]-s);"line"!=a.type&&"area"!=a.type||"justify"!=a.xAxis.boundaryGap||(o=a.chartData.xAxisPoints)}else s=0;if(V(t,a,i))if(a.categories)o.forEach((function(e,a){t.x+r+s>e&&(n.index=a)}));else{for(var l=Array(e.length),u=0;u<e.length;u++){l[u]=Array(e[u].length);for(var c=0;c<e[u].length;c++)l[u][c]=Math.abs(e[u][c].x-t.x)}for(var C=Array(l.length),m=Array(l.length),f=0;f<l.length;f++)C[f]=Math.min.apply(null,l[f]),m[f]=l[f].indexOf(C[f]);var d=Math.min.apply(null,C);n.index=[];for(var D=0;D<C.length;D++)C[D]==d&&(n.group.push(D),n.index.push(m[D]))}}return n}function B(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n={index:-1,group:[]},s=a.chartData.eachSpacing/2,o=a.chartData.yAxisPoints;return e&&e.length>0&&V(t,a,i)&&o.forEach((function(e,a){t.y+r+s>e&&(n.index=a)})),n}function G(t,e,a){var i=-1,r=0;if(k(t,e.area)){for(var n=e.points,s=-1,o=0,h=n.length;o<h;o++)for(var l=n[o],u=0;u<l.length;u++){s+=1;var c=l[u]["area"];if(c&&t.x>c[0]-r&&t.x<c[2]+r&&t.y>c[1]-r&&t.y<c[3]+r){i=s;break}}return i}return i}function k(t,e){return t.x>e.start.x&&t.x<e.end.x&&t.y>e.start.y&&t.y<e.end.y}function V(t,e,a){return t.x<=e.width-e.area[1]+10&&t.x>=e.area[3]-10&&t.y>=e.area[0]&&t.y<=e.height-e.area[2]}function H(t,e,a){var i=2*Math.PI/a,r=-1;if(K(t,e.center,e.radius)){var n=function(t){return t<0&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI),t},s=Math.atan2(e.center.y-t.y,t.x-e.center.x);s*=-1,s<0&&(s+=2*Math.PI);var o=e.angleList.map((function(t){return t=n(-1*t),t}));o.forEach((function(t,e){var a=n(t-i/2),o=n(t+i/2);o<a&&(o+=2*Math.PI),(s>=a&&s<=o||s+2*Math.PI>=a&&s+2*Math.PI<=o)&&(r=e)}))}return r}function J(t,e){for(var a=-1,i=0,r=e.series.length;i<r;i++){var n=e.series[i];if(t.x>n.funnelArea[0]&&t.x<n.funnelArea[2]&&t.y>n.funnelArea[1]&&t.y<n.funnelArea[3]){a=i;break}}return a}function U(t,e){for(var a=-1,i=0,r=e.length;i<r;i++){var n=e[i];if(t.x>n.area[0]&&t.x<n.area[2]&&t.y>n.area[1]&&t.y<n.area[3]){a=i;break}}return a}function W(t,e){for(var a=-1,i=e.chartData.mapData,r=e.series,n=re(t.y,t.x,i.bounds,i.scale,i.xoffset,i.yoffset),s=[n.x,n.y],o=0,h=r.length;o<h;o++){var l=r[o].geometry.coordinates;if(se(s,l,e.chartData.mapData.mercator)){a=o;break}}return a}function Y(t,e,a){var i=-1,r=at(a._series_,a.extra.rose.type,e.radius,e.radius);if(e&&e.center&&K(t,e.center,e.radius)){var n=Math.atan2(e.center.y-t.y,t.x-e.center.x);n=-n,a.extra.rose&&a.extra.rose.offsetAngle&&(n-=a.extra.rose.offsetAngle*Math.PI/180);for(var s=0,o=r.length;s<o;s++)if(D(n,r[s]._start_,r[s]._start_+2*r[s]._rose_proportion_*Math.PI)){i=s;break}}return i}function X(t,e,a){var i=-1,r=tt(e.series);if(e&&e.center&&K(t,e.center,e.radius)){var n=Math.atan2(e.center.y-t.y,t.x-e.center.x);n=-n,a.extra.pie&&a.extra.pie.offsetAngle&&(n-=a.extra.pie.offsetAngle*Math.PI/180),a.extra.ring&&a.extra.ring.offsetAngle&&(n-=a.extra.ring.offsetAngle*Math.PI/180);for(var s=0,o=r.length;s<o;s++)if(D(n,r[s]._start_,r[s]._start_+2*r[s]._proportion_*Math.PI)){i=s;break}}return i}function K(t,e,a){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(a,2)}function z(t,e){var a=[],i=[];return t.forEach((function(t,r){e.connectNulls?null!==t&&i.push(t):null!==t?i.push(t):(i.length&&a.push(i),i=[])})),i.length&&a.push(i),a}function $(t,e,a,i,r){var n={area:{start:{x:0,y:0},end:{x:0,y:0},width:0,height:0,wholeWidth:0,wholeHeight:0},points:[],widthArr:[],heightArr:[]};if(!1===e.legend.show)return i.legendData=n,n;var s=e.legend.padding*e.pix,o=e.legend.margin*e.pix,h=e.legend.fontSize?e.legend.fontSize*e.pix:a.fontSize,l=15*e.pix,u=5*e.pix,c=Math.max(e.legend.lineHeight*e.pix,h);if("top"==e.legend.position||"bottom"==e.legend.position){for(var C=[],m=0,f=[],d=[],D=0;D<t.length;D++){var p=t[D],S=l+u+F(p.name||"undefined",h,r)+e.legend.itemGap*e.pix;m+S>e.width-e.area[1]-e.area[3]?(C.push(d),f.push(m-e.legend.itemGap*e.pix),m=S,d=[p]):(m+=S,d.push(p))}if(d.length){C.push(d),f.push(m-e.legend.itemGap*e.pix),n.widthArr=f;var v=Math.max.apply(null,f);switch(e.legend.float){case"left":n.area.start.x=e.area[3],n.area.end.x=e.area[3]+v+2*s;break;case"right":n.area.start.x=e.width-e.area[1]-v-2*s,n.area.end.x=e.width-e.area[1];break;default:n.area.start.x=(e.width-v)/2-s,n.area.end.x=(e.width+v)/2+s}n.area.width=v+2*s,n.area.wholeWidth=v+2*s,n.area.height=C.length*c+2*s,n.area.wholeHeight=C.length*c+2*s+2*o,n.points=C}}else{var g=t.length,T=e.height-e.area[0]-e.area[2]-2*o-2*s,I=Math.min(Math.floor(T/c),g);switch(n.area.height=I*c+2*s,n.area.wholeHeight=I*c+2*s,e.legend.float){case"top":n.area.start.y=e.area[0]+o,n.area.end.y=e.area[0]+o+n.area.height;break;case"bottom":n.area.start.y=e.height-e.area[2]-o-n.area.height,n.area.end.y=e.height-e.area[2]-o;break;default:n.area.start.y=(e.height-n.area.height)/2,n.area.end.y=(e.height+n.area.height)/2}for(var x=g%I===0?g/I:Math.floor(g/I+1),A=[],y=0;y<x;y++){var L=t.slice(y*I,y*I+I);A.push(L)}if(n.points=A,A.length){for(var M=0;M<A.length;M++){for(var E=A[M],N=0,_=0;_<E.length;_++){var w=l+u+F(E[_].name||"undefined",h,r)+e.legend.itemGap*e.pix;w>N&&(N=w)}n.widthArr.push(N),n.heightArr.push(E.length*c+2*s)}for(var b=0,O=0;O<n.widthArr.length;O++)b+=n.widthArr[O];n.area.width=b-e.legend.itemGap*e.pix+2*s,n.area.wholeWidth=n.area.width+s}}switch(e.legend.position){case"top":n.area.start.y=e.area[0]+o,n.area.end.y=e.area[0]+o+n.area.height;break;case"bottom":n.area.start.y=e.height-e.area[2]-n.area.height-o,n.area.end.y=e.height-e.area[2]-o;break;case"left":n.area.start.x=e.area[3],n.area.end.x=e.area[3]+n.area.width;break;case"right":n.area.start.x=e.width-e.area[1]-n.area.width,n.area.end.x=e.width-e.area[1];break}return i.legendData=n,n}function q(t,e,a,i,r){var n={angle:0,xAxisHeight:a.xAxisHeight},s=t.map((function(t){return F(t,e.xAxis.fontSize*e.pix||a.fontSize,r)})),o=Math.max.apply(this,s);return 1==e.xAxis.rotateLabel&&o+2*a.xAxisTextPadding>i&&(n.angle=45*Math.PI/180,n.xAxisHeight=2*a.xAxisTextPadding+o*Math.sin(n.angle)),n}function j(t,e,a,i){var r,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;r="stack"==i?L(t,e.categories.length):y(t);var s=[];r=r.filter((function(t){return"object"===typeof t&&null!==t?t.constructor.toString().indexOf("Array")>-1?null!==t:null!==t.value:null!==t})),r.map((function(t){"object"===typeof t?t.constructor.toString().indexOf("Array")>-1?"candle"==e.type?t.map((function(t){s.push(t)})):s.push(t[0]):s.push(t.value):s.push(t)}));var o=0,h=0;if(s.length>0&&(o=Math.min.apply(this,s),h=Math.max.apply(this,s)),n>-1?("number"===typeof e.xAxis.data[n].min&&(o=Math.min(e.xAxis.data[n].min,o)),"number"===typeof e.xAxis.data[n].max&&(h=Math.max(e.xAxis.data[n].max,h))):("number"===typeof e.xAxis.min&&(o=Math.min(e.xAxis.min,o)),"number"===typeof e.xAxis.max&&(h=Math.max(e.xAxis.max,h))),o===h){var l=h||10;h+=l}for(var u=o,c=h,C=[],m=(c-u)/e.xAxis.splitNumber,f=0;f<=e.xAxis.splitNumber;f++)C.push(u+m*f);return C}function Z(t,e,a,i){var r=l({},{type:""},e.extra.bar),n={angle:0,xAxisHeight:a.xAxisHeight};n.ranges=j(t,e,a,r.type),n.rangesFormat=n.ranges.map((function(t){return t=u.toFixed(t,2),t}));var s=n.ranges.map((function(t){return t=u.toFixed(t,2),t}));n=Object.assign(n,Ct(s,e,a));var o=n.eachSpacing,h=s.map((function(t){return F(t,e.xAxis.fontSize*e.pix||a.fontSize,i)})),c=Math.max.apply(this,h);return c+2*a.xAxisTextPadding>o&&(n.angle=45*Math.PI/180,n.xAxisHeight=2*a.xAxisTextPadding+c*Math.sin(n.angle)),!0===e.xAxis.disabled&&(n.xAxisHeight=0),n}function Q(t,e,a,i,r){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=r.extra.radar||{};s.max=s.max||0;for(var o=Math.max(s.max,Math.max.apply(null,y(i))),h=[],l=function(r){var s=i[r],l={};l.color=s.color,l.legendShape=s.legendShape,l.pointShape=s.pointShape,l.data=[],s.data.forEach((function(i,r){var s={};s.angle=t[r],s.proportion=i/o,s.position=v(a*s.proportion*n*Math.cos(s.angle),a*s.proportion*n*Math.sin(s.angle),e),l.data.push(s)})),h.push(l)},u=0;u<i.length;u++)l(u);return h}function tt(t,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=0,r=0,n=0;n<t.length;n++){var s=t[n];s.data=null===s.data?0:s.data,i+=s.data}for(var o=0;o<t.length;o++){var h=t[o];h.data=null===h.data?0:h.data,h._proportion_=0===i?1/t.length*a:h.data/i*a,h._radius_=e}for(var l=0;l<t.length;l++){var u=t[l];u._start_=r,r+=2*u._proportion_*Math.PI}return t}function et(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t=t.sort((function(t,e){return parseInt(e.data)-parseInt(t.data)}));for(var n=0;n<t.length;n++)t[n].radius="funnel"==a?t[n].data/t[0].data*e*r:i*(t.length-n)/(i*t.length)*e*r,t[n]._proportion_=t[n].data/t[0].data;return"pyramid"!==a&&t.reverse(),t}function at(t,e,a,i){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=0,s=0,o=[],h=0;h<t.length;h++){var l=t[h];l.data=null===l.data?0:l.data,n+=l.data,o.push(l.data)}for(var u=Math.min.apply(null,o),c=Math.max.apply(null,o),C=i-a,m=0;m<t.length;m++){var f=t[m];f.data=null===f.data?0:f.data,0===n?(f._proportion_=1/t.length*r,f._rose_proportion_=1/t.length*r):(f._proportion_=f.data/n*r,f._rose_proportion_="area"==e?1/t.length*r:f.data/n*r),f._radius_=a+C*((f.data-u)/(c-u))||i}for(var d=0;d<t.length;d++){var D=t[d];D._start_=s,s+=2*D._rose_proportion_*Math.PI}return t}function it(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;1==a&&(a=.999999);for(var i=0;i<t.length;i++){var r=t[i];r.data=null===r.data?0:r.data;var n=void 0;n="circle"==e.type?2:e.endAngle<e.startAngle?2+e.endAngle-e.startAngle:e.startAngle-e.endAngle,r._proportion_=n*r.data*a+e.startAngle,r._proportion_>=2&&(r._proportion_=r._proportion_%2)}return t}function rt(t,e,a){for(var i=e-a+1,r=e,n=0;n<t.length;n++)t[n].value=null===t[n].value?0:t[n].value,t[n]._startAngle_=r,t[n]._endAngle_=i*t[n].value+e,t[n]._endAngle_>=2&&(t[n]._endAngle_=t[n]._endAngle_%2),r=t[n]._endAngle_;return t}function nt(t,e,a){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=0;r<t.length;r++){var n=t[r];if(n.data=null===n.data?0:n.data,"auto"==a.pointer.color){for(var s=0;s<e.length;s++)if(n.data<=e[s].value){n.color=e[s].color;break}}else n.color=a.pointer.color;var o=a.startAngle-a.endAngle+1;n._endAngle_=o*n.data+a.startAngle,n._oldAngle_=a.oldAngle,a.oldAngle<a.endAngle&&(n._oldAngle_+=2),n.data>=a.oldData?n._proportion_=(n._endAngle_-n._oldAngle_)*i+a.oldAngle:n._proportion_=n._oldAngle_-(n._oldAngle_-n._endAngle_)*i,n._proportion_>=2&&(n._proportion_=n._proportion_%2)}return t}function st(t,e,a,i){t=tt(t);for(var r=0,n=0;n<t.length;n++){var s=t[n],o=s.formatter?s.formatter(+s._proportion_.toFixed(2)):u.toFixed(100*s._proportion_)+"%";r=Math.max(r,F(o,s.textSize*i.pix||e.fontSize,a))}return r}function ot(t,e,a,i,r,n){return t.map((function(t){if(null===t)return null;var r=0,s=0;return"mix"==n.type?(r=n.extra.mix.column.seriesGap*n.pix||0,s=n.extra.mix.column.categoryGap*n.pix||0):(r=n.extra.column.seriesGap*n.pix||0,s=n.extra.column.categoryGap*n.pix||0),r=Math.min(r,e/a),s=Math.min(s,e/a),t.width=Math.ceil((e-2*s-r*(a-1))/a),n.extra.mix&&n.extra.mix.column.width&&+n.extra.mix.column.width>0&&(t.width=Math.min(t.width,+n.extra.mix.column.width*n.pix)),n.extra.column&&n.extra.column.width&&+n.extra.column.width>0&&(t.width=Math.min(t.width,+n.extra.column.width*n.pix)),t.width<=0&&(t.width=1),t.x+=(i+.5-a/2)*(t.width+r),t}))}function ht(t,e,a,i,r,n){return t.map((function(t){if(null===t)return null;var r=0,s=0;return r=n.extra.bar.seriesGap*n.pix||0,s=n.extra.bar.categoryGap*n.pix||0,r=Math.min(r,e/a),s=Math.min(s,e/a),t.width=Math.ceil((e-2*s-r*(a-1))/a),n.extra.bar&&n.extra.bar.width&&+n.extra.bar.width>0&&(t.width=Math.min(t.width,+n.extra.bar.width*n.pix)),t.width<=0&&(t.width=1),t.y+=(i+.5-a/2)*(t.width+r),t}))}function lt(t,e,a,i,r,n,s){var o=n.extra.column.categoryGap*n.pix||0;return t.map((function(t){return null===t?null:(t.width=Math.ceil(e-2*o),n.extra.column&&n.extra.column.width&&+n.extra.column.width>0&&(t.width=Math.min(t.width,+n.extra.column.width*n.pix)),i>0&&(t.width-=2*s),t)}))}function ut(t,e,a,i,r,n,s){var o=n.extra.column.categoryGap*n.pix||0;return t.map((function(t,a){return null===t?null:(t.width=Math.ceil(e-2*o),n.extra.column&&n.extra.column.width&&+n.extra.column.width>0&&(t.width=Math.min(t.width,+n.extra.column.width*n.pix)),t.width<=0&&(t.width=1),t)}))}function ct(t,e,a,i,r,n,s){var o=n.extra.bar.categoryGap*n.pix||0;return t.map((function(t,a){return null===t?null:(t.width=Math.ceil(e-2*o),n.extra.bar&&n.extra.bar.width&&+n.extra.bar.width>0&&(t.width=Math.min(t.width,+n.extra.bar.width*n.pix)),t.width<=0&&(t.width=1),t)}))}function Ct(t,e,a){var i=e.width-e.area[1]-e.area[3],r=e.enableScroll?Math.min(e.xAxis.itemCount,t.length):t.length;("line"==e.type||"area"==e.type||"scatter"==e.type||"bubble"==e.type||"bar"==e.type)&&r>1&&"justify"==e.xAxis.boundaryGap&&(r-=1);var n=i/r,s=[],o=e.area[3],h=e.width-e.area[1];return t.forEach((function(t,e){s.push(o+e*n)})),"justify"!==e.xAxis.boundaryGap&&(!0===e.enableScroll?s.push(o+t.length*n):s.push(h)),{xAxisPoints:s,startX:o,endX:h,eachSpacing:n}}function mt(t,e,a,i,r,n,s){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,h=[],l=n.height-n.area[0]-n.area[2];return t.forEach((function(t,s){if(null===t)h.push(null);else{var u=[];t.forEach((function(t,h){var c={};c.x=i[s]+Math.round(r/2);var C=t.value||t,m=l*(C-e)/(a-e);m*=o,c.y=n.height-Math.round(m)-n.area[2],u.push(c)})),h.push(u)}})),h}function ft(t,e,a,i,r,n,s){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,h="center";"line"!=n.type&&"area"!=n.type&&"scatter"!=n.type&&"bubble"!=n.type||(h=n.xAxis.boundaryGap);var l=[],u=n.height-n.area[0]-n.area[2],c=n.width-n.area[1]-n.area[3];return t.forEach((function(t,s){if(null===t)l.push(null);else{var C={};C.color=t.color,C.x=i[s];var m,f,d,D=t;if("object"===typeof t&&null!==t)if(t.constructor.toString().indexOf("Array")>-1)m=[].concat(n.chartData.xAxisData.ranges),f=m.shift(),d=m.pop(),D=t[1],C.x=n.area[3]+c*(t[0]-f)/(d-f),"bubble"==n.type&&(C.r=t[2],C.t=t[3]);else D=t.value;"center"==h&&(C.x+=r/2);var p=u*(D-e)/(a-e);p*=o,C.y=n.height-p-n.area[2],l.push(C)}})),l}function dt(t,e,a,i,r,n,s){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,h=[],l=(n.height,n.area[0],n.area[2],n.width-n.area[1]-n.area[3]);return t.forEach((function(t,r){if(null===t)h.push(null);else{var s={};s.color=t.color,s.y=i[r];var u=t;"object"===typeof t&&null!==t&&(u=t.value);var c=l*(u-e)/(a-e);c*=o,s.height=c,s.value=u,s.x=c+n.area[3],h.push(s)}})),h}function Dt(t,e,a,i,r,n,s,o,h){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,u=[],c=n.height-n.area[0]-n.area[2];return t.forEach((function(t,s){if(null===t)u.push(null);else{var C={};if(C.color=t.color,C.x=i[s]+Math.round(r/2),o>0){for(var m=0,f=0;f<=o;f++)m+=h[f].data[s];var d=m-t,D=c*(m-e)/(a-e),p=c*(d-e)/(a-e)}else m=t,D=c*(m-e)/(a-e),p=0;var S=p;D*=l,S*=l,C.y=n.height-Math.round(D)-n.area[2],C.y0=n.height-Math.round(S)-n.area[2],u.push(C)}})),u}function pt(t,e,a,i,r,n,s,o,h){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,u=[],c=n.width-n.area[1]-n.area[3];return t.forEach((function(t,r){if(null===t)u.push(null);else{var s={};if(s.color=t.color,s.y=i[r],o>0){for(var C=0,m=0;m<=o;m++)C+=h[m].data[r];var f=C-t,d=c*(C-e)/(a-e),D=c*(f-e)/(a-e)}else C=t,d=c*(C-e)/(a-e),D=0;var p=D;d*=l,p*=l,s.height=d-p,s.x=n.area[3]+d,s.x0=n.area[3]+p,u.push(s)}})),u}function St(t,e,a,i,r){var n;n="stack"==i?L(t,e.categories.length):y(t);var s=[];n=n.filter((function(t){return"object"===typeof t&&null!==t?t.constructor.toString().indexOf("Array")>-1?null!==t:null!==t.value:null!==t})),n.map((function(t){"object"===typeof t?t.constructor.toString().indexOf("Array")>-1?"candle"==e.type?t.map((function(t){s.push(t)})):s.push(t[1]):s.push(t.value):s.push(t)}));var o=r.min||0,h=r.max||0;if(s.length>0&&(o=Math.min.apply(this,s),h=Math.max.apply(this,s)),o===h){var l=h||10;h+=l}for(var u=A(o,h),c=void 0===r.min||null===r.min?u.minRange:r.min,C=void 0===r.max||null===r.min?u.maxRange:r.max,m=[],f=(C-c)/e.yAxis.splitNumber,d=0;d<=e.yAxis.splitNumber;d++)m.push(c+f*d);return m.reverse()}function vt(t,e,a,i){var r=l({},{type:""},e.extra.column),n=e.yAxis.data.length,s=new Array(n);if(n>0){for(var o=0;o<n;o++){s[o]=[];for(var h=0;h<t.length;h++)t[h].index==o&&s[o].push(t[h])}for(var u=new Array(n),c=new Array(n),C=new Array(n),m=function(t){var n=e.yAxis.data[t];1==e.yAxis.disabled&&(n.disabled=!0),"categories"===n.type?(n.formatter||(n.formatter=function(t){return t+(n.unit||"")}),n.categories=n.categories||e.categories,u[t]=n.categories):(n.formatter||(n.formatter=function(t){return t.toFixed(n.tofix)+(n.unit||"")}),u[t]=St(s[t],e,a,r.type,n,t));var o=n.fontSize*e.pix||a.fontSize;C[t]={position:n.position?n.position:"left",width:0},c[t]=u[t].map((function(e){return e=n.formatter(e),C[t].width=Math.max(C[t].width,F(e,o,i)+5),e}));var h=n.calibration?4*e.pix:0;C[t].width+=h+3*e.pix,!0===n.disabled&&(C[t].width=0)},f=0;f<n;f++)m(f)}else{u=new Array(1),c=new Array(1),C=new Array(1);"bar"===e.type?(u[0]=e.categories,e.yAxis.formatter||(e.yAxis.formatter=function(t){return t+(e.yAxis.unit||"")})):(e.yAxis.formatter||(e.yAxis.formatter=function(t){return t.toFixed(e.yAxis.tofix)+(e.yAxis.unit||"")}),u[0]=St(t,e,a,r.type,{})),C[0]={position:"left",width:0};var d=e.yAxis.fontSize*e.pix||a.fontSize;c[0]=u[0].map((function(t){return t=e.yAxis.formatter(t),C[0].width=Math.max(C[0].width,F(t,d,i)+5),t})),C[0].width+=3*e.pix,!0===e.yAxis.disabled?(C[0]={position:"left",width:0},e.yAxis.data[0]={disabled:!0}):(e.yAxis.data[0]={disabled:!1,position:"left",max:e.yAxis.max,min:e.yAxis.min,formatter:e.yAxis.formatter},"bar"===e.type&&(e.yAxis.data[0].categories=e.categories,e.yAxis.data[0].type="categories"))}return{rangesFormat:c,ranges:u,yAxisWidth:C}}function gt(t,e,a,i,r){for(var n=[].concat(a.chartData.yAxisData.ranges),s=a.height-a.area[0]-a.area[2],o=a.area[0],h=[],l=0;l<n.length;l++){var u=n[l].shift(),c=n[l].pop(),C=u-(u-c)*(t-o)/s;C=a.yAxis.data[l].formatter?a.yAxis.data[l].formatter(Number(C)):C.toFixed(0),h.push(String(C))}return h}function Tt(t,e){for(var a,i,r=e.height-e.area[0]-e.area[2],n=0;n<t.length;n++){t[n].yAxisIndex=t[n].yAxisIndex?t[n].yAxisIndex:0;var s=[].concat(e.chartData.yAxisData.ranges[t[n].yAxisIndex]);a=s.pop(),i=s.shift();var o=r*(t[n].value-a)/(i-a);t[n].y=e.height-Math.round(o)-e.area[2]}return t}function It(t,e){!0!==e.rotateLock?(t.translate(e.height,0),t.rotate(90*Math.PI/180)):!0!==e._rotate_&&(t.translate(e.height,0),t.rotate(90*Math.PI/180),e._rotate_=!0)}function xt(t,e,a,i,r){if(i.beginPath(),"hollow"==r.dataPointShapeType?(i.setStrokeStyle(e),i.setFillStyle(r.background),i.setLineWidth(2*r.pix)):(i.setStrokeStyle("#ffffff"),i.setFillStyle(e),i.setLineWidth(1*r.pix)),"diamond"===a)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y),i.lineTo(t.x,t.y+4.5),i.lineTo(t.x+4.5,t.y),i.lineTo(t.x,t.y-4.5))}));else if("circle"===a)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x+2.5*r.pix,t.y),i.arc(t.x,t.y,3*r.pix,0,2*Math.PI,!1))}));else if("square"===a)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x-3.5,t.y-3.5),i.rect(t.x-3.5,t.y-3.5,7,7))}));else if("triangle"===a)t.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y+4.5),i.lineTo(t.x+4.5,t.y+4.5),i.lineTo(t.x,t.y-4.5))}));else if("triangle"===a)return;i.closePath(),i.fill(),i.stroke()}function At(t,e,a,i){var r=t.title.fontSize||e.titleFontSize,n=t.subtitle.fontSize||e.subtitleFontSize,s=t.title.name||"",o=t.subtitle.name||"",h=t.title.color||t.fontColor,l=t.subtitle.color||t.fontColor,u=s?r:0,c=o?n:0,C=5;if(o){var m=F(o,n*t.pix,a),f=i.x-m/2+(t.subtitle.offsetX||0)*t.pix,d=i.y+n*t.pix/2+(t.subtitle.offsetY||0)*t.pix;s&&(d+=(u*t.pix+C)/2),a.beginPath(),a.setFontSize(n*t.pix),a.setFillStyle(l),a.fillText(o,f,d),a.closePath(),a.stroke()}if(s){var D=F(s,r*t.pix,a),p=i.x-D/2+(t.title.offsetX||0),S=i.y+r*t.pix/2+(t.title.offsetY||0)*t.pix;o&&(S-=(c*t.pix+C)/2),a.beginPath(),a.setFontSize(r*t.pix),a.setFillStyle(h),a.fillText(s,p,S),a.closePath(),a.stroke()}}function Ft(t,e,a,i,r){var n=e.data,s=e.textOffset?e.textOffset:0;t.forEach((function(t,o){if(null!==t){i.beginPath();var h=e.textSize?e.textSize*r.pix:a.fontSize;i.setFontSize(h),i.setFillStyle(e.textColor||r.fontColor);var l=n[o];"object"===typeof n[o]&&null!==n[o]&&(l=n[o].constructor.toString().indexOf("Array")>-1?n[o][1]:n[o].value);var u=e.formatter?e.formatter(l,o):l;i.setTextAlign("center"),i.fillText(String(u),t.x,t.y-4+s*r.pix),i.closePath(),i.stroke(),i.setTextAlign("left")}}))}function yt(t,e,a,i,r){var n=e.data;e.textOffset&&e.textOffset;t.forEach((function(t,s){if(null!==t){i.beginPath();var o=e.textSize?e.textSize*r.pix:a.fontSize;i.setFontSize(o),i.setFillStyle(e.textColor||r.fontColor);var h=n[s];"object"===typeof n[s]&&null!==n[s]&&(h=n[s].value);var l=e.formatter?e.formatter(h,s):h;i.setTextAlign("left"),i.fillText(String(l),t.x+4*r.pix,t.y+o/2-3),i.closePath(),i.stroke()}}))}function Lt(t,e,a,i,r,n){e-=t.width/2+t.labelOffset*i.pix;for(var s=t.startAngle-t.endAngle+1,o=s/t.splitLine.splitNumber,h=t.endNumber-t.startNumber,l=h/t.splitLine.splitNumber,u=t.startAngle,c=t.startNumber,C=0;C<t.splitLine.splitNumber+1;C++){var m={x:e*Math.cos(u*Math.PI),y:e*Math.sin(u*Math.PI)},f=t.formatter?t.formatter(c):c;m.x+=a.x-F(f,r.fontSize,n)/2,m.y+=a.y;var d=m.x,D=m.y;n.beginPath(),n.setFontSize(r.fontSize),n.setFillStyle(t.labelColor||i.fontColor),n.fillText(f,d,D+r.fontSize/2),n.closePath(),n.stroke(),u+=o,u>=2&&(u%=2),c+=l}}function Mt(t,e,a,i,r,n){var s=i.extra.radar||{};e+=r.radarLabelTextMargin*i.pix,t.forEach((function(t,o){var h={x:e*Math.cos(t),y:e*Math.sin(t)},l=v(h.x,h.y,a),c=l.x,C=l.y;u.approximatelyEqual(h.x,0)?c-=F(i.categories[o]||"",r.fontSize,n)/2:h.x<0&&(c-=F(i.categories[o]||"",r.fontSize,n)),n.beginPath(),n.setFontSize(r.fontSize),n.setFillStyle(s.labelColor||i.fontColor),n.fillText(i.categories[o]||"",c,C+r.fontSize/2),n.closePath(),n.stroke()}))}function Et(t,e,a,i,r,n){for(var s=a.pieChartLinePadding,o=[],h=null,l=t.map((function(t,e,a){var i=t.formatter?t.formatter(t,e,a):u.toFixed(100*t._proportion_.toFixed(4))+"%",r=2*Math.PI-(t._start_+2*Math.PI*t._proportion_/2);t._rose_proportion_&&(r=2*Math.PI-(t._start_+2*Math.PI*t._rose_proportion_/2));var n=t.color,s=t._radius_;return{arc:r,text:i,color:n,radius:s,textColor:t.textColor,textSize:t.textSize}})),c=0;c<l.length;c++){var C=l[c],m=Math.cos(C.arc)*(C.radius+s),f=Math.sin(C.arc)*(C.radius+s),d=Math.cos(C.arc)*C.radius,D=Math.sin(C.arc)*C.radius,p=m>=0?m+a.pieChartTextPadding:m-a.pieChartTextPadding,S=f,T=F(C.text,C.textSize*e.pix||a.fontSize,i),I=S;h&&u.isSameXCoordinateArea(h.start,{x:p})&&(I=p>0?Math.min(S,h.start.y):m<0||S>0?Math.max(S,h.start.y):Math.min(S,h.start.y)),p<0&&(p-=T);var x={lineStart:{x:d,y:D},lineEnd:{x:m,y:f},start:{x:p,y:I},width:T,height:a.fontSize,text:C.text,color:C.color,textColor:C.textColor,textSize:C.textSize};h=g(x,h),o.push(h)}for(var A=0;A<o.length;A++){var y=o[A],L=v(y.lineStart.x,y.lineStart.y,n),M=v(y.lineEnd.x,y.lineEnd.y,n),E=v(y.start.x,y.start.y,n);i.setLineWidth(1*e.pix),i.setFontSize(y.textSize*e.pix||a.fontSize),i.beginPath(),i.setStrokeStyle(y.color),i.setFillStyle(y.color),i.moveTo(L.x,L.y);var N=y.start.x<0?E.x+y.width:E.x,_=y.start.x<0?E.x-5:E.x+5;i.quadraticCurveTo(M.x,M.y,N,E.y),i.moveTo(L.x,L.y),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(E.x+y.width,E.y),i.arc(N,E.y,2,0,2*Math.PI),i.closePath(),i.fill(),i.beginPath(),i.setFontSize(y.textSize*e.pix||a.fontSize),i.setFillStyle(y.textColor||e.fontColor),i.fillText(y.text,_,E.y+3),i.closePath(),i.stroke(),i.closePath()}}function Nt(t,e,a,i){var r=e.extra.tooltip||{};r.gridType=void 0==r.gridType?"solid":r.gridType,r.dashLength=void 0==r.dashLength?4:r.dashLength;var n=e.area[0],s=e.height-e.area[2];if("dash"==r.gridType&&i.setLineDash([r.dashLength,r.dashLength]),i.setStrokeStyle(r.gridColor||"#cccccc"),i.setLineWidth(1*e.pix),i.beginPath(),i.moveTo(t,n),i.lineTo(t,s),i.stroke(),i.setLineDash([]),r.xAxisLabel){var o=e.categories[e.tooltip.index];i.setFontSize(a.fontSize);var h=F(o,a.fontSize,i),l=t-.5*h,u=s;i.beginPath(),i.setFillStyle(C(r.labelBgColor||a.toolTipBackground,r.labelBgOpacity||a.toolTipOpacity)),i.setStrokeStyle(r.labelBgColor||a.toolTipBackground),i.setLineWidth(1*e.pix),i.rect(l-a.toolTipPadding,u,h+2*a.toolTipPadding,a.fontSize+2*a.toolTipPadding),i.closePath(),i.stroke(),i.fill(),i.beginPath(),i.setFontSize(a.fontSize),i.setFillStyle(r.labelFontColor||e.fontColor),i.fillText(String(o),l,u+a.toolTipPadding+a.fontSize),i.closePath(),i.stroke()}}function _t(t,e,a){for(var i=l({},{type:"solid",dashLength:4,data:[]},t.extra.markLine),r=t.area[3],n=t.width-t.area[1],s=Tt(i.data,t),o=0;o<s.length;o++){var h=l({},{lineColor:"#DE4A42",showLabel:!1,labelFontColor:"#666666",labelBgColor:"#DFE8FF",labelBgOpacity:.8,yAxisIndex:0},s[o]);if("dash"==i.type&&a.setLineDash([i.dashLength,i.dashLength]),a.setStrokeStyle(h.lineColor),a.setLineWidth(1*t.pix),a.beginPath(),a.moveTo(r,h.y),a.lineTo(n,h.y),a.stroke(),a.setLineDash([]),h.showLabel){var u=t.yAxis.formatter?t.yAxis.formatter(Number(h.value)):h.value;a.setFontSize(e.fontSize);var c=F(u,e.fontSize,a),m=(t.chartData.yAxisData.yAxisWidth[0].width,t.area[3]-c-2*e.toolTipPadding),f=t.area[3],d=f-m,D=f-e.toolTipPadding,p=h.y;a.setFillStyle(C(h.labelBgColor,h.labelBgOpacity)),a.setStrokeStyle(h.labelBgColor),a.setLineWidth(1*t.pix),a.beginPath(),a.rect(m,p-.5*e.fontSize-e.toolTipPadding,d,e.fontSize+2*e.toolTipPadding),a.closePath(),a.stroke(),a.fill(),a.setFontSize(e.fontSize),a.setTextAlign("right"),a.setFillStyle(h.labelFontColor),a.fillText(String(u),D,p+.5*e.fontSize),a.stroke(),a.setTextAlign("left")}}}function wt(t,e,a,i,r){var n=l({},{gridType:"solid",dashLength:4},t.extra.tooltip),s=t.area[3],o=t.width-t.area[1];if("dash"==n.gridType&&a.setLineDash([n.dashLength,n.dashLength]),a.setStrokeStyle(n.gridColor||"#cccccc"),a.setLineWidth(1*t.pix),a.beginPath(),a.moveTo(s,t.tooltip.offset.y),a.lineTo(o,t.tooltip.offset.y),a.stroke(),a.setLineDash([]),n.yAxisLabel)for(var h=gt(t.tooltip.offset.y,t.series,t,e,i),u=t.chartData.yAxisData.yAxisWidth,c=t.area[3],m=t.width-t.area[1],f=0;f<h.length;f++){a.setFontSize(e.fontSize);var d=F(h[f],e.fontSize,a),D=void 0,p=void 0,S=void 0;"left"==u[f].position?(D=c-u[f].width,p=Math.max(D,D+d+2*e.toolTipPadding)):(D=m,p=Math.max(D+u[f].width,D+d+2*e.toolTipPadding)),S=p-D;var v=D+(S-d)/2,g=t.tooltip.offset.y;a.beginPath(),a.setFillStyle(C(n.labelBgColor||e.toolTipBackground,n.labelBgOpacity||e.toolTipOpacity)),a.setStrokeStyle(n.labelBgColor||e.toolTipBackground),a.setLineWidth(1*t.pix),a.rect(D,g-.5*e.fontSize-e.toolTipPadding,S,e.fontSize+2*e.toolTipPadding),a.closePath(),a.stroke(),a.fill(),a.beginPath(),a.setFontSize(e.fontSize),a.setFillStyle(n.labelFontColor||t.fontColor),a.fillText(h[f],v,g+.5*e.fontSize),a.closePath(),a.stroke(),"left"==u[f].position?c-=u[f].width+t.yAxis.padding*t.pix:m+=u[f].width+t.yAxis.padding*t.pix}}function bt(t,e,a,i,r){var n=l({},{activeBgColor:"#000000",activeBgOpacity:.08},e.extra.column),s=e.area[0],o=e.height-e.area[2];i.beginPath(),i.setFillStyle(C(n.activeBgColor,n.activeBgOpacity)),i.rect(t-r/2,s,r,o-s),i.closePath(),i.fill(),i.setFillStyle("#FFFFFF")}function Ot(t,e,a,i,r){var n=l({},{activeBgColor:"#000000",activeBgOpacity:.08},e.extra.bar),s=e.area[3],o=e.width-e.area[1];i.beginPath(),i.setFillStyle(C(n.activeBgColor,n.activeBgOpacity)),i.rect(s,t-r/2,o-s,r),i.closePath(),i.fill(),i.setFillStyle("#FFFFFF")}function Rt(t,e,a,i,r,n,s){var o=l({},{showBox:!0,showArrow:!0,showCategory:!1,bgColor:"#000000",bgOpacity:.7,borderColor:"#000000",borderWidth:0,borderRadius:0,borderOpacity:.7,fontColor:"#FFFFFF",splitLine:!0},a.extra.tooltip);1==o.showCategory&&a.categories&&t.unshift({text:a.categories[a.tooltip.index],color:null});var h=4*a.pix,u=5*a.pix,c=o.showArrow?8*a.pix:0,m=!1;"line"!=a.type&&"area"!=a.type&&"candle"!=a.type&&"mix"!=a.type||1==o.splitLine&&Nt(a.tooltip.offset.x,a,i,r),e=l({x:0,y:0},e),e.y-=8*a.pix;var f=t.map((function(t){return F(t.text,i.fontSize,r)})),d=h+u+4*i.toolTipPadding+Math.max.apply(null,f),D=2*i.toolTipPadding+t.length*i.toolTipLineHeight;if(0!=o.showBox){e.x-Math.abs(a._scrollDistance_||0)+c+d>a.width&&(m=!0),D+e.y>a.height&&(e.y=a.height-D),r.beginPath(),r.setFillStyle(C(o.bgColor||i.toolTipBackground,o.bgOpacity||i.toolTipOpacity)),r.setLineWidth(o.borderWidth*a.pix),r.setStrokeStyle(C(o.borderColor,o.borderOpacity));var p=o.borderRadius;m?(o.showArrow&&(r.moveTo(e.x,e.y+10*a.pix),r.lineTo(e.x-c,e.y+10*a.pix+5*a.pix)),r.arc(e.x-c-p,e.y+D-p,p,0,Math.PI/2,!1),r.arc(e.x-c-Math.round(d)+p,e.y+D-p,p,Math.PI/2,Math.PI,!1),r.arc(e.x-c-Math.round(d)+p,e.y+p,p,-Math.PI,-Math.PI/2,!1),r.arc(e.x-c-p,e.y+p,p,-Math.PI/2,0,!1),o.showArrow&&(r.lineTo(e.x-c,e.y+10*a.pix-5*a.pix),r.lineTo(e.x,e.y+10*a.pix))):(o.showArrow&&(r.moveTo(e.x,e.y+10*a.pix),r.lineTo(e.x+c,e.y+10*a.pix-5*a.pix)),r.arc(e.x+c+p,e.y+p,p,-Math.PI,-Math.PI/2,!1),r.arc(e.x+c+Math.round(d)-p,e.y+p,p,-Math.PI/2,0,!1),r.arc(e.x+c+Math.round(d)-p,e.y+D-p,p,0,Math.PI/2,!1),r.arc(e.x+c+p,e.y+D-p,p,Math.PI/2,Math.PI,!1),o.showArrow&&(r.lineTo(e.x+c,e.y+10*a.pix+5*a.pix),r.lineTo(e.x,e.y+10*a.pix))),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke(),t.forEach((function(t,a){if(null!==t.color){r.beginPath(),r.setFillStyle(t.color);var n=e.x+c+2*i.toolTipPadding,s=e.y+(i.toolTipLineHeight-i.fontSize)/2+i.toolTipLineHeight*a+i.toolTipPadding+1;m&&(n=e.x-d-c+2*i.toolTipPadding),r.fillRect(n,s,h,i.fontSize),r.closePath()}})),t.forEach((function(t,a){var n=e.x+c+2*i.toolTipPadding+h+u;m&&(n=e.x-d-c+2*i.toolTipPadding+ +h+u);var s=e.y+(i.toolTipLineHeight-i.fontSize)/2+i.toolTipLineHeight*a+i.toolTipPadding;r.beginPath(),r.setFontSize(i.fontSize),r.setFillStyle(o.fontColor),r.fillText(t.text,n,s+i.fontSize),r.closePath(),r.stroke()}))}}function Pt(t,e,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=e.chartData.xAxisData,o=s.xAxisPoints,h=s.eachSpacing,u=l({},{type:"group",width:h/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.column),c=[];r.save();var m=-2,f=o.length+2;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(r.translate(e._scrollDistance_,0),m=Math.floor(-e._scrollDistance_/h)-2,f=m+e.xAxis.itemCount+4),e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===n&&bt(e.tooltip.offset.x,e,i,r,h),u.customColor=x(u.linearType,u.customColor,t,i),t.forEach((function(s,l){var d,D,p;d=[].concat(e.chartData.yAxisData.ranges[s.index]),D=d.pop(),p=d.shift();var S=s.data;switch(u.type){case"group":var v=ft(S,D,p,o,h,e,i,n),g=Dt(S,D,p,o,h,e,i,l,t,n);c.push(g),v=ot(v,h,t.length,l,i,e);for(var T=0;T<v.length;T++){var I=v[T];if(null!==I&&T>m&&T<f){var x=I.x-I.width/2,A=e.height-I.y-e.area[2];r.beginPath();var F=I.color||s.color,y=I.color||s.color;if("none"!==u.linearType){var L=r.createLinearGradient(x,I.y,x,e.height-e.area[2]);"opacity"==u.linearType?(L.addColorStop(0,C(F,u.linearOpacity)),L.addColorStop(1,C(F,1))):(L.addColorStop(0,C(u.customColor[s.linearIndex],u.linearOpacity)),L.addColorStop(u.colorStop,C(u.customColor[s.linearIndex],u.linearOpacity)),L.addColorStop(1,C(F,1))),F=L}if(u.barBorderRadius&&4===u.barBorderRadius.length||!0===u.barBorderCircle){var M=x,E=I.y,N=I.width,_=e.height-e.area[2]-I.y;u.barBorderCircle&&(u.barBorderRadius=[N/2,N/2,0,0]);var w=a(u.barBorderRadius,4),b=w[0],O=w[1],R=w[2],P=w[3];b+R>_&&(b=_,R=0,O=_,P=0),b+R>N/2&&(b=N/2,R=0,O=N/2,P=0),b=b<0?0:b,O=O<0?0:O,R=R<0?0:R,P=P<0?0:P,r.arc(M+b,E+b,b,-Math.PI,-Math.PI/2),r.arc(M+N-O,E+O,O,-Math.PI/2,0),r.arc(M+N-R,E+_-R,R,0,Math.PI/2),r.arc(M+P,E+_-P,P,Math.PI/2,Math.PI)}else r.moveTo(x,I.y),r.lineTo(x+I.width-2,I.y),r.lineTo(x+I.width-2,e.height-e.area[2]),r.lineTo(x,e.height-e.area[2]),r.lineTo(x,I.y),r.setLineWidth(1),r.setStrokeStyle(y);r.setFillStyle(F),r.closePath(),r.fill()}}break;case"stack":v=Dt(S,D,p,o,h,e,i,l,t,n);c.push(v),v=ut(v,h,t.length,l,i,e,t);for(var B=0;B<v.length;B++){var G=v[B];if(null!==G&&B>m&&B<f){r.beginPath();F=G.color||s.color,x=G.x-G.width/2+1,A=e.height-G.y-e.area[2];var k=e.height-G.y0-e.area[2];l>0&&(A-=k),r.setFillStyle(F),r.moveTo(x,G.y),r.fillRect(x,G.y,G.width-2,A),r.closePath(),r.fill()}}break;case"meter":v=ft(S,D,p,o,h,e,i,n);if(c.push(v),v=lt(v,h,t.length,l,i,e,u.meterBorder),0==l)for(var V=0;V<v.length;V++){var H=v[V];if(null!==H&&V>m&&V<f){r.beginPath(),r.setFillStyle(u.meterFillColor);x=H.x-H.width/2,A=e.height-H.y-e.area[2];if(u.barBorderCircle){var J=(H.width-2*u.meterBorder)/2;J>A&&(J=A),r.moveTo(x+u.meterBorder,e.height-e.area[2]),r.lineTo(x+u.meterBorder,H.y+J),r.arc(x+H.width/2,H.y+J,J,-Math.PI,0),r.lineTo(x+H.width-u.meterBorder,e.height-e.area[2]),r.lineTo(x,e.height-e.area[2]),r.fill()}else r.moveTo(x,H.y),r.fillRect(x,H.y,H.width,A),r.closePath(),r.fill();if(u.meterBorder>0){if(r.beginPath(),r.setStrokeStyle(s.color),r.setLineWidth(u.meterBorder*e.pix),u.barBorderCircle){J=(H.width-u.meterBorder)/2;J>A&&(J=A),r.moveTo(x+.5*u.meterBorder,e.height-e.area[2]),r.lineTo(x+.5*u.meterBorder,H.y+J),r.arc(x+H.width/2,H.y+J-.5*u.meterBorder,J,-Math.PI,0),r.lineTo(x+H.width-.5*u.meterBorder,e.height-e.area[2])}else r.moveTo(x+.5*u.meterBorder,H.y+A),r.lineTo(x+.5*u.meterBorder,H.y+.5*u.meterBorder),r.lineTo(x+H.width-.5*u.meterBorder,H.y+.5*u.meterBorder),r.lineTo(x+H.width-.5*u.meterBorder,H.y+A);r.stroke()}}}else for(var U=0;U<v.length;U++){var W=v[U];if(null!==W&&U>m&&U<f){r.beginPath(),r.setFillStyle(W.color||s.color);x=W.x-W.width/2,A=e.height-W.y-e.area[2];if(u.barBorderCircle){J=W.width/2;J>A&&(J=A),r.moveTo(x,e.height-e.area[2]),r.arc(x+J,W.y+J,J,-Math.PI,-Math.PI/2),r.arc(x+W.width-J,W.y+J,J,-Math.PI/2,0),r.lineTo(x+W.width,e.height-e.area[2]),r.lineTo(x,e.height-e.area[2]),r.fill()}else r.moveTo(x,W.y),r.fillRect(x,W.y,W.width,A),r.closePath(),r.fill()}}break}})),!1!==e.dataLabel&&1===n&&t.forEach((function(a,s){var l,c,C;l=[].concat(e.chartData.yAxisData.ranges[a.index]),c=l.pop(),C=l.shift();var m=a.data;switch(u.type){case"group":var f=ft(m,c,C,o,h,e,i,n);f=ot(f,h,t.length,s,i,e),Ft(f,a,i,r,e);break;case"stack":f=Dt(m,c,C,o,h,e,i,s,t,n);Ft(f,a,i,r,e);break;case"meter":f=ft(m,c,C,o,h,e,i,n);Ft(f,a,i,r,e);break}})),r.restore(),{xAxisPoints:o,calPoints:c,eachSpacing:h}}function Bt(t,e,i,r){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=[],o=(e.height-e.area[0]-e.area[2])/e.categories.length,h=0;h<e.categories.length;h++)s.push(e.area[0]+o/2+o*h);var u=l({},{type:"group",width:o/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.bar),c=[];r.save();var m=-2,f=s.length+2;return e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===n&&Ot(e.tooltip.offset.y,e,i,r,o),u.customColor=x(u.linearType,u.customColor,t,i),t.forEach((function(h,l){var d,D,p;d=[].concat(e.chartData.xAxisData.ranges),p=d.pop(),D=d.shift();var S=h.data;switch(u.type){case"group":var v=dt(S,D,p,s,o,e,i,n),g=pt(S,D,p,s,o,e,i,l,t,n);c.push(g),v=ht(v,o,t.length,l,i,e);for(var T=0;T<v.length;T++){var I=v[T];if(null!==I&&T>m&&T<f){var x=e.area[3],A=I.y-I.width/2;I.height;r.beginPath();var F=I.color||h.color,y=I.color||h.color;if("none"!==u.linearType){var L=r.createLinearGradient(x,I.y,I.x,I.y);"opacity"==u.linearType?(L.addColorStop(0,C(F,u.linearOpacity)),L.addColorStop(1,C(F,1))):(L.addColorStop(0,C(u.customColor[h.linearIndex],u.linearOpacity)),L.addColorStop(u.colorStop,C(u.customColor[h.linearIndex],u.linearOpacity)),L.addColorStop(1,C(F,1))),F=L}if(u.barBorderRadius&&4===u.barBorderRadius.length||!0===u.barBorderCircle){var M=x,E=I.width,N=I.y-I.width/2,_=I.heigh;u.barBorderCircle&&(u.barBorderRadius=[E/2,E/2,0,0]);var w=a(u.barBorderRadius,4),b=w[0],O=w[1],R=w[2],P=w[3];b+R>_&&(b=_,R=0,O=_,P=0),b+R>E/2&&(b=E/2,O=E/2,R=0,P=0),b=b<0?0:b,O=O<0?0:O,R=R<0?0:R,P=P<0?0:P,r.arc(M+P,N+P,P,-Math.PI,-Math.PI/2),r.arc(I.x-b,N+b,b,-Math.PI/2,0),r.arc(I.x-O,N+E-O,O,0,Math.PI/2),r.arc(M+R,N+E-R,R,Math.PI/2,Math.PI)}else r.moveTo(x,A),r.lineTo(I.x,A),r.lineTo(I.x,A+I.width-2),r.lineTo(x,A+I.width-2),r.lineTo(x,A),r.setLineWidth(1),r.setStrokeStyle(y);r.setFillStyle(F),r.closePath(),r.fill()}}break;case"stack":v=pt(S,D,p,s,o,e,i,l,t,n);c.push(v),v=ct(v,o,t.length,l,i,e,t);for(var B=0;B<v.length;B++){var G=v[B];if(null!==G&&B>m&&B<f){r.beginPath();F=G.color||h.color,x=G.x0;r.setFillStyle(F),r.moveTo(x,G.y-G.width/2),r.fillRect(x,G.y-G.width/2,G.height,G.width-2),r.closePath(),r.fill()}}break}})),!1!==e.dataLabel&&1===n&&t.forEach((function(a,h){var l,c,C;l=[].concat(e.chartData.xAxisData.ranges),C=l.pop(),c=l.shift();var m=a.data;switch(u.type){case"group":var f=dt(m,c,C,s,o,e,i,n);f=ht(f,o,t.length,h,i,e),yt(f,a,i,r,e);break;case"stack":f=pt(m,c,C,s,o,e,i,h,t,n);yt(f,a,i,r,e);break}})),{yAxisPoints:s,calPoints:c,eachSpacing:o}}function Gt(t,e,a,i,r){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=l({},{color:{},average:{}},a.extra.candle);s.color=l({},{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},s.color),s.average=l({},{show:!1,name:[],day:[],color:i.color},s.average),a.extra.candle=s;var o=a.chartData.xAxisData,h=o.xAxisPoints,u=o.eachSpacing,c=[];r.save();var C=-2,m=h.length+2,f=0,d=a.width+u;return a._scrollDistance_&&0!==a._scrollDistance_&&!0===a.enableScroll&&(r.translate(a._scrollDistance_,0),C=Math.floor(-a._scrollDistance_/u)-2,m=C+a.xAxis.itemCount+4,f=-a._scrollDistance_-2*u+a.area[3],d=f+(a.xAxis.itemCount+4)*u),(s.average.show||e)&&e.forEach((function(t,e){var s,o,l;s=[].concat(a.chartData.yAxisData.ranges[t.index]),o=s.pop(),l=s.shift();for(var c=t.data,C=ft(c,o,l,h,u,a,i,n),m=z(C,t),D=0;D<m.length;D++){var p=m[D];if(r.beginPath(),r.setStrokeStyle(t.color),r.setLineWidth(1),1===p.length)r.moveTo(p[0].x,p[0].y),r.arc(p[0].x,p[0].y,1,0,2*Math.PI);else{r.moveTo(p[0].x,p[0].y);for(var v=0,g=0;g<p.length;g++){var T=p[g];if(0==v&&T.x>f&&(r.moveTo(T.x,T.y),v=1),g>0&&T.x>f&&T.x<d){var I=S(p,g-1);r.bezierCurveTo(I.ctrA.x,I.ctrA.y,I.ctrB.x,I.ctrB.y,T.x,T.y)}}r.moveTo(p[0].x,p[0].y)}r.closePath(),r.stroke()}})),t.forEach((function(t,e){var o,l,f;o=[].concat(a.chartData.yAxisData.ranges[t.index]),l=o.pop(),f=o.shift();var d=t.data,D=mt(d,l,f,h,u,a,i,n);c.push(D);for(var p=z(D,t),S=0;S<p[0].length;S++)if(S>C&&S<m){var v=p[0][S];r.beginPath(),d[S][1]-d[S][0]>0?(r.setStrokeStyle(s.color.upLine),r.setFillStyle(s.color.upFill),r.setLineWidth(1*a.pix),r.moveTo(v[3].x,v[3].y),r.lineTo(v[1].x,v[1].y),r.lineTo(v[1].x-u/4,v[1].y),r.lineTo(v[0].x-u/4,v[0].y),r.lineTo(v[0].x,v[0].y),r.lineTo(v[2].x,v[2].y),r.lineTo(v[0].x,v[0].y),r.lineTo(v[0].x+u/4,v[0].y),r.lineTo(v[1].x+u/4,v[1].y),r.lineTo(v[1].x,v[1].y),r.moveTo(v[3].x,v[3].y)):(r.setStrokeStyle(s.color.downLine),r.setFillStyle(s.color.downFill),r.setLineWidth(1*a.pix),r.moveTo(v[3].x,v[3].y),r.lineTo(v[0].x,v[0].y),r.lineTo(v[0].x-u/4,v[0].y),r.lineTo(v[1].x-u/4,v[1].y),r.lineTo(v[1].x,v[1].y),r.lineTo(v[2].x,v[2].y),r.lineTo(v[1].x,v[1].y),r.lineTo(v[1].x+u/4,v[1].y),r.lineTo(v[0].x+u/4,v[0].y),r.lineTo(v[0].x,v[0].y),r.moveTo(v[3].x,v[3].y)),r.closePath(),r.fill(),r.stroke()}})),r.restore(),{xAxisPoints:h,calPoints:c,eachSpacing:u}}function kt(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=l({},{type:"straight",opacity:.2,addLine:!1,width:2,gradient:!1},e.extra.area),s=e.chartData.xAxisData,o=s.xAxisPoints,h=s.eachSpacing,u=e.height-e.area[2],c=[];i.save();var m=0,f=e.width+h;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),m=-e._scrollDistance_-2*h+e.area[3],f=m+(e.xAxis.itemCount+4)*h),t.forEach((function(t,s){var l,d,D;l=[].concat(e.chartData.yAxisData.ranges[t.index]),d=l.pop(),D=l.shift();var p=t.data,v=ft(p,d,D,o,h,e,a,r);c.push(v);for(var g=z(v,t),T=0;T<g.length;T++){var I=g[T];if(i.beginPath(),i.setStrokeStyle(C(t.color,n.opacity)),n.gradient){var x=i.createLinearGradient(0,e.area[0],0,e.height-e.area[2]);x.addColorStop("0",C(t.color,n.opacity)),x.addColorStop("1.0",C("#FFFFFF",.1)),i.setFillStyle(x)}else i.setFillStyle(C(t.color,n.opacity));if(i.setLineWidth(n.width*e.pix),I.length>1){var A=I[0],F=I[I.length-1];i.moveTo(A.x,A.y);var y=0;if("curve"===n.type)for(var L=0;L<I.length;L++){var M=I[L];if(0==y&&M.x>m&&(i.moveTo(M.x,M.y),y=1),L>0&&M.x>m&&M.x<f){var E=S(I,L-1);i.bezierCurveTo(E.ctrA.x,E.ctrA.y,E.ctrB.x,E.ctrB.y,M.x,M.y)}}if("straight"===n.type)for(var N=0;N<I.length;N++){var _=I[N];0==y&&_.x>m&&(i.moveTo(_.x,_.y),y=1),N>0&&_.x>m&&_.x<f&&i.lineTo(_.x,_.y)}if("step"===n.type)for(var w=0;w<I.length;w++){var b=I[w];0==y&&b.x>m&&(i.moveTo(b.x,b.y),y=1),w>0&&b.x>m&&b.x<f&&(i.lineTo(b.x,I[w-1].y),i.lineTo(b.x,b.y))}i.lineTo(F.x,u),i.lineTo(A.x,u),i.lineTo(A.x,A.y)}else{var O=I[0];i.moveTo(O.x-h/2,O.y),i.lineTo(O.x+h/2,O.y),i.lineTo(O.x+h/2,u),i.lineTo(O.x-h/2,u),i.moveTo(O.x-h/2,O.y)}if(i.closePath(),i.fill(),n.addLine){if("dash"==t.lineType){var R=t.dashLength?t.dashLength:8;R*=e.pix,i.setLineDash([R,R])}if(i.beginPath(),i.setStrokeStyle(t.color),i.setLineWidth(n.width*e.pix),1===I.length)i.moveTo(I[0].x,I[0].y),i.arc(I[0].x,I[0].y,1,0,2*Math.PI);else{i.moveTo(I[0].x,I[0].y);var P=0;if("curve"===n.type)for(var B=0;B<I.length;B++){var G=I[B];if(0==P&&G.x>m&&(i.moveTo(G.x,G.y),P=1),B>0&&G.x>m&&G.x<f){var k=S(I,B-1);i.bezierCurveTo(k.ctrA.x,k.ctrA.y,k.ctrB.x,k.ctrB.y,G.x,G.y)}}if("straight"===n.type)for(var V=0;V<I.length;V++){var H=I[V];0==P&&H.x>m&&(i.moveTo(H.x,H.y),P=1),V>0&&H.x>m&&H.x<f&&i.lineTo(H.x,H.y)}if("step"===n.type)for(var J=0;J<I.length;J++){var U=I[J];0==P&&U.x>m&&(i.moveTo(U.x,U.y),P=1),J>0&&U.x>m&&U.x<f&&(i.lineTo(U.x,I[J-1].y),i.lineTo(U.x,U.y))}i.moveTo(I[0].x,I[0].y)}i.stroke(),i.setLineDash([])}}!1!==e.dataPointShape&&xt(v,t.color,t.pointShape,i,e)})),!1!==e.dataLabel&&1===r&&t.forEach((function(t,n){var s,l,u;s=[].concat(e.chartData.yAxisData.ranges[t.index]),l=s.pop(),u=s.shift();var c=t.data,C=ft(c,l,u,o,h,e,a,r);Ft(C,t,a,i,e)})),i.restore(),{xAxisPoints:o,calPoints:c,eachSpacing:h}}function Vt(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=(l({},{type:"circle"},e.extra.scatter),e.chartData.xAxisData),s=n.xAxisPoints,o=n.eachSpacing,h=[];i.save();var u=0;e.width;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),u=-e._scrollDistance_-2*o+e.area[3],u+(e.xAxis.itemCount+4)*o),t.forEach((function(t,n){var h,l,u;h=[].concat(e.chartData.yAxisData.ranges[t.index]),l=h.pop(),u=h.shift();var c=t.data,C=ft(c,l,u,s,o,e,a,r);i.beginPath(),i.setStrokeStyle(t.color),i.setFillStyle(t.color),i.setLineWidth(1*e.pix);var m=t.pointShape;if("diamond"===m)C.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y),i.lineTo(t.x,t.y+4.5),i.lineTo(t.x+4.5,t.y),i.lineTo(t.x,t.y-4.5))}));else if("circle"===m)C.forEach((function(t,a){null!==t&&(i.moveTo(t.x+2.5*e.pix,t.y),i.arc(t.x,t.y,3*e.pix,0,2*Math.PI,!1))}));else if("square"===m)C.forEach((function(t,e){null!==t&&(i.moveTo(t.x-3.5,t.y-3.5),i.rect(t.x-3.5,t.y-3.5,7,7))}));else if("triangle"===m)C.forEach((function(t,e){null!==t&&(i.moveTo(t.x,t.y-4.5),i.lineTo(t.x-4.5,t.y+4.5),i.lineTo(t.x+4.5,t.y+4.5),i.lineTo(t.x,t.y-4.5))}));else if("triangle"===m)return;i.closePath(),i.fill(),i.stroke()})),!1!==e.dataLabel&&1===r&&t.forEach((function(t,n){var h,l,u;h=[].concat(e.chartData.yAxisData.ranges[t.index]),l=h.pop(),u=h.shift();var c=t.data,C=ft(c,l,u,s,o,e,a,r);Ft(C,t,a,i,e)})),i.restore(),{xAxisPoints:s,calPoints:h,eachSpacing:o}}function Ht(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=l({},{opacity:1,border:2},e.extra.bubble),s=e.chartData.xAxisData,o=s.xAxisPoints,h=s.eachSpacing,u=[];i.save();var c=0;e.width;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),c=-e._scrollDistance_-2*h+e.area[3],c+(e.xAxis.itemCount+4)*h),t.forEach((function(s,l){var u,c,m;u=[].concat(e.chartData.yAxisData.ranges[s.index]),c=u.pop(),m=u.shift();var f=s.data,d=ft(f,c,m,o,h,e,a,r);i.beginPath(),i.setStrokeStyle(s.color),i.setLineWidth(n.border*e.pix),i.setFillStyle(C(s.color,n.opacity)),d.forEach((function(t,a){i.moveTo(t.x+t.r,t.y),i.arc(t.x,t.y,t.r*e.pix,0,2*Math.PI,!1)})),i.closePath(),i.fill(),i.stroke(),!1!==e.dataLabel&&1===r&&d.forEach((function(r,n){i.beginPath();var s=t.textSize*e.pix||a.fontSize;i.setFontSize(s),i.setFillStyle(t.textColor||"#FFFFFF"),i.setTextAlign("center"),i.fillText(String(r.t),r.x,r.y+s/2),i.closePath(),i.stroke(),i.setTextAlign("left")}))})),i.restore(),{xAxisPoints:o,calPoints:u,eachSpacing:h}}function Jt(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=l({},{type:"straight",width:2},e.extra.line);n.width*=e.pix;var s=e.chartData.xAxisData,o=s.xAxisPoints,h=s.eachSpacing,u=[];i.save();var c=0,C=e.width+h;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(i.translate(e._scrollDistance_,0),c=-e._scrollDistance_-2*h+e.area[3],C=c+(e.xAxis.itemCount+4)*h),t.forEach((function(t,s){var l,m,f;l=[].concat(e.chartData.yAxisData.ranges[t.index]),m=l.pop(),f=l.shift();var d=t.data,D=ft(d,m,f,o,h,e,a,r);u.push(D);var p=z(D,t);if("dash"==t.lineType){var v=t.dashLength?t.dashLength:8;v*=e.pix,i.setLineDash([v,v])}i.beginPath(),i.setStrokeStyle(t.color),i.setLineWidth(n.width),p.forEach((function(t,e){if(1===t.length)i.moveTo(t[0].x,t[0].y),i.arc(t[0].x,t[0].y,1,0,2*Math.PI);else{i.moveTo(t[0].x,t[0].y);var a=0;if("curve"===n.type)for(var r=0;r<t.length;r++){var s=t[r];if(0==a&&s.x>c&&(i.moveTo(s.x,s.y),a=1),r>0&&s.x>c&&s.x<C){var o=S(t,r-1);i.bezierCurveTo(o.ctrA.x,o.ctrA.y,o.ctrB.x,o.ctrB.y,s.x,s.y)}}if("straight"===n.type)for(var h=0;h<t.length;h++){var l=t[h];0==a&&l.x>c&&(i.moveTo(l.x,l.y),a=1),h>0&&l.x>c&&l.x<C&&i.lineTo(l.x,l.y)}if("step"===n.type)for(var u=0;u<t.length;u++){var m=t[u];0==a&&m.x>c&&(i.moveTo(m.x,m.y),a=1),u>0&&m.x>c&&m.x<C&&(i.lineTo(m.x,t[u-1].y),i.lineTo(m.x,m.y))}i.moveTo(t[0].x,t[0].y)}})),i.stroke(),i.setLineDash([]),!1!==e.dataPointShape&&xt(D,t.color,t.pointShape,i,e)})),!1!==e.dataLabel&&1===r&&t.forEach((function(t,n){var s,l,u;s=[].concat(e.chartData.yAxisData.ranges[t.index]),l=s.pop(),u=s.shift();var c=t.data,C=ft(c,l,u,o,h,e,a,r);Ft(C,t,a,i,e)})),i.restore(),{xAxisPoints:o,calPoints:u,eachSpacing:h}}function Ut(t,e,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=l({},{width:u/2,barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.mix.column),o=e.chartData.xAxisData,h=o.xAxisPoints,u=o.eachSpacing,c=e.height-e.area[2],m=[],f=0,d=0;t.forEach((function(t,e){"column"==t.type&&(d+=1)})),r.save();var D=-2,p=h.length+2,v=0,g=e.width+u;if(e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(r.translate(e._scrollDistance_,0),D=Math.floor(-e._scrollDistance_/u)-2,p=D+e.xAxis.itemCount+4,v=-e._scrollDistance_-2*u+e.area[3],g=v+(e.xAxis.itemCount+4)*u),s.customColor=x(s.linearType,s.customColor,t,i),t.forEach((function(t,o){var l,T,I;l=[].concat(e.chartData.yAxisData.ranges[t.index]),T=l.pop(),I=l.shift();var x=t.data,A=ft(x,T,I,h,u,e,i,n);if(m.push(A),"column"==t.type){A=ot(A,u,d,f,i,e);for(var F=0;F<A.length;F++){var y=A[F];if(null!==y&&F>D&&F<p){var L=y.x-y.width/2;e.height,y.y,e.area[2];r.beginPath();var M=y.color||t.color,E=y.color||t.color;if("none"!==s.linearType){var N=r.createLinearGradient(L,y.y,L,e.height-e.area[2]);"opacity"==s.linearType?(N.addColorStop(0,C(M,s.linearOpacity)),N.addColorStop(1,C(M,1))):(N.addColorStop(0,C(s.customColor[t.linearIndex],s.linearOpacity)),N.addColorStop(s.colorStop,C(s.customColor[t.linearIndex],s.linearOpacity)),N.addColorStop(1,C(M,1))),M=N}if(s.barBorderRadius&&4===s.barBorderRadius.length||s.barBorderCircle){var _=L,w=y.y,b=y.width,O=e.height-e.area[2]-y.y;s.barBorderCircle&&(s.barBorderRadius=[b/2,b/2,0,0]);var R=a(s.barBorderRadius,4),P=R[0],B=R[1],G=R[2],k=R[3];P+G>O&&(P=O,G=0,B=O,k=0),P+G>b/2&&(P=b/2,G=0,B=b/2,k=0),P=P<0?0:P,B=B<0?0:B,G=G<0?0:G,k=k<0?0:k,r.arc(_+P,w+P,P,-Math.PI,-Math.PI/2),r.arc(_+b-B,w+B,B,-Math.PI/2,0),r.arc(_+b-G,w+O-G,G,0,Math.PI/2),r.arc(_+k,w+O-k,k,Math.PI/2,Math.PI)}else r.moveTo(L,y.y),r.lineTo(L+y.width-2,y.y),r.lineTo(L+y.width-2,e.height-e.area[2]),r.lineTo(L,e.height-e.area[2]),r.lineTo(L,y.y),r.setLineWidth(1),r.setStrokeStyle(E);r.setFillStyle(M),r.closePath(),r.fill()}}f+=1}if("area"==t.type)for(var V=z(A,t),H=0;H<V.length;H++){var J=V[H];if(r.beginPath(),r.setStrokeStyle(t.color),r.setFillStyle(C(t.color,.2)),r.setLineWidth(2*e.pix),J.length>1){var U=J[0],W=J[J.length-1];r.moveTo(U.x,U.y);var Y=0;if("curve"===t.style)for(var X=0;X<J.length;X++){var K=J[X];if(0==Y&&K.x>v&&(r.moveTo(K.x,K.y),Y=1),X>0&&K.x>v&&K.x<g){var $=S(J,X-1);r.bezierCurveTo($.ctrA.x,$.ctrA.y,$.ctrB.x,$.ctrB.y,K.x,K.y)}}else for(var q=0;q<J.length;q++){var j=J[q];0==Y&&j.x>v&&(r.moveTo(j.x,j.y),Y=1),q>0&&j.x>v&&j.x<g&&r.lineTo(j.x,j.y)}r.lineTo(W.x,c),r.lineTo(U.x,c),r.lineTo(U.x,U.y)}else{var Z=J[0];r.moveTo(Z.x-u/2,Z.y),r.lineTo(Z.x+u/2,Z.y),r.lineTo(Z.x+u/2,c),r.lineTo(Z.x-u/2,c),r.moveTo(Z.x-u/2,Z.y)}r.closePath(),r.fill()}if("line"==t.type){var Q=z(A,t);Q.forEach((function(a,i){if("dash"==t.lineType){var n=t.dashLength?t.dashLength:8;n*=e.pix,r.setLineDash([n,n])}if(r.beginPath(),r.setStrokeStyle(t.color),r.setLineWidth(2*e.pix),1===a.length)r.moveTo(a[0].x,a[0].y),r.arc(a[0].x,a[0].y,1,0,2*Math.PI);else{r.moveTo(a[0].x,a[0].y);var s=0;if("curve"==t.style)for(var o=0;o<a.length;o++){var h=a[o];if(0==s&&h.x>v&&(r.moveTo(h.x,h.y),s=1),o>0&&h.x>v&&h.x<g){var l=S(a,o-1);r.bezierCurveTo(l.ctrA.x,l.ctrA.y,l.ctrB.x,l.ctrB.y,h.x,h.y)}}else for(var u=0;u<a.length;u++){var c=a[u];0==s&&c.x>v&&(r.moveTo(c.x,c.y),s=1),u>0&&c.x>v&&c.x<g&&r.lineTo(c.x,c.y)}r.moveTo(a[0].x,a[0].y)}r.stroke(),r.setLineDash([])}))}"point"==t.type&&(t.addPoint=!0),1==t.addPoint&&"column"!==t.type&&xt(A,t.color,t.pointShape,r,e)})),!1!==e.dataLabel&&1===n){f=0;t.forEach((function(t,a){var s,o,l;s=[].concat(e.chartData.yAxisData.ranges[t.index]),o=s.pop(),l=s.shift();var c=t.data,C=ft(c,o,l,h,u,e,i,n);"column"!==t.type?Ft(C,t,i,r,e):(C=ot(C,u,d,f,i,e),Ft(C,t,i,r,e),f+=1)}))}return r.restore(),{xAxisPoints:h,calPoints:m,eachSpacing:u}}function Wt(t,e,a,i,r,n){var s=t.extra.tooltip||{};s.horizentalLine&&t.tooltip&&1===i&&("line"==t.type||"area"==t.type||"column"==t.type||"candle"==t.type||"mix"==t.type)&&wt(t,e,a,r,n),a.save(),t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&a.translate(t._scrollDistance_,0),t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&1===i&&Rt(t.tooltip.textList,t.tooltip.offset,t,e,a,r,n),a.restore()}function Yt(t,e,a,i){var r=e.chartData.xAxisData,n=r.xAxisPoints,s=r.startX,o=r.endX,h=r.eachSpacing,l="center";"bar"!=e.type&&"line"!=e.type&&"area"!=e.type&&"scatter"!=e.type&&"bubble"!=e.type||(l=e.xAxis.boundaryGap);var u=e.height-e.area[2],c=e.area[0];if(e.enableScroll&&e.xAxis.scrollShow){var C=e.height-e.area[2]+a.xAxisHeight,m=o-s,f=h*(n.length-1),d=m*m/f,D=0;e._scrollDistance_&&(D=-e._scrollDistance_*m/f),i.beginPath(),i.setLineCap("round"),i.setLineWidth(6*e.pix),i.setStrokeStyle(e.xAxis.scrollBackgroundColor||"#EFEBEF"),i.moveTo(s,C),i.lineTo(o,C),i.stroke(),i.closePath(),i.beginPath(),i.setLineCap("round"),i.setLineWidth(6*e.pix),i.setStrokeStyle(e.xAxis.scrollColor||"#A6A6A6"),i.moveTo(s+D,C),i.lineTo(s+D+d,C),i.stroke(),i.closePath(),i.setLineCap("butt")}if(i.save(),e._scrollDistance_&&0!==e._scrollDistance_&&i.translate(e._scrollDistance_,0),!0===e.xAxis.calibration&&(i.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),i.setLineCap("butt"),i.setLineWidth(1*e.pix),n.forEach((function(t,a){a>0&&(i.beginPath(),i.moveTo(t-h/2,u),i.lineTo(t-h/2,u+3*e.pix),i.closePath(),i.stroke())}))),!0!==e.xAxis.disableGrid&&(i.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),i.setLineCap("butt"),i.setLineWidth(1*e.pix),"dash"==e.xAxis.gridType&&i.setLineDash([e.xAxis.dashLength*e.pix,e.xAxis.dashLength*e.pix]),e.xAxis.gridEval=e.xAxis.gridEval||1,n.forEach((function(t,a){a%e.xAxis.gridEval==0&&(i.beginPath(),i.moveTo(t,u),i.lineTo(t,c),i.stroke())})),i.setLineDash([])),!0!==e.xAxis.disabled){var S=t.length;e.xAxis.labelCount&&(S=e.xAxis.itemCount?Math.ceil(t.length/e.xAxis.itemCount*e.xAxis.labelCount):e.xAxis.labelCount,S-=1);for(var v=Math.ceil(t.length/S),g=[],T=t.length,I=0;I<T;I++)I%v!==0?g.push(""):g.push(t[I]);g[T-1]=t[T-1];var x=e.xAxis.fontSize*e.pix||a.fontSize;0===a._xAxisTextAngle_?g.forEach((function(t,r){var s=e.xAxis.formatter?e.xAxis.formatter(t):t,o=-F(String(s),x,i)/2;"center"==l&&(o+=h/2);var c=0;e.xAxis.scrollShow&&(c=6*e.pix),i.beginPath(),i.setFontSize(x),i.setFillStyle(e.xAxis.fontColor||e.fontColor),i.fillText(String(s),n[r]+o,u+x+(a.xAxisHeight-c-x)/2),i.closePath(),i.stroke()})):g.forEach((function(t,r){var s=e.xAxis.formatter?e.xAxis.formatter(Number(t)):t;i.save(),i.beginPath(),i.setFontSize(x),i.setFillStyle(e.xAxis.fontColor||e.fontColor);var o=F(String(s),x,i),c=-o;"center"==l&&(c+=h/2);var C=p(n[r]+h/2,u+x/2+5,e.height),m=C.transX,f=C.transY;i.rotate(-1*a._xAxisTextAngle_),i.translate(m,f),i.fillText(String(s),n[r]+c,u+x+5),i.closePath(),i.stroke(),i.restore()}))}i.restore(),e.xAxis.axisLine&&(i.beginPath(),i.setStrokeStyle(e.xAxis.axisLineColor),i.setLineWidth(1*e.pix),i.moveTo(s,e.height-e.area[2]),i.lineTo(o,e.height-e.area[2]),i.stroke())}function Xt(t,e,a,i){if(!0!==e.yAxis.disableGrid){var r=e.height-e.area[0]-e.area[2],n=r/e.yAxis.splitNumber,s=e.area[3],o=e.chartData.xAxisData.xAxisPoints,h=e.chartData.xAxisData.eachSpacing,l=h*(o.length-1),u=s+l,c=[],C=1;!1===e.xAxis.axisLine&&(C=0);for(var m=C;m<e.yAxis.splitNumber+1;m++)c.push(e.height-e.area[2]-n*m);i.save(),e._scrollDistance_&&0!==e._scrollDistance_&&i.translate(e._scrollDistance_,0),"dash"==e.yAxis.gridType&&i.setLineDash([e.yAxis.dashLength*e.pix,e.yAxis.dashLength*e.pix]),i.setStrokeStyle(e.yAxis.gridColor),i.setLineWidth(1*e.pix),c.forEach((function(t,e){i.beginPath(),i.moveTo(s,t),i.lineTo(u,t),i.stroke()})),i.setLineDash([]),i.restore()}}function Kt(t,e,a,i){if(!0!==e.yAxis.disabled){var r=e.height-e.area[0]-e.area[2],n=r/e.yAxis.splitNumber,s=e.area[3],o=e.width-e.area[1],h=e.height-e.area[2],l=h+a.xAxisHeight;e.xAxis.scrollShow&&(l-=3*e.pix),e.xAxis.rotateLabel&&(l=e.height-e.area[2]+e.fontSize*e.pix/2),i.beginPath(),i.setFillStyle(e.background),1==e.enableScroll&&e.xAxis.scrollPosition&&"left"!==e.xAxis.scrollPosition&&i.fillRect(0,0,s,l),1==e.enableScroll&&e.xAxis.scrollPosition&&"right"!==e.xAxis.scrollPosition&&i.fillRect(o,0,e.width,l),i.closePath(),i.stroke();var u=e.area[3],c=e.width-e.area[1],C=e.area[3]+(e.width-e.area[1]-e.area[3])/2;if(e.yAxis.data)for(var m=function(t){var s=e.yAxis.data[t];if(d=[],"categories"===s.type)for(var o=0;o<=s.categories.length;o++)d.push(e.area[0]+r/s.categories.length/2+r/s.categories.length*o);else for(var l=0;l<=e.yAxis.splitNumber;l++)d.push(e.area[0]+n*l);if(!0!==s.disabled){var m=e.chartData.yAxisData.rangesFormat[t],f=s.fontSize?s.fontSize*e.pix:a.fontSize,D=e.chartData.yAxisData.yAxisWidth[t],p=s.textAlign||"right";if(m.forEach((function(t,a){var r=d[a]?d[a]:h;i.beginPath(),i.setFontSize(f),i.setLineWidth(1*e.pix),i.setStrokeStyle(s.axisLineColor||"#cccccc"),i.setFillStyle(s.fontColor||e.fontColor);var n=0,o=4*e.pix;if("left"==D.position){switch(1==s.calibration&&(i.moveTo(u,r),i.lineTo(u-3*e.pix,r),o+=3*e.pix),p){case"left":i.setTextAlign("left"),n=u-D.width;break;case"right":i.setTextAlign("right"),n=u-o;break;default:i.setTextAlign("center"),n=u-D.width/2}i.fillText(String(t),n,r+f/2-3*e.pix)}else if("right"==D.position){switch(1==s.calibration&&(i.moveTo(c,r),i.lineTo(c+3*e.pix,r),o+=3*e.pix),p){case"left":i.setTextAlign("left"),n=c+o;break;case"right":i.setTextAlign("right"),n=c+D.width;break;default:i.setTextAlign("center"),n=c+D.width/2}i.fillText(String(t),n,r+f/2-3*e.pix)}else if("center"==D.position){switch(1==s.calibration&&(i.moveTo(C,r),i.lineTo(C-3*e.pix,r),o+=3*e.pix),p){case"left":i.setTextAlign("left"),n=C-D.width;break;case"right":i.setTextAlign("right"),n=C-o;break;default:i.setTextAlign("center"),n=C-D.width/2}i.fillText(String(t),n,r+f/2-3*e.pix)}i.closePath(),i.stroke(),i.setTextAlign("left")})),!1!==s.axisLine&&(i.beginPath(),i.setStrokeStyle(s.axisLineColor||"#cccccc"),i.setLineWidth(1*e.pix),"left"==D.position?(i.moveTo(u,e.height-e.area[2]),i.lineTo(u,e.area[0])):"right"==D.position?(i.moveTo(c,e.height-e.area[2]),i.lineTo(c,e.area[0])):"center"==D.position&&(i.moveTo(C,e.height-e.area[2]),i.lineTo(C,e.area[0])),i.stroke()),e.yAxis.showTitle){var S=s.titleFontSize*e.pix||a.fontSize,v=s.title;i.beginPath(),i.setFontSize(S),i.setFillStyle(s.titleFontColor||e.fontColor),"left"==D.position?i.fillText(v,u-F(v,S,i)/2+(s.titleOffsetX||0),e.area[0]-(10-(s.titleOffsetY||0))*e.pix):"right"==D.position?i.fillText(v,c-F(v,S,i)/2+(s.titleOffsetX||0),e.area[0]-(10-(s.titleOffsetY||0))*e.pix):"center"==D.position&&i.fillText(v,C-F(v,S,i)/2+(s.titleOffsetX||0),e.area[0]-(10-(s.titleOffsetY||0))*e.pix),i.closePath(),i.stroke()}"left"==D.position?u-=D.width+e.yAxis.padding*e.pix:c+=D.width+e.yAxis.padding*e.pix}},f=0;f<e.yAxis.data.length;f++){var d;m(f)}}}function zt(t,e,a,i,r){if(!1!==e.legend.show){var n=r.legendData,s=n.points,o=n.area,h=e.legend.padding*e.pix,l=e.legend.fontSize*e.pix,u=15*e.pix,c=5*e.pix,C=e.legend.itemGap*e.pix,m=Math.max(e.legend.lineHeight*e.pix,l);i.beginPath(),i.setLineWidth(e.legend.borderWidth*e.pix),i.setStrokeStyle(e.legend.borderColor),i.setFillStyle(e.legend.backgroundColor),i.moveTo(o.start.x,o.start.y),i.rect(o.start.x,o.start.y,o.width,o.height),i.closePath(),i.fill(),i.stroke(),s.forEach((function(t,r){var s=0,f=0;s=n.widthArr[r],f=n.heightArr[r];var d=0,D=0;if("top"==e.legend.position||"bottom"==e.legend.position){switch(e.legend.float){case"left":d=o.start.x+h;break;case"right":d=o.start.x+o.width-s;break;default:d=o.start.x+(o.width-s)/2}D=o.start.y+h+r*m}else s=0==r?0:n.widthArr[r-1],d=o.start.x+h+s,D=o.start.y+h+(o.height-f)/2;i.setFontSize(a.fontSize);for(var p=0;p<t.length;p++){var S=t[p];switch(S.area=[0,0,0,0],S.area[0]=d,S.area[1]=D,S.area[3]=D+m,i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(S.show?S.color:e.legend.hiddenColor),i.setFillStyle(S.show?S.color:e.legend.hiddenColor),S.legendShape){case"line":i.moveTo(d,D+.5*m-2*e.pix),i.fillRect(d,D+.5*m-2*e.pix,15*e.pix,4*e.pix);break;case"triangle":i.moveTo(d+7.5*e.pix,D+.5*m-5*e.pix),i.lineTo(d+2.5*e.pix,D+.5*m+5*e.pix),i.lineTo(d+12.5*e.pix,D+.5*m+5*e.pix),i.lineTo(d+7.5*e.pix,D+.5*m-5*e.pix);break;case"diamond":i.moveTo(d+7.5*e.pix,D+.5*m-5*e.pix),i.lineTo(d+2.5*e.pix,D+.5*m),i.lineTo(d+7.5*e.pix,D+.5*m+5*e.pix),i.lineTo(d+12.5*e.pix,D+.5*m),i.lineTo(d+7.5*e.pix,D+.5*m-5*e.pix);break;case"circle":i.moveTo(d+7.5*e.pix,D+.5*m),i.arc(d+7.5*e.pix,D+.5*m,5*e.pix,0,2*Math.PI);break;case"rect":i.moveTo(d,D+.5*m-5*e.pix),i.fillRect(d,D+.5*m-5*e.pix,15*e.pix,10*e.pix);break;case"square":i.moveTo(d+5*e.pix,D+.5*m-5*e.pix),i.fillRect(d+5*e.pix,D+.5*m-5*e.pix,10*e.pix,10*e.pix);break;case"none":break;default:i.moveTo(d,D+.5*m-5*e.pix),i.fillRect(d,D+.5*m-5*e.pix,15*e.pix,10*e.pix)}i.closePath(),i.fill(),i.stroke(),d+=u+c;var v=.5*m+.5*l-2;i.beginPath(),i.setFontSize(l),i.setFillStyle(S.show?e.legend.fontColor:e.legend.hiddenColor),i.fillText(S.name,d,D+v),i.closePath(),i.stroke(),"top"==e.legend.position||"bottom"==e.legend.position?(d+=F(S.name,l,i)+C,S.area[2]=d):(S.area[2]=d+F(S.name,l,i)+C,d-=u+c,D+=m)}}))}}function $t(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=l({},{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,ringWidth:30,customRadius:0,border:!1,borderWidth:2,borderColor:"#FFFFFF",centerColor:"#FFFFFF",linearType:"none",customColor:[]},"pie"==e.type?e.extra.pie:e.extra.ring),s={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2};0==a.pieChartLinePadding&&(a.pieChartLinePadding=n.activeRadius*e.pix);var o=Math.min((e.width-e.area[1]-e.area[3])/2-a.pieChartLinePadding-a.pieChartTextPadding-a._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-a.pieChartLinePadding-a.pieChartTextPadding);n.customRadius>0&&(o=n.customRadius*e.pix),t=tt(t,o,r);var h=n.activeRadius*e.pix;if(n.customColor=x(n.linearType,n.customColor,t,a),t=t.map((function(t){return t._start_+=n.offsetAngle*Math.PI/180,t})),t.forEach((function(t,a){e.tooltip&&e.tooltip.index==a&&(i.beginPath(),i.setFillStyle(C(t.color,n.activeOpacity||.5)),i.moveTo(s.x,s.y),i.arc(s.x,s.y,t._radius_+h,t._start_,t._start_+2*t._proportion_*Math.PI),i.closePath(),i.fill()),i.beginPath(),i.setLineWidth(n.borderWidth*e.pix),i.lineJoin="round",i.setStrokeStyle(n.borderColor);var r,o=t.color;"custom"==n.linearType&&(r=i.createCircularGradient?i.createCircularGradient(s.x,s.y,t._radius_):i.createRadialGradient(s.x,s.y,0,s.x,s.y,t._radius_),r.addColorStop(0,C(n.customColor[t.linearIndex],1)),r.addColorStop(1,C(t.color,1)),o=r);i.setFillStyle(o),i.moveTo(s.x,s.y),i.arc(s.x,s.y,t._radius_,t._start_,t._start_+2*t._proportion_*Math.PI),i.closePath(),i.fill(),1==n.border&&i.stroke()})),"ring"===e.type){var u=.6*o;"number"===typeof n.ringWidth&&n.ringWidth>0&&(u=Math.max(0,o-n.ringWidth*e.pix)),i.beginPath(),i.setFillStyle(n.centerColor),i.moveTo(s.x,s.y),i.arc(s.x,s.y,u,0,2*Math.PI),i.closePath(),i.fill()}if(!1!==e.dataLabel&&1===r){for(var c=!1,m=0,f=t.length;m<f;m++)if(t[m].data>0){c=!0;break}c&&Et(t,e,a,i,o,s)}return 1===r&&"ring"===e.type&&At(e,a,i,s),{center:s,radius:o,series:t}}function qt(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=l({},{type:"area",activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF",linearType:"none",customColor:[]},e.extra.rose);0==a.pieChartLinePadding&&(a.pieChartLinePadding=n.activeRadius*e.pix);var s={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},o=Math.min((e.width-e.area[1]-e.area[3])/2-a.pieChartLinePadding-a.pieChartTextPadding-a._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-a.pieChartLinePadding-a.pieChartTextPadding),h=n.minRadius||.5*o;t=at(t,n.type,h,o,r);var u=n.activeRadius*e.pix;if(n.customColor=x(n.linearType,n.customColor,t,a),t=t.map((function(t){return t._start_+=(n.offsetAngle||0)*Math.PI/180,t})),t.forEach((function(t,a){e.tooltip&&e.tooltip.index==a&&(i.beginPath(),i.setFillStyle(C(t.color,n.activeOpacity||.5)),i.moveTo(s.x,s.y),i.arc(s.x,s.y,u+t._radius_,t._start_,t._start_+2*t._rose_proportion_*Math.PI),i.closePath(),i.fill()),i.beginPath(),i.setLineWidth(n.borderWidth*e.pix),i.lineJoin="round",i.setStrokeStyle(n.borderColor);var r,o=t.color;"custom"==n.linearType&&(r=i.createCircularGradient?i.createCircularGradient(s.x,s.y,t._radius_):i.createRadialGradient(s.x,s.y,0,s.x,s.y,t._radius_),r.addColorStop(0,C(n.customColor[t.linearIndex],1)),r.addColorStop(1,C(t.color,1)),o=r);i.setFillStyle(o),i.moveTo(s.x,s.y),i.arc(s.x,s.y,t._radius_,t._start_,t._start_+2*t._rose_proportion_*Math.PI),i.closePath(),i.fill(),1==n.border&&i.stroke()})),!1!==e.dataLabel&&1===r){for(var c=!1,m=0,f=t.length;m<f;m++)if(t[m].data>0){c=!0;break}c&&Et(t,e,a,i,o,s)}return{center:s,radius:o,series:t}}function jt(t,e,a,i){var r,n,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=l({},{startAngle:.75,endAngle:.25,type:"default",width:12,gap:2,linearType:"none",customColor:[]},e.extra.arcbar);t=it(t,o,s),r=o.centerX||o.centerY?{x:o.centerX?o.centerX:e.width/2,y:o.centerY?o.centerY:e.height/2}:{x:e.width/2,y:e.height/2},o.radius?n=o.radius:(n=Math.min(r.x,r.y),n-=5*e.pix,n-=o.width/2),o.customColor=x(o.linearType,o.customColor,t,a);for(var h=0;h<t.length;h++){var u=t[h];i.setLineWidth(o.width*e.pix),i.setStrokeStyle(o.backgroundColor||"#E9E9E9"),i.setLineCap("round"),i.beginPath(),"default"==o.type?i.arc(r.x,r.y,n-(o.width*e.pix+o.gap*e.pix)*h,o.startAngle*Math.PI,o.endAngle*Math.PI,!1):i.arc(r.x,r.y,n-(o.width*e.pix+o.gap*e.pix)*h,0,2*Math.PI,!1),i.stroke();var c=u.color;if("custom"==o.linearType){var m=i.createLinearGradient(r.x-n,r.y,r.x+n,r.y);m.addColorStop(1,C(o.customColor[u.linearIndex],1)),m.addColorStop(0,C(u.color,1)),c=m}i.setLineWidth(o.width*e.pix),i.setStrokeStyle(c),i.setLineCap("round"),i.beginPath(),i.arc(r.x,r.y,n-(o.width*e.pix+o.gap*e.pix)*h,o.startAngle*Math.PI,u._proportion_*Math.PI,!1),i.stroke()}return At(e,a,i,r),{center:r,radius:n,series:t}}function Zt(t,e,a,i,r){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=l({},{type:"default",startAngle:.75,endAngle:.25,width:15,labelOffset:13,splitLine:{fixRadius:0,splitNumber:10,width:15,color:"#FFFFFF",childNumber:5,childWidth:5},pointer:{width:15,color:"auto"}},a.extra.gauge);void 0==s.oldAngle&&(s.oldAngle=s.startAngle),void 0==s.oldData&&(s.oldData=0),t=rt(t,s.startAngle,s.endAngle);var o={x:a.width/2,y:a.height/2},h=Math.min(o.x,o.y);h-=5*a.pix,h-=s.width/2;var u=h-s.width,c=0;if("progress"==s.type){var m=h-3*s.width;r.beginPath();var f=r.createLinearGradient(o.x,o.y-m,o.x,o.y+m);f.addColorStop("0",C(e[0].color,.3)),f.addColorStop("1.0",C("#FFFFFF",.1)),r.setFillStyle(f),r.arc(o.x,o.y,m,0,2*Math.PI,!1),r.fill(),r.setLineWidth(s.width),r.setStrokeStyle(C(e[0].color,.3)),r.setLineCap("round"),r.beginPath(),r.arc(o.x,o.y,u,s.startAngle*Math.PI,s.endAngle*Math.PI,!1),r.stroke(),c=s.startAngle-s.endAngle+1;s.splitLine.splitNumber;var d=c/s.splitLine.splitNumber/s.splitLine.childNumber,D=-h-.5*s.width-s.splitLine.fixRadius,p=-h-s.width-s.splitLine.fixRadius+s.splitLine.width;r.save(),r.translate(o.x,o.y),r.rotate((s.startAngle-1)*Math.PI);for(var S=s.splitLine.splitNumber*s.splitLine.childNumber+1,v=e[0].data*n,g=0;g<S;g++)r.beginPath(),v>g/S?r.setStrokeStyle(C(e[0].color,1)):r.setStrokeStyle(C(e[0].color,.3)),r.setLineWidth(3*a.pix),r.moveTo(D,0),r.lineTo(p,0),r.stroke(),r.rotate(d*Math.PI);r.restore(),e=it(e,s,n),r.setLineWidth(s.width),r.setStrokeStyle(e[0].color),r.setLineCap("round"),r.beginPath(),r.arc(o.x,o.y,u,s.startAngle*Math.PI,e[0]._proportion_*Math.PI,!1),r.stroke();var T=h-2.5*s.width;r.save(),r.translate(o.x,o.y),r.rotate((e[0]._proportion_-1)*Math.PI),r.beginPath(),r.setLineWidth(s.width/3);var I=r.createLinearGradient(0,.6*-T,0,.6*T);I.addColorStop("0",C("#FFFFFF",0)),I.addColorStop("0.5",C(e[0].color,1)),I.addColorStop("1.0",C("#FFFFFF",0)),r.setStrokeStyle(I),r.arc(0,0,T,.85*Math.PI,1.15*Math.PI,!1),r.stroke(),r.beginPath(),r.setLineWidth(1),r.setStrokeStyle(e[0].color),r.setFillStyle(e[0].color),r.moveTo(-T-s.width/3/2,-4),r.lineTo(-T-s.width/3/2-4,0),r.lineTo(-T-s.width/3/2,4),r.lineTo(-T-s.width/3/2,-4),r.stroke(),r.fill(),r.restore()}else{r.setLineWidth(s.width),r.setLineCap("butt");for(var x=0;x<t.length;x++){var A=t[x];r.beginPath(),r.setStrokeStyle(A.color),r.arc(o.x,o.y,h,A._startAngle_*Math.PI,A._endAngle_*Math.PI,!1),r.stroke()}r.save(),c=s.startAngle-s.endAngle+1;var F=c/s.splitLine.splitNumber,y=c/s.splitLine.splitNumber/s.splitLine.childNumber,L=-h-.5*s.width-s.splitLine.fixRadius,M=-h-.5*s.width-s.splitLine.fixRadius+s.splitLine.width,E=-h-.5*s.width-s.splitLine.fixRadius+s.splitLine.childWidth;r.translate(o.x,o.y),r.rotate((s.startAngle-1)*Math.PI);for(var N=0;N<s.splitLine.splitNumber+1;N++)r.beginPath(),r.setStrokeStyle(s.splitLine.color),r.setLineWidth(2*a.pix),r.moveTo(L,0),r.lineTo(M,0),r.stroke(),r.rotate(F*Math.PI);r.restore(),r.save(),r.translate(o.x,o.y),r.rotate((s.startAngle-1)*Math.PI);for(var _=0;_<s.splitLine.splitNumber*s.splitLine.childNumber+1;_++)r.beginPath(),r.setStrokeStyle(s.splitLine.color),r.setLineWidth(1*a.pix),r.moveTo(L,0),r.lineTo(E,0),r.stroke(),r.rotate(y*Math.PI);r.restore(),e=nt(e,t,s,n);for(var w=0;w<e.length;w++){var b=e[w];r.save(),r.translate(o.x,o.y),r.rotate((b._proportion_-1)*Math.PI),r.beginPath(),r.setFillStyle(b.color),r.moveTo(s.pointer.width,0),r.lineTo(0,-s.pointer.width/2),r.lineTo(-u,0),r.lineTo(0,s.pointer.width/2),r.lineTo(s.pointer.width,0),r.closePath(),r.fill(),r.beginPath(),r.setFillStyle("#FFFFFF"),r.arc(0,0,s.pointer.width/6,0,2*Math.PI,!1),r.fill(),r.restore()}!1!==a.dataLabel&&Lt(s,h,o,a,i,r)}return At(a,i,r,o),1===n&&"gauge"===a.type&&(a.extra.gauge.oldAngle=e[0]._proportion_,a.extra.gauge.oldData=e[0].data),{center:o,radius:h,innerRadius:u,categories:t,totalAngle:c}}function Qt(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=l({},{gridColor:"#cccccc",gridType:"radar",opacity:.2,gridCount:3,border:!1,borderWidth:2},e.extra.radar),s=_(e.categories.length),o={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},h=(e.width-e.area[1]-e.area[3])/2,u=(e.height-e.area[0]-e.area[2])/2,c=Math.min(h-(N(e.categories,a.fontSize,i)+a.radarLabelTextMargin),u-a.radarLabelTextMargin);c-=a.radarLabelTextMargin*e.pix,i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(n.gridColor),s.forEach((function(t){var e=v(c*Math.cos(t),c*Math.sin(t),o);i.moveTo(o.x,o.y),i.lineTo(e.x,e.y)})),i.stroke(),i.closePath();for(var m=function(t){var a={};if(i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(n.gridColor),"radar"==n.gridType)s.forEach((function(e,r){var s=v(c/n.gridCount*t*Math.cos(e),c/n.gridCount*t*Math.sin(e),o);0===r?(a=s,i.moveTo(s.x,s.y)):i.lineTo(s.x,s.y)})),i.lineTo(a.x,a.y);else{var r=v(c/n.gridCount*t*Math.cos(1.5),c/n.gridCount*t*Math.sin(1.5),o);i.arc(o.x,o.y,o.y-r.y,0,2*Math.PI,!1)}i.stroke(),i.closePath()},f=1;f<=n.gridCount;f++)m(f);var d=Q(s,o,c,t,e,r);return d.forEach((function(t,a){if(i.beginPath(),i.setLineWidth(n.borderWidth*e.pix),i.setStrokeStyle(t.color),i.setFillStyle(C(t.color,n.opacity)),t.data.forEach((function(t,e){0===e?i.moveTo(t.position.x,t.position.y):i.lineTo(t.position.x,t.position.y)})),i.closePath(),i.fill(),!0===n.border&&i.stroke(),i.closePath(),!1!==e.dataPointShape){var r=t.data.map((function(t){return t.position}));xt(r,t.color,t.pointShape,i,e)}})),Mt(s,c,o,e,a,i),{center:o,radius:c,angleList:s}}function te(t,e,a){a=0==a?1:a;for(var i=[],r=0;r<a;r++)i[r]=Math.random();return Math.floor(i.reduce((function(t,e){return t+e}))/a*(e-t))+t}function ee(t,e,a,i){for(var r=!1,n=0;n<e.length;n++)if(e[n].area){if(!(t[3]<e[n].area[1]||t[0]>e[n].area[2]||t[1]>e[n].area[3]||t[2]<e[n].area[0])){r=!0;break}if(t[0]<0||t[1]<0||t[2]>a||t[3]>i){r=!0;break}r=!1}return r}function ae(t){var e,a={};a.xMin=180,a.xMax=0,a.yMin=90,a.yMax=0;for(var i=0;i<t.length;i++)for(var r=t[i].geometry.coordinates,n=0;n<r.length;n++){e=r[n],1==e.length&&(e=e[0]);for(var s=0;s<e.length;s++){var o=e[s][0],h=e[s][1],l={x:o,y:h};a.xMin=a.xMin<l.x?a.xMin:l.x,a.xMax=a.xMax>l.x?a.xMax:l.x,a.yMin=a.yMin<l.y?a.yMin:l.y,a.yMax=a.yMax>l.y?a.yMax:l.y}}return a}function ie(t,e,a,i,r,n){return{x:(e-a.xMin)*i+r,y:(a.yMax-t)*i+n}}function re(t,e,a,i,r,n){return{x:(e-r)/i+a.xMin,y:a.yMax-(t-n)/i}}function ne(t,e,a){if(e[1]==a[1])return!1;if(e[1]>t[1]&&a[1]>t[1])return!1;if(e[1]<t[1]&&a[1]<t[1])return!1;if(e[1]==t[1]&&a[1]>t[1])return!1;if(a[1]==t[1]&&e[1]>t[1])return!1;if(e[0]<t[0]&&a[1]<t[1])return!1;var i=a[0]-(a[0]-e[0])*(a[1]-t[1])/(a[1]-e[1]);return!(i<t[0])}function se(t,e,a){for(var i=0,r=0;r<e.length;r++){var n=e[r][0];1==e.length&&(n=e[r][0]);for(var s=0;s<n.length-1;s++){var o=n[s],h=n[s+1];a&&(o=c(n[s][0],n[s][1]),h=c(n[s+1][0],n[s+1][1])),ne(t,o,h)&&(i+=1)}}return i%2==1}function oe(t,e,a,i){var r,n,s=l({},{border:!0,mercator:!1,borderWidth:1,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#f04864",activeFillColor:"#facc14",activeFillOpacity:1},e.extra.map),o=t,h=ae(o);if(s.mercator){var u=c(h.xMax,h.yMax),m=c(h.xMin,h.yMin);h.xMax=u[0],h.yMax=u[1],h.xMin=m[0],h.yMin=m[1]}for(var f=e.width/Math.abs(h.xMax-h.xMin),d=e.height/Math.abs(h.yMax-h.yMin),D=f<d?f:d,p=e.width/2-Math.abs(h.xMax-h.xMin)/2*D,S=e.height/2-Math.abs(h.yMax-h.yMin)/2*D,v=0;v<o.length;v++){i.beginPath(),i.setLineWidth(s.borderWidth*e.pix),i.setStrokeStyle(s.borderColor),i.setFillStyle(C(t[v].color,s.fillOpacity)),e.tooltip&&e.tooltip.index==v&&(i.setStrokeStyle(s.activeBorderColor),i.setFillStyle(C(s.activeFillColor,s.activeFillOpacity)));for(var g=o[v].geometry.coordinates,T=0;T<g.length;T++){r=g[T],1==r.length&&(r=r[0]);for(var I=0;I<r.length;I++){var x=Array(2);x=s.mercator?c(r[I][0],r[I][1]):r[I],n=ie(x[1],x[0],h,D,p,S),0===I?(i.beginPath(),i.moveTo(n.x,n.y)):i.lineTo(n.x,n.y)}i.fill(),1==s.border&&i.stroke()}if(1==e.dataLabel){var A=o[v].properties.centroid;if(A){s.mercator&&(A=c(o[v].properties.centroid[0],o[v].properties.centroid[1])),n=ie(A[1],A[0],h,D,p,S);var y=o[v].textSize*e.pix||a.fontSize,L=o[v].properties.name;i.beginPath(),i.setFontSize(y),i.setFillStyle(o[v].textColor||e.fontColor),i.fillText(L,n.x-F(L,y,i)/2,n.y+y/2),i.closePath(),i.stroke()}}}e.chartData.mapData={bounds:h,scale:D,xoffset:p,yoffset:S,mercator:s.mercator},Wt(e,a,i,1),i.draw()}function he(t,e,a){var i=t.series;switch(e){case"normal":for(var r=0;r<i.length;r++){var n=i[r].name,s=i[r].textSize*t.pix,o=F(n,s,a),h=void 0,l=void 0,u=void 0,c=0;while(1){c++,h=te(-t.width/2,t.width/2,5)-o/2,l=te(-t.height/2,t.height/2,5)+s/2,u=[h-5+t.width/2,l-5-s+t.height/2,h+o+5+t.width/2,l+5+t.height/2];var C=ee(u,i,t.width,t.height);if(!C)break;if(1e3==c){u=[-100,-100,-100,-100];break}}i[r].area=u}break;case"vertical":for(var m=function(){return Math.random()>.7},f=0;f<i.length;f++){var d=i[f].name,D=i[f].textSize*t.pix,p=F(d,D,a),S=m(),v=void 0,g=void 0,T=void 0,I=void 0,x=0;while(1){x++;var A=void 0;if(S?(v=te(-t.width/2,t.width/2,5)-p/2,g=te(-t.height/2,t.height/2,5)+D/2,T=[g-5-p+t.width/2,-v-5+t.height/2,g+5+t.width/2,-v+D+5+t.height/2],I=[t.width-(t.width/2-t.height/2)-(-v+D+5+t.height/2)-5,t.height/2-t.width/2+(g-5-p+t.width/2)-5,t.width-(t.width/2-t.height/2)-(-v+D+5+t.height/2)+D,t.height/2-t.width/2+(g-5-p+t.width/2)+p+5],A=ee(I,i,t.height,t.width)):(v=te(-t.width/2,t.width/2,5)-p/2,g=te(-t.height/2,t.height/2,5)+D/2,T=[v-5+t.width/2,g-5-D+t.height/2,v+p+5+t.width/2,g+5+t.height/2],A=ee(T,i,t.width,t.height)),!A)break;if(1e3==x){T=[-1e3,-1e3,-1e3,-1e3];break}}S?(i[f].area=I,i[f].areav=T):i[f].area=T,i[f].rotate=S}break}return i}function le(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=l({},{type:"normal",autoColors:!0},e.extra.word);e.chartData.wordCloudData||(e.chartData.wordCloudData=he(e,n.type,i)),i.beginPath(),i.setFillStyle(e.background),i.rect(0,0,e.width,e.height),i.fill(),i.save();var s=e.chartData.wordCloudData;i.translate(e.width/2,e.height/2);for(var o=0;o<s.length;o++){i.save(),s[o].rotate&&i.rotate(90*Math.PI/180);var h=s[o].name,u=s[o].textSize*e.pix,c=F(h,u,i);i.beginPath(),i.setStrokeStyle(s[o].color),i.setFillStyle(s[o].color),i.setFontSize(u),s[o].rotate?s[o].areav[0]>0&&(e.tooltip&&e.tooltip.index==o?i.strokeText(h,(s[o].areav[0]+5-e.width/2)*r-c*(1-r)/2,(s[o].areav[1]+5+u-e.height/2)*r):i.fillText(h,(s[o].areav[0]+5-e.width/2)*r-c*(1-r)/2,(s[o].areav[1]+5+u-e.height/2)*r)):s[o].area[0]>0&&(e.tooltip&&e.tooltip.index==o?i.strokeText(h,(s[o].area[0]+5-e.width/2)*r-c*(1-r)/2,(s[o].area[1]+5+u-e.height/2)*r):i.fillText(h,(s[o].area[0]+5-e.width/2)*r-c*(1-r)/2,(s[o].area[1]+5+u-e.height/2)*r)),i.stroke(),i.restore()}i.restore()}function ue(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=l({},{type:"funnel",activeWidth:10,activeOpacity:.3,border:!1,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,labelAlign:"right",linearType:"none",customColor:[]},e.extra.funnel),s=(e.height-e.area[0]-e.area[2])/t.length,o={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.height-e.area[2]},h=n.activeWidth*e.pix,u=Math.min((e.width-e.area[1]-e.area[3])/2-h,(e.height-e.area[0]-e.area[2])/2-h);if(t=et(t,u,n.type,s,r),i.save(),i.translate(o.x,o.y),n.customColor=x(n.linearType,n.customColor,t,a),"pyramid"==n.type)for(var c=0;c<t.length;c++){if(c==t.length-1){e.tooltip&&e.tooltip.index==c&&(i.beginPath(),i.setFillStyle(C(t[c].color,n.activeOpacity)),i.moveTo(-h,-s),i.lineTo(-t[c].radius-h,0),i.lineTo(t[c].radius+h,0),i.lineTo(h,-s),i.lineTo(-h,-s),i.closePath(),i.fill()),t[c].funnelArea=[o.x-t[c].radius,o.y-s*(c+1),o.x+t[c].radius,o.y-s*c],i.beginPath(),i.setLineWidth(n.borderWidth*e.pix),i.setStrokeStyle(n.borderColor);var m=C(t[c].color,n.fillOpacity);if("custom"==n.linearType){var f=i.createLinearGradient(t[c].radius,-s,-t[c].radius,-s);f.addColorStop(0,C(t[c].color,n.fillOpacity)),f.addColorStop(.5,C(n.customColor[t[c].linearIndex],n.fillOpacity)),f.addColorStop(1,C(t[c].color,n.fillOpacity)),m=f}i.setFillStyle(m),i.moveTo(0,-s),i.lineTo(-t[c].radius,0),i.lineTo(t[c].radius,0),i.lineTo(0,-s),i.closePath(),i.fill(),1==n.border&&i.stroke()}else{e.tooltip&&e.tooltip.index==c&&(i.beginPath(),i.setFillStyle(C(t[c].color,n.activeOpacity)),i.moveTo(0,0),i.lineTo(-t[c].radius-h,0),i.lineTo(-t[c+1].radius-h,-s),i.lineTo(t[c+1].radius+h,-s),i.lineTo(t[c].radius+h,0),i.lineTo(0,0),i.closePath(),i.fill()),t[c].funnelArea=[o.x-t[c].radius,o.y-s*(c+1),o.x+t[c].radius,o.y-s*c],i.beginPath(),i.setLineWidth(n.borderWidth*e.pix),i.setStrokeStyle(n.borderColor);m=C(t[c].color,n.fillOpacity);if("custom"==n.linearType){f=i.createLinearGradient(t[c].radius,-s,-t[c].radius,-s);f.addColorStop(0,C(t[c].color,n.fillOpacity)),f.addColorStop(.5,C(n.customColor[t[c].linearIndex],n.fillOpacity)),f.addColorStop(1,C(t[c].color,n.fillOpacity)),m=f}i.setFillStyle(m),i.moveTo(0,0),i.lineTo(-t[c].radius,0),i.lineTo(-t[c+1].radius,-s),i.lineTo(t[c+1].radius,-s),i.lineTo(t[c].radius,0),i.lineTo(0,0),i.closePath(),i.fill(),1==n.border&&i.stroke()}i.translate(0,-s)}else for(var d=0;d<t.length;d++){if(0==d){e.tooltip&&e.tooltip.index==d&&(i.beginPath(),i.setFillStyle(C(t[d].color,n.activeOpacity)),i.moveTo(-h,0),i.lineTo(-t[d].radius-h,-s),i.lineTo(t[d].radius+h,-s),i.lineTo(h,0),i.lineTo(-h,0),i.closePath(),i.fill()),t[d].funnelArea=[o.x-t[d].radius,o.y-s,o.x+t[d].radius,o.y],i.beginPath(),i.setLineWidth(n.borderWidth*e.pix),i.setStrokeStyle(n.borderColor);m=C(t[d].color,n.fillOpacity);if("custom"==n.linearType){f=i.createLinearGradient(t[d].radius,-s,-t[d].radius,-s);f.addColorStop(0,C(t[d].color,n.fillOpacity)),f.addColorStop(.5,C(n.customColor[t[d].linearIndex],n.fillOpacity)),f.addColorStop(1,C(t[d].color,n.fillOpacity)),m=f}i.setFillStyle(m),i.moveTo(0,0),i.lineTo(-t[d].radius,-s),i.lineTo(t[d].radius,-s),i.lineTo(0,0),i.closePath(),i.fill(),1==n.border&&i.stroke()}else{e.tooltip&&e.tooltip.index==d&&(i.beginPath(),i.setFillStyle(C(t[d].color,n.activeOpacity)),i.moveTo(0,0),i.lineTo(-t[d-1].radius-h,0),i.lineTo(-t[d].radius-h,-s),i.lineTo(t[d].radius+h,-s),i.lineTo(t[d-1].radius+h,0),i.lineTo(0,0),i.closePath(),i.fill()),t[d].funnelArea=[o.x-t[d].radius,o.y-s*(d+1),o.x+t[d].radius,o.y-s*d],i.beginPath(),i.setLineWidth(n.borderWidth*e.pix),i.setStrokeStyle(n.borderColor);m=C(t[d].color,n.fillOpacity);if("custom"==n.linearType){f=i.createLinearGradient(t[d].radius,-s,-t[d].radius,-s);f.addColorStop(0,C(t[d].color,n.fillOpacity)),f.addColorStop(.5,C(n.customColor[t[d].linearIndex],n.fillOpacity)),f.addColorStop(1,C(t[d].color,n.fillOpacity)),m=f}i.setFillStyle(m),i.moveTo(0,0),i.lineTo(-t[d-1].radius,0),i.lineTo(-t[d].radius,-s),i.lineTo(t[d].radius,-s),i.lineTo(t[d-1].radius,0),i.lineTo(0,0),i.closePath(),i.fill(),1==n.border&&i.stroke()}i.translate(0,-s)}return i.restore(),!1!==e.dataLabel&&1===r&&ce(t,e,i,s,n.labelAlign,h,o),{center:o,radius:u,series:t}}function ce(t,e,a,i,r,n,s){for(var o=0;o<t.length;o++){var h=t[o],l=void 0,c=void 0,C=void 0,m=void 0,f=h.formatter?h.formatter(h,o,t):u.toFixed(100*h._proportion_)+"%";"right"==r?(l="pyramid"===e.extra.funnel.type?o==t.length-1?(h.funnelArea[2]+s.x)/2:(h.funnelArea[2]+t[o+1].funnelArea[2])/2:0==o?(h.funnelArea[2]+s.x)/2:(h.funnelArea[2]+t[o-1].funnelArea[2])/2,c=l+2*n,C=h.funnelArea[1]+i/2,m=h.textSize*e.pix||e.fontSize*e.pix,a.setLineWidth(1*e.pix),a.setStrokeStyle(h.color),a.setFillStyle(h.color),a.beginPath(),a.moveTo(l,C),a.lineTo(c,C),a.stroke(),a.closePath(),a.beginPath(),a.moveTo(c,C),a.arc(c,C,2,0,2*Math.PI),a.closePath(),a.fill(),a.beginPath(),a.setFontSize(m),a.setFillStyle(h.textColor||e.fontColor),a.fillText(f,c+5,C+m/2-2),a.closePath(),a.stroke(),a.closePath()):(l="pyramid"===e.extra.funnel.type?o==t.length-1?(h.funnelArea[0]+s.x)/2:(h.funnelArea[0]+t[o+1].funnelArea[0])/2:0==o?(h.funnelArea[0]+s.x)/2:(h.funnelArea[0]+t[o-1].funnelArea[0])/2,c=l-2*n,C=h.funnelArea[1]+i/2,m=h.textSize*e.pix||e.fontSize*e.pix,a.setLineWidth(1*e.pix),a.setStrokeStyle(h.color),a.setFillStyle(h.color),a.beginPath(),a.moveTo(l,C),a.lineTo(c,C),a.stroke(),a.closePath(),a.beginPath(),a.moveTo(c,C),a.arc(c,C,2,0,2*Math.PI),a.closePath(),a.fill(),a.beginPath(),a.setFontSize(m),a.setFillStyle(h.textColor||e.fontColor),a.fillText(f,c-5-F(f,m,a),C+m/2-2),a.closePath(),a.stroke(),a.closePath())}}function Ce(t,e){e.draw()}var me={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},linear:function(t){return t}};function fe(t){this.isStop=!1,t.duration="undefined"===typeof t.duration?1e3:t.duration,t.timing=t.timing||"easeInOut";var e=17;function a(){return"undefined"!==typeof setTimeout?function(t,e){setTimeout((function(){var e=+new Date;t(e)}),e)}:"undefined"!==typeof requestAnimationFrame?requestAnimationFrame:function(t){t(null)}}var i=a(),r=null,n=function(a){if(null===a||!0===this.isStop)return t.onProcess&&t.onProcess(1),void(t.onAnimationFinish&&t.onAnimationFinish());if(null===r&&(r=a),a-r<t.duration){var s=(a-r)/t.duration,o=me[t.timing];s=o(s),t.onProcess&&t.onProcess(s),i(n,e)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish()};n=n.bind(this),i(n,e)}function de(t,e,a,i){var r=this,n=e.series;"pie"!==t&&"ring"!==t&&"rose"!==t&&"funnel"!==t||(n=T(n,e,a));var s=e.categories;n=I(n,e,a);var o=e.animation?e.duration:0;r.animationInstance&&r.animationInstance.stop();var h=null;if("candle"==t){var u=l({},e.extra.candle.average);u.show?(h=f(u.day,u.name,u.color,n[0].data),h=I(h,e,a),e.seriesMA=h):h=e.seriesMA?e.seriesMA=I(e.seriesMA,e,a):n}else h=n;e._series_=n=R(n),e.area=new Array(4);for(var c=0;c<4;c++)e.area[c]=e.padding[c]*e.pix;var C=$(h,e,a,e.chartData,i),m=C.area.wholeHeight,d=C.area.wholeWidth;switch(e.legend.position){case"top":e.area[0]+=m;break;case"bottom":e.area[2]+=m;break;case"left":e.area[3]+=d;break;case"right":e.area[1]+=d;break}var D={},p=0;if("line"===e.type||"column"===e.type||"area"===e.type||"mix"===e.type||"candle"===e.type||"scatter"===e.type||"bubble"===e.type||"bar"===e.type){if(D=vt(n,e,a,i),p=D.yAxisWidth,e.yAxis.showTitle){for(var S=0,v=0;v<e.yAxis.data.length;v++)S=Math.max(S,e.yAxis.data[v].titleFontSize?e.yAxis.data[v].titleFontSize*e.pix:a.fontSize);e.area[0]+=S}for(var g=0,x=0,A=0;A<p.length;A++)"left"==p[A].position?(e.area[3]+=x>0?p[A].width+e.yAxis.padding*e.pix:p[A].width,x+=1):"right"==p[A].position&&(e.area[1]+=g>0?p[A].width+e.yAxis.padding*e.pix:p[A].width,g+=1)}else a.yAxisWidth=p;if(e.chartData.yAxisData=D,e.categories&&e.categories.length&&"radar"!==e.type&&"gauge"!==e.type&&"bar"!==e.type){e.chartData.xAxisData=Ct(e.categories,e,a);var F=q(e.categories,e,a,e.chartData.xAxisData.eachSpacing,i),y=F.xAxisHeight,L=F.angle;a.xAxisHeight=y,a._xAxisTextAngle_=L,e.area[2]+=y,e.chartData.categoriesData=F}else if("line"===e.type||"area"===e.type||"scatter"===e.type||"bubble"===e.type||"bar"===e.type){e.chartData.xAxisData=Z(n,e,a,i),s=e.chartData.xAxisData.rangesFormat;var M=q(s,e,a,e.chartData.xAxisData.eachSpacing,i),E=M.xAxisHeight,N=M.angle;a.xAxisHeight=E,a._xAxisTextAngle_=N,e.area[2]+=E,e.chartData.categoriesData=M}else e.chartData.xAxisData={xAxisPoints:[]};if(e.enableScroll&&"right"==e.xAxis.scrollAlign&&void 0===e._scrollDistance_){var _=0,w=e.chartData.xAxisData.xAxisPoints,b=e.chartData.xAxisData.startX,O=e.chartData.xAxisData.endX,P=e.chartData.xAxisData.eachSpacing,B=P*(w.length-1),G=O-b;_=G-B,r.scrollOption={currentOffset:_,startTouchX:_,distance:0,lastMoveTime:0},e._scrollDistance_=_}switch("pie"!==t&&"ring"!==t&&"rose"!==t||(a._pieTextMaxLength_=!1===e.dataLabel?0:st(h,a,i,e)),t){case"word":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),le(n,e,a,i,t),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"map":i.clearRect(0,0,e.width,e.height),oe(n,e,a,i);break;case"funnel":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),e.chartData.funnelData=ue(n,e,a,i,t),zt(e.series,e,a,i,e.chartData),Wt(e,a,i,t),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"line":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),Xt(s,e,a,i),Yt(s,e,a,i);var r=Jt(n,e,a,i,t),o=r.xAxisPoints,h=r.calPoints,l=r.eachSpacing;e.chartData.xAxisPoints=o,e.chartData.calPoints=h,e.chartData.eachSpacing=l,Kt(n,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,a,i),zt(e.series,e,a,i,e.chartData),Wt(e,a,i,t,l,o),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"scatter":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),Xt(s,e,a,i),Yt(s,e,a,i);var r=Vt(n,e,a,i,t),o=r.xAxisPoints,h=r.calPoints,l=r.eachSpacing;e.chartData.xAxisPoints=o,e.chartData.calPoints=h,e.chartData.eachSpacing=l,Kt(n,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,a,i),zt(e.series,e,a,i,e.chartData),Wt(e,a,i,t,l,o),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"bubble":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),Xt(s,e,a,i),Yt(s,e,a,i);var r=Ht(n,e,a,i,t),o=r.xAxisPoints,h=r.calPoints,l=r.eachSpacing;e.chartData.xAxisPoints=o,e.chartData.calPoints=h,e.chartData.eachSpacing=l,Kt(n,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,a,i),zt(e.series,e,a,i,e.chartData),Wt(e,a,i,t,l,o),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"mix":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),Xt(s,e,a,i),Yt(s,e,a,i);var r=Ut(n,e,a,i,t),o=r.xAxisPoints,h=r.calPoints,l=r.eachSpacing;e.chartData.xAxisPoints=o,e.chartData.calPoints=h,e.chartData.eachSpacing=l,Kt(n,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,a,i),zt(e.series,e,a,i,e.chartData),Wt(e,a,i,t,l,o),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"column":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),Xt(s,e,a,i),Yt(s,e,a,i);var r=Pt(n,e,a,i,t),o=r.xAxisPoints,h=r.calPoints,l=r.eachSpacing;e.chartData.xAxisPoints=o,e.chartData.calPoints=h,e.chartData.eachSpacing=l,Kt(n,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,a,i),zt(e.series,e,a,i,e.chartData),Wt(e,a,i,t,l,o),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"bar":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),Yt(s,e,a,i);var r=Bt(n,e,a,i,t),o=r.yAxisPoints,h=r.calPoints,l=r.eachSpacing;e.chartData.yAxisPoints=o,e.chartData.xAxisPoints=e.chartData.xAxisData.xAxisPoints,e.chartData.calPoints=h,e.chartData.eachSpacing=l,Kt(n,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,a,i),zt(e.series,e,a,i,e.chartData),Wt(e,a,i,t,l,o),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"area":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),Xt(s,e,a,i),Yt(s,e,a,i);var r=kt(n,e,a,i,t),o=r.xAxisPoints,h=r.calPoints,l=r.eachSpacing;e.chartData.xAxisPoints=o,e.chartData.calPoints=h,e.chartData.eachSpacing=l,Kt(n,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,a,i),zt(e.series,e,a,i,e.chartData),Wt(e,a,i,t,l,o),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"ring":case"pie":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),e.chartData.pieData=$t(n,e,a,i,t),zt(e.series,e,a,i,e.chartData),Wt(e,a,i,t),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"rose":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),e.chartData.pieData=qt(n,e,a,i,t),zt(e.series,e,a,i,e.chartData),Wt(e,a,i,t),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"radar":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),e.chartData.radarData=Qt(n,e,a,i,t),zt(e.series,e,a,i,e.chartData),Wt(e,a,i,t),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"arcbar":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),e.chartData.arcbarData=jt(n,e,a,i,t),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"gauge":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),e.chartData.gaugeData=Zt(s,n,e,a,i,t),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break;case"candle":this.animationInstance=new fe({timing:e.timing,duration:o,onProcess:function(t){i.clearRect(0,0,e.width,e.height),e.rotate&&It(i,e),Xt(s,e,a,i),Yt(s,e,a,i);var r=Gt(n,h,e,a,i,t),o=r.xAxisPoints,l=r.calPoints,u=r.eachSpacing;e.chartData.xAxisPoints=o,e.chartData.calPoints=l,e.chartData.eachSpacing=u,Kt(n,e,a,i),!1!==e.enableMarkLine&&1===t&&_t(e,a,i),zt(h||e.series,e,a,i,e.chartData),Wt(e,a,i,t,u,o),Ce(e,i)},onAnimationFinish:function(){r.uevent.trigger("renderComplete")}});break}}function De(){this.events={}}fe.prototype.stop=function(){this.isStop=!0},De.prototype.addEventListener=function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},De.prototype.delEventListener=function(t){this.events[t]=[]},De.prototype.trigger=function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];var i=e[0],r=e.slice(1);this.events[i]&&this.events[i].forEach((function(t){try{t.apply(null,r)}catch(e){}}))};var pe=function(t){t.pix=t.pixelRatio?t.pixelRatio:1,t.fontSize=t.fontSize?t.fontSize:13,t.fontColor=t.fontColor?t.fontColor:h.fontColor,""!=t.background&&"none"!=t.background||(t.background="#FFFFFF"),t.title=l({},t.title),t.subtitle=l({},t.subtitle),t.duration=t.duration?t.duration:1e3,t.yAxis=l({},{data:[],showTitle:!1,disabled:!1,disableGrid:!1,splitNumber:5,gridType:"solid",dashLength:4*t.pix,gridColor:"#cccccc",padding:10,fontColor:"#666666"},t.yAxis),t.xAxis=l({},{rotateLabel:!1,disabled:!1,disableGrid:!1,splitNumber:5,calibration:!1,gridType:"solid",dashLength:4,scrollAlign:"left",boundaryGap:"center",axisLine:!0,axisLineColor:"#cccccc"},t.xAxis),t.xAxis.scrollPosition=t.xAxis.scrollAlign,t.legend=l({},{show:!0,position:"bottom",float:"center",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,padding:5,margin:5,itemGap:10,fontSize:t.fontSize,lineHeight:t.fontSize,fontColor:t.fontColor,formatter:{},hiddenColor:"#CECECE"},t.legend),t.extra=l({},t.extra),t.rotate=!!t.rotate,t.animation=!!t.animation,t.rotate=!!t.rotate,t.canvas2d=!!t.canvas2d;var e=JSON.parse(JSON.stringify(h));if(e.color=t.color?t.color:e.color,e.yAxisTitleWidth=!0!==t.yAxis.disabled&&t.yAxis.title?e.yAxisTitleWidth:0,"pie"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.pie.labelWidth*t.pix||e.pieChartLinePadding*t.pix),"ring"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.ring.labelWidth*t.pix||e.pieChartLinePadding*t.pix),"rose"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.rose.labelWidth*t.pix||e.pieChartLinePadding*t.pix),e.pieChartTextPadding=!1===t.dataLabel?0:e.pieChartTextPadding*t.pix,e.yAxisSplit=t.yAxis.splitNumber?t.yAxis.splitNumber:h.yAxisSplit,e.rotate=t.rotate,t.rotate){var a=t.width,i=t.height;t.width=i,t.height=a}if(t.padding=t.padding?t.padding:e.padding,e.yAxisWidth=h.yAxisWidth*t.pix,e.xAxisHeight=h.xAxisHeight*t.pix,t.enableScroll&&t.xAxis.scrollShow&&(e.xAxisHeight+=6*t.pix),e.xAxisLineHeight=h.xAxisLineHeight*t.pix,e.fontSize=t.fontSize*t.pix,e.titleFontSize=h.titleFontSize*t.pix,e.subtitleFontSize=h.subtitleFontSize*t.pix,e.toolTipPadding=h.toolTipPadding*t.pix,e.toolTipLineHeight=h.toolTipLineHeight*t.pix,e.columePadding=h.columePadding*t.pix,!t.context)throw new Error("[uCharts] \u672a\u83b7\u53d6\u5230context\uff01\u6ce8\u610f\uff1av2.0\u7248\u672c\u540e\uff0c\u9700\u8981\u81ea\u884c\u83b7\u53d6canvas\u7684\u7ed8\u56fe\u4e0a\u4e0b\u6587\u5e76\u4f20\u5165opts.context\uff01");this.context=t.context,this.context.setTextAlign||(this.context.setStrokeStyle=function(t){return this.strokeStyle=t},this.context.setLineWidth=function(t){return this.lineWidth=t},this.context.setLineCap=function(t){return this.lineCap=t},this.context.setFontSize=function(t){return this.font=t+"px sans-serif"},this.context.setFillStyle=function(t){return this.fillStyle=t},this.context.setTextAlign=function(t){return this.textAlign=t},this.context.draw=function(){}),this.context.setLineDash||(this.context.setLineDash=function(t){}),t.chartData={},this.uevent=new De,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0},this.opts=t,this.config=e,de.call(this,t.type,t,e,this.context)};pe.prototype.updateData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=l({},this.opts,t),this.opts.updateData=!0;var e=t.scrollPosition||"current";switch(e){case"current":break;case"left":this.opts._scrollDistance_=0,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0};break;case"right":var a=vt(this.opts.series,this.opts,this.config,this.context),i=a.yAxisWidth;this.config.yAxisWidth=i;var r=0,n=Ct(this.opts.categories,this.opts,this.config),s=n.xAxisPoints,o=n.startX,h=n.endX,u=n.eachSpacing,c=u*(s.length-1),C=h-o;r=C-c,this.scrollOption={currentOffset:r,startTouchX:r,distance:0,lastMoveTime:0},this.opts._scrollDistance_=r;break}de.call(this,this.opts.type,this.opts,this.config,this.context)},pe.prototype.zoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opts.xAxis.itemCount;if(!0===this.opts.enableScroll){var a=Math.round(Math.abs(this.scrollOption.currentOffset)/this.opts.chartData.eachSpacing)+Math.round(this.opts.xAxis.itemCount/2);this.opts.animation=!1,this.opts.xAxis.itemCount=t.itemCount;var i=vt(this.opts.series,this.opts,this.config,this.context),r=i.yAxisWidth;this.config.yAxisWidth=r;var n=0,s=Ct(this.opts.categories,this.opts,this.config),o=s.xAxisPoints,h=s.startX,l=s.endX,u=s.eachSpacing,c=u*a,C=l-h,m=C-u*(o.length-1);n=C/2-c,n>0&&(n=0),n<m&&(n=m),this.scrollOption={currentOffset:n,startTouchX:n,distance:0,lastMoveTime:0},this.opts._scrollDistance_=n,de.call(this,this.opts.type,this.opts,this.config,this.context)}else e("log","[uCharts] \u8bf7\u542f\u7528\u6eda\u52a8\u6761\u540e\u4f7f\u7528"," at uni_modules/qiun-data-charts/js_sdk/u-charts/u-charts.js:6369")},pe.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()},pe.prototype.addEventListener=function(t,e){this.uevent.addEventListener(t,e)},pe.prototype.delEventListener=function(t){this.uevent.delEventListener(t)},pe.prototype.getCurrentDataIndex=function(t){var e=null;if(e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],e){var a=M(e,this.opts,t);return"pie"===this.opts.type||"ring"===this.opts.type?X({x:a.x,y:a.y},this.opts.chartData.pieData,this.opts):"rose"===this.opts.type?Y({x:a.x,y:a.y},this.opts.chartData.pieData,this.opts):"radar"===this.opts.type?H({x:a.x,y:a.y},this.opts.chartData.radarData,this.opts.categories.length):"funnel"===this.opts.type?J({x:a.x,y:a.y},this.opts.chartData.funnelData):"map"===this.opts.type?W({x:a.x,y:a.y},this.opts):"word"===this.opts.type?U({x:a.x,y:a.y},this.opts.chartData.wordCloudData):"bar"===this.opts.type?B({x:a.x,y:a.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset)):P({x:a.x,y:a.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1},pe.prototype.getLegendDataIndex=function(t){var e=null;if(e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],e){var a=M(e,this.opts,t);return G({x:a.x,y:a.y},this.opts.chartData.legendData)}return-1},pe.prototype.touchLegend=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null;if(a=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],a){M(a,this.opts,t);var i=this.getLegendDataIndex(t);i>=0&&("candle"==this.opts.type?this.opts.seriesMA[i].show=!this.opts.seriesMA[i].show:this.opts.series[i].show=!this.opts.series[i].show,this.opts.animation=!!e.animation,this.opts._scrollDistance_=this.scrollOption.currentOffset,de.call(this,this.opts.type,this.opts,this.config,this.context))}},pe.prototype.showToolTip=function(t){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;r=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],r||e("log","[uCharts] \u672a\u83b7\u53d6\u5230event\u5750\u6807\u4fe1\u606f"," at uni_modules/qiun-data-charts/js_sdk/u-charts/u-charts.js:6523");var n=M(r,this.opts,t),s=this.scrollOption.currentOffset,o=l({},this.opts,{_scrollDistance_:s,animation:!1});if("line"===this.opts.type||"area"===this.opts.type||"column"===this.opts.type||"scatter"===this.opts.type||"bubble"===this.opts.type){var h=this.getCurrentDataIndex(t),u=void 0==i.index?h.index:i.index;if(u>-1||u.length>0){var c=E(this.opts.series,u,h.group);if(0!==c.length){var C=w(c,this.opts,u,h.group,this.opts.categories,i),m=C.textList,f=C.offset;f.y=n.y,o.tooltip={textList:void 0!==i.textList?i.textList:m,offset:void 0!==i.offset?i.offset:f,option:i,index:u}}}de.call(this,o.type,o,this.config,this.context)}if("bar"===this.opts.type){h=this.getCurrentDataIndex(t),u=void 0==i.index?h.index:i.index;if(u>-1||u.length>0){c=E(this.opts.series,u,h.group);if(0!==c.length){C=w(c,this.opts,u,h.group,this.opts.categories,i),m=C.textList,f=C.offset;f.x=n.x,o.tooltip={textList:void 0!==i.textList?i.textList:m,offset:void 0!==i.offset?i.offset:f,option:i,index:u}}}de.call(this,o.type,o,this.config,this.context)}if("mix"===this.opts.type){h=this.getCurrentDataIndex(t),u=void 0==i.index?h.index:i.index;if(u>-1){s=this.scrollOption.currentOffset,o=l({},this.opts,{_scrollDistance_:s,animation:!1}),c=E(this.opts.series,u);if(0!==c.length){var d=b(c,this.opts,u,this.opts.categories,i);m=d.textList,f=d.offset;f.y=n.y,o.tooltip={textList:i.textList?i.textList:m,offset:void 0!==i.offset?i.offset:f,option:i,index:u}}}de.call(this,o.type,o,this.config,this.context)}if("candle"===this.opts.type){h=this.getCurrentDataIndex(t),u=void 0==i.index?h.index:i.index;if(u>-1){s=this.scrollOption.currentOffset,o=l({},this.opts,{_scrollDistance_:s,animation:!1}),c=E(this.opts.series,u);if(0!==c.length){C=O(this.opts.series[0].data,c,this.opts,u,this.opts.categories,this.opts.extra.candle,i),m=C.textList,f=C.offset;f.y=n.y,o.tooltip={textList:i.textList?i.textList:m,offset:void 0!==i.offset?i.offset:f,option:i,index:u}}}de.call(this,o.type,o,this.config,this.context)}if("pie"===this.opts.type||"ring"===this.opts.type||"rose"===this.opts.type||"funnel"===this.opts.type){u=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(u>-1){o=l({},this.opts,{animation:!1}),c=l({},o._series_[u]),m=[{text:i.formatter?i.formatter(c,void 0,u,o):c.name+": "+c.data,color:c.color}],f={x:n.x,y:n.y};o.tooltip={textList:i.textList?i.textList:m,offset:void 0!==i.offset?i.offset:f,option:i,index:u}}de.call(this,o.type,o,this.config,this.context)}if("map"===this.opts.type){u=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(u>-1){o=l({},this.opts,{animation:!1}),c=l({},this.opts.series[u]);c.name=c.properties.name;m=[{text:i.formatter?i.formatter(c,void 0,u,this.opts):c.name,color:c.color}],f={x:n.x,y:n.y};o.tooltip={textList:i.textList?i.textList:m,offset:void 0!==i.offset?i.offset:f,option:i,index:u}}o.updateData=!1,de.call(this,o.type,o,this.config,this.context)}if("word"===this.opts.type){u=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(u>-1){o=l({},this.opts,{animation:!1}),c=l({},this.opts.series[u]),m=[{text:i.formatter?i.formatter(c,void 0,u,this.opts):c.name,color:c.color}],f={x:n.x,y:n.y};o.tooltip={textList:i.textList?i.textList:m,offset:void 0!==i.offset?i.offset:f,option:i,index:u}}o.updateData=!1,de.call(this,o.type,o,this.config,this.context)}if("radar"===this.opts.type){u=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(u>-1){o=l({},this.opts,{animation:!1}),c=E(this.opts.series,u);if(0!==c.length){m=c.map((function(t){return{text:i.formatter?i.formatter(t,a.opts.categories[u],u,a.opts):t.name+": "+t.data,color:t.color}})),f={x:n.x,y:n.y};o.tooltip={textList:i.textList?i.textList:m,offset:void 0!==i.offset?i.offset:f,option:i,index:u}}}de.call(this,o.type,o,this.config,this.context)}},pe.prototype.translate=function(t){this.scrollOption={currentOffset:t,startTouchX:t,distance:0,lastMoveTime:0};var e=l({},this.opts,{_scrollDistance_:t,animation:!1});de.call(this,this.opts.type,e,this.config,this.context)},pe.prototype.scrollStart=function(t){var e=null;e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0];var a=M(e,this.opts,t);e&&!0===this.opts.enableScroll&&(this.scrollOption.startTouchX=a.x)},pe.prototype.scroll=function(t){0===this.scrollOption.lastMoveTime&&(this.scrollOption.lastMoveTime=Date.now());var e=this.opts.touchMoveLimit||60,a=Date.now(),i=a-this.scrollOption.lastMoveTime;if(!(i<Math.floor(1e3/e))){this.scrollOption.lastMoveTime=a;var r=null;if(r=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],r&&!0===this.opts.enableScroll){var n,s=M(r,this.opts,t);n=s.x-this.scrollOption.startTouchX;var o=this.scrollOption.currentOffset,h=d(this,o+n,this.opts.chartData,this.config,this.opts);this.scrollOption.distance=n=h-o;var u=l({},this.opts,{_scrollDistance_:o+n,animation:!1});return this.opts=u,de.call(this,u.type,u,this.config,this.context),o+n}}},pe.prototype.scrollEnd=function(t){if(!0===this.opts.enableScroll){var e=this.scrollOption,a=e.currentOffset,i=e.distance;this.scrollOption.currentOffset=a+i,this.scrollOption.distance=0}},"object"===typeof t.exports&&(t.exports=pe)}).call(this,a("0de9")["default"])},d475:function(t,e,a){"use strict";(function(e){var i=a("2f51"),r=a("e1bb"),n=a("5090"),s=a("bc6b"),o=a("c1db");function h(t,e){this.Name=t,this.Param=e,this.LineColor,this.ReqeustData=null}function l(t){this.Index,this.Name=t,this.UpdateUICallback,this.Create=function(t,e){for(var a in this.Index)if(this.Index[a].Name){var i=new n.JSCommonChartPaint_ChartLine;i.Canvas=t.Canvas,i.Name=this.Name+"-"+a.toString(),i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color=this.Index[a].LineColor,t.ChartPaint.push(i)}},this.NotSupport=function(t,e,a){var i=t.GetChartPaint(e);for(var r in i)i[r].Data.Data=[],0==r&&(i[r].NotSupportMessage=a)},this.FormatIndexTitle=function(){var t=this.Name,e=null;for(var a in this.Index){var i=this.Index[a];null!=i.Param&&(e?e+=","+i.Param.toString():e=i.Param.toString())}return e&&(t+="("+e+")"),t},this.InvokeUpdateUICallback=function(t){if("function"==typeof this.UpdateUICallback){var e=new Array;for(var a in t)e.push({Name:this.Index[a].Name,Data:t[a].Data});this.UpdateUICallback(e)}}}function u(t,e,a,h){this.newMethod=l,this.newMethod(t),delete this.newMethod,this.Script=e,this.Arguments=[],this.OutVar=[],this.ID,this.FloatPrecision=2,this.StringFormat,this.KLineType=null,this.InstructionType,this.YSpecificMaxMin=null,this.YSplitScale=null,this.OutName=null,this.IsLocked=!1,this.LockCallback=null,this.LockID=null,this.LockBG=null,this.LockTextColor=null,this.LockText=null,this.LockFont=null,this.LockCount=10,h&&(h.FloatPrecision>=0&&(this.FloatPrecision=h.FloatPrecision),h.StringFormat>0&&(this.StringFormat=h.StringFormat),h.ID&&(this.ID=h.ID),h.KLineType&&(this.KLineType=h.KLineType),h.InstructionType&&(this.InstructionType=h.InstructionType),h.YSpecificMaxMin&&(this.YSpecificMaxMin=h.YSpecificMaxMin),h.YSplitScale&&(this.YSplitScale=h.YSplitScale),h.OutName&&(this.OutName=h.OutName)),h&&h.Lock&&(1==h.Lock.IsLocked&&(this.IsLocked=!0),h.Lock.Callback&&(this.LockCallback=h.Lock.Callback),h.Lock.ID&&(this.LockID=h.Lock.ID),h.Lock.BG&&(this.LockBG=h.Lock.BG),h.Lock.TextColor&&(this.LockTextColor=h.Lock.TextColor),h.Lock.Text&&(this.LockText=h.Lock.Text),h.Lock.Font&&(this.LockFont=h.Lock.Font),h.Lock.Count&&(this.LockCount=h.Lock.Count)),a&&(this.Arguments=a),this.SetLock=function(t){1==t.IsLocked?(this.IsLocked=!0,t.Callback&&(this.LockCallback=t.Callback),t.ID&&(this.LockID=t.ID),t.BG&&(this.LockBG=t.BG),t.TextColor&&(this.LockTextColor=t.TextColor),t.Text&&(this.LockText=t.Text),t.Font&&(this.LockFont=t.Font),t.Count&&(this.LockCount=t.Count)):(this.IsLocked=!1,this.LockCallback=null,this.LockID=null,this.LockBG=null,this.LockTextColor=null,this.LockText=null,this.LockFont=null,this.LockCount=10)},this.ExecuteScript=function(t,e,a){this.OutVar=[];var i={HQChart:t,WindowIndex:e,HistoryData:a,Self:this},n=0;"MinuteChartContainer"===t.ClassName&&(n=2);var s={HQDataType:n,Symbol:t.Symbol,Data:a,SourceData:t.SourceData,Callback:this.RecvResultData,CallbackParam:i,Async:!0,MaxReqeustDataCount:t.MaxReqeustDataCount,MaxRequestMinuteDayCount:t.MaxRequestMinuteDayCount,Arguments:this.Arguments};t.NetworkFilter&&(s.NetworkFilter=t.NetworkFilter);var o=this.Script;r.JSCommonComplier.JSComplier.Execute(o,s,t.ScriptErrorCallback)},this.RecvResultData=function(t,e){var a=e.HQChart,i=e.WindowIndex,r=e.HistoryData;if(e.Self.OutVar=t,e.Self.BindData(a,i,r),0==e.Self.IsLocked)e.HQChart.Frame.SubFrame[i].Frame.SetLock(null);else{var n={IsLocked:!0,Callback:e.Self.LockCallback,IndexName:e.Self.Name,ID:e.Self.LockID,BG:e.Self.LockBG,Text:e.Self.LockText,TextColor:e.Self.LockTextColor,Font:e.Self.LockFont,Count:e.Self.LockCount};e.HQChart.Frame.SubFrame[i].Frame.SetLock(n)}e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw();var s=a.GetIndexEvent();if(s){var o=e.Self,h={OutVar:o.OutVar,WindowIndex:i,Name:o.Name,Arguments:o.Arguments,HistoryData:r,Stock:{Symbol:a.Symbol,Name:a.Name}};s.Callback(s,h,o)}},this.CreateLine=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartLine;if(r.Canvas=t.Canvas,r.DrawType=1,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),0==a.IsShow&&(r.IsShow=!1),a.LineWidth){var h=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(h)&&h>0&&(r.LineWidth=h)}a.IsDotLine&&(r.IsDotLine=!0),0==a.IsShow&&(r.IsShow=!1);var l=e+1;r.Data.Data=a.Data,!1===a.IsShowTitle||s.JSCommonSplit_IFrameSplitOperator.IsString(a.Name)&&0==a.Name.indexOf("NOTEXT")||(t.TitlePaint[l].Data[i]=new o.JSCommonChartTitle_DynamicTitleData(r.Data,1==a.NoneName?null:a.Name,r.Color)),t.ChartPaint.push(r)},this.CreateOverlayLine=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartSubLine;if(r.Canvas=t.Canvas,r.DrawType=1,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var s=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(r.LineWidth=s)}a.IsDotLine&&(r.IsDotLine=!0),0==a.IsShow&&(r.IsShow=!1);var h=e+1;r.Data.Data=a.Data,t.TitlePaint[h].Data[i]=new o.JSCommonChartTitle_DynamicTitleData(r.Data,a.Name,r.Color),t.ChartPaint.push(r)},this.CreateBar=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartStickLine;r.Canvas=t.Canvas,a.Draw.Width>0?r.LineWidth=a.Draw.Width:r.LineWidth=1,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i);r.Data.Data=a.Draw.DrawData,r.BarType=a.Draw.Type,t.ChartPaint.push(r)},this.CreateText=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartSingleText;r.Canvas=t.Canvas,r.TextAlign="left",r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.ReloadResource(),a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i);a.Draw.Position&&(r.Position=a.Draw.Position),a.Draw.DrawData&&(r.Data.Data=a.Draw.DrawData),r.Text=a.Draw.Text,a.Draw.Direction>0&&(r.Direction=a.Draw.Direction),a.Draw.YOffset>0&&(r.YOffset=a.Draw.YOffset),a.Draw.TextAlign&&(r.TextAlign=a.Draw.TextAlign),t.ChartPaint.push(r)},this.CreateMACD=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartMACD;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.LineWidth){var s=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(r.LineWidth=s)}var h=e+1;r.Data.Data=a.Data;var l=this.GetDefaultColor(i);a.Color&&(l=this.GetColor(a.Color)),t.TitlePaint[h].Data[i]=new o.JSCommonChartTitle_DynamicTitleData(r.Data,a.Name,l),t.ChartPaint.push(r)},this.CreatePointDot=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartPointDot;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.Radius&&(r.Radius=a.Radius),a.LineWidth){var s=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(r.Radius=s)}var h=e+1;r.Data.Data=a.Data,t.TitlePaint[h].Data[i]=new o.JSCommonChartTitle_DynamicTitleData(r.Data,a.Name,r.Color),t.ChartPaint.push(r)},this.CreateStick=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartStick;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var s=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(r.LineWidth=s)}var h=e+1;r.Data.Data=a.Data,t.TitlePaint[h].Data[i]=new o.JSCommonChartTitle_DynamicTitleData(r.Data,a.Name,r.Color),t.ChartPaint.push(r)},this.CreateLineStick=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartLineStick;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var s=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(r.LineWidth=s)}var h=e+1;r.Data.Data=a.Data,t.TitlePaint[h].Data[i]=new o.JSCommonChartTitle_DynamicTitleData(r.Data,a.Name,r.Color),t.ChartPaint.push(r)},this.CreateStraightLine=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartLine;if(r.DrawType=1,r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var s=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(r.LineWidth=s)}r.Data.Data=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateVolStick=function(t,e,a,i,r){var s=new n.JSCommonChartPaint_ChartVolStick;s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,s.ChartFrame=t.Frame.SubFrame[e].Frame,s.KLineDrawType=t.KLineDrawType,a.Color?s.Color=this.GetColor(a.Color):s.Color=this.GetDefaultColor(i);var h=e+1;s.Data.Data=a.Data,s.HistoryData=r,t.TitlePaint[h].Data[i]=new o.JSCommonChartTitle_DynamicTitleData(s.Data,a.Name,s.Color),t.ChartPaint.push(s)},this.CreateBand=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartBand;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.FirstColor=a.Draw.Color[0],r.SecondColor=a.Draw.Color[1],r.Data.Data=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreatePolyLine=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartLine;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var s=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(r.LineWidth=s)}r.Data.Data=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateKLine=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartKLine;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data.Data=a.Draw.DrawData,r.IsShowMaxMinPrice=!1,a.Color&&(r.UnchagneColor=r.DownColor=r.UpColor=this.GetColor(a.Color)),t.ChartPaint.push(r)},this.CreateNumberText=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartSingleText;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.ReloadResource(),r.TextAlign="center",a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.IsDrawAbove?r.Direction=1:r.Direction=2;r.Data.Data=a.Draw.DrawData.Value,r.Text=a.Draw.DrawData.Text,t.ChartPaint.push(r)},this.CreateIcon=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartSingleText;r.Canvas=t.Canvas,r.TextAlign="center",r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame;r.Data.Data=a.Draw.DrawData,r.Text=a.Draw.Icon.Symbol,a.Color?r.Color=this.GetColor(a.Color):a.Draw.Icon.Color?r.Color=a.Draw.Icon.Color:r.Color="rgb(0,0,0)",t.ChartPaint.push(r)},this.CreateRectangle=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartRectangle;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Color=[a.Draw.DrawData.Color],r.Rect=a.Draw.DrawData.Rect,a.Color&&(r.BorderColor=this.GetColor(a.Color)),t.ChartPaint.push(r)},this.CreateBackgroud=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartBackground;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Draw&&a.Draw.DrawData){var s=a.Draw.DrawData;r.Color=s.Color,r.ColorAngle=s.Angle,s.Data&&(r.Data.Data=s.Data)}t.ChartPaint.push(r)},this.CreateMultiText=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartMultiText;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Texts=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateMulitHtmlDom=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartMultiHtmlDom;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Texts=a.Draw.DrawData,r.DrawCallback=a.Draw.Callback,t.ChartPaint.push(r)},this.CreateMultiLine=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartMultiLine;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Lines=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateMultiBar=function(t,e,a,i){var r=new n.JSCommonChartPaint_ChartMultiBar;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Bars=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateSelfKLine=function(t,e,a){var i=new n.JSCommonChartPaint_ChartKLine;i.Canvas=t.Canvas,i.Name="Self Kline",i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,i.Data=a,i.IsShowMaxMinPrice=!1,i.IsShowKTooltip=!1,i.DrawType=this.KLineType,t.ChartPaint.push(i)},this.BindInstructionData=function(t,e,a){if(!(null==this.OutVar||this.OutVar.length<0)){if(2==this.InstructionType){var i=this.OutVar[this.OutVar.length-1];return t.SetInstructionData(this.InstructionType,{Data:i.Data}),!0}if(1==this.InstructionType){var r,n;for(var s in this.OutVar){var o=this.OutVar[s];"ENTERLONG"==o.Name?r=o.Data:"EXITLONG"==o.Name&&(n=o.Data)}return t.SetInstructionData(this.InstructionType,{Buy:r,Sell:n}),!0}}},this.BindData=function(t,e,a){if(0==e&&this.InstructionType)this.BindInstructionData(t,e,a);else if(t.DeleteIndexPaint(e),0==e&&t.ShowKLine(!0),!(null==this.OutVar||this.OutVar.length<0)){for(var i in null!=this.KLineType&&(0===this.KLineType||1===this.KLineType||2===this.KLineType?this.CreateSelfKLine(t,e,a):-1===this.KLineType&&0==e&&t.ShowKLine(!1)),e>=1&&t.Frame&&(t.Frame.SubFrame[e].Frame.YSplitOperator.FloatPrecision=this.FloatPrecision,this.YSpecificMaxMin&&(t.Frame.SubFrame[e].Frame.YSpecificMaxMin=this.YSpecificMaxMin),this.YSplitScale&&(t.Frame.SubFrame[e].Frame.YSplitScale=this.YSplitScale)),this.OutVar){var r=this.OutVar[i];if(!0!==r.IsExData){if(0==r.Type)r.IsOverlayLine?this.CreateOverlayLine(t,e,r,i):this.CreateLine(t,e,r,i);else if(1==r.Type)switch(r.Draw.DrawType){case"STICKLINE":this.CreateBar(t,e,r,i);break;case"DRAWTEXT":case"SUPERDRAWTEXT":case"DRAWTEXT_FIX":this.CreateText(t,e,r,i);break;case"DRAWLINE":this.CreateStraightLine(t,e,r,i);break;case"DRAWBAND":this.CreateBand(t,e,r,i);break;case"DRAWKLINE":this.CreateKLine(t,e,r,i);break;case"DRAWKLINE_IF":this.CreateKLine(t,e,r,i);break;case"POLYLINE":this.CreatePolyLine(t,e,r,i);break;case"DRAWNUMBER":this.CreateNumberText(t,e,r,i);break;case"DRAWICON":this.CreateIcon(t,e,r,i);break;case"DRAWRECTREL":this.CreateRectangle(t,e,r,i);break;case"DRAWGBK":case"DRAWGBK2":this.CreateBackgroud(t,e,r,i);break;case"MULTI_TEXT":this.CreateMultiText(t,e,r,i);break;case"MULTI_HTMLDOM":this.CreateMulitHtmlDom(t,e,r,i);break;case"MULTI_LINE":this.CreateMultiLine(t,e,r,i);break;case"MULTI_BAR":this.CreateMultiBar(t,e,r,i);break;case"KLINE_BG":this.CreateBackgroud(t,e,r,i);break}else 2==r.Type?this.CreateMACD(t,e,r,i):3==r.Type?this.CreatePointDot(t,e,r,i):4==r.Type?this.CreateLineStick(t,e,r,i):5==r.Type?this.CreateStick(t,e,r,i):6==r.Type&&this.CreateVolStick(t,e,r,i,a);var n=t.TitlePaint[e+1];n&&n.Data&&i<n.Data.length&&(this.StringFormat>0&&(n.Data[i].StringFormat=this.StringFormat),this.FloatPrecision>=0&&(n.Data[i].FloatPrecision=this.FloatPrecision),this.OutName&&this.OutName.length>0&&this.Arguments&&this.Arguments.length>0&&n.SetDynamicOutName(this.OutName,this.Arguments))}}var s=e+1;t.TitlePaint[s].Title=this.Name;var o="";for(var h in this.Arguments){var l=this.Arguments[h];o.length>0&&(o+=","),o+=l.Value.toString()}return o.length>0&&(t.TitlePaint[s].Title=this.Name+"("+o+")"),t.UpdateUICallback&&t.UpdateUICallback("ScriptIndex",this.OutVar,{WindowIndex:e,Name:this.Name,Arguments:this.Arguments,HistoryData:a}),!0}},this.GetDefaultColor=function(t){var e=i.JSCommonResource_Global_JSChartResource.ColorArray,a=parseInt(t);return e[a%(e.length-1)]},this.GetColor=function(t){var e=new Map([["COLORBLACK","rgb(0,0,0)"],["COLORBLUE","rgb(18,95,216)"],["COLORGREEN","rgb(25,158,0)"],["COLORCYAN","rgb(0,255,198)"],["COLORRED","rgb(238,21,21)"],["COLORMAGENTA","rgb(255,0,222)"],["COLORBROWN","rgb(149,94,15)"],["COLORLIGRAY","rgb(218,218,218)"],["COLORGRAY","rgb(133,133,133)"],["COLORLIBLUE","rgb(94,204,255)"],["COLORLIGREEN","rgb(183,255,190)"],["COLORLICYAN","rgb(154,255,242)"],["COLORLIRED","rgb(255,172,172)"],["COLORLIMAGENTA","rgb(255,145,241)"],["COLORWHITE","rgb(255,255,255)"],["COLORYELLOW","rgb(255,198,0)"]]);return e.has(t)?e.get(t):0==t.indexOf("COLOR")?"#"+t.substr(5):"rgb(30,144,255)"}}t.exports={JSCommonIndex:{IndexInfo:h,BaseIndex:l,ScriptIndex:u},JSCommonIndex_IndexInfo:h,JSCommonIndex_BaseIndex:l,JSCommonIndex_ScriptIndex:u}}).call(this,a("fe07")["default"])},d5d9:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("8bb2"),r=u(a("9dcf")),n=u(a("4421")),s=u(a("b52b")),o=u(a("df12")),h=u(a("9416")),l=u(a("1a14"));function u(t){return t&&t.__esModule?t:{default:t}}function c(){}c.GetKLineOption=function(){var t={Type:"\u5386\u53f2K\u7ebf\u56fe",Windows:[{Index:"MA",Modify:!1,Change:!1},{Index:"VOL",Modify:!1,Change:!1},{Index:"MACD",Modify:!1,Change:!1}],CorssCursorTouchEnd:!0,IsShowRightMenu:!1,CorssCursorInfo:{Left:2,Right:2},Border:{Left:1,Right:1,Top:1,Bottom:25},KLine:{Right:1,Period:0,PageSize:12,IsShowTooltip:!1},Frame:[{SplitCount:3,Height:3,IsShowLeftText:!0,IsShowRightText:!1},{SplitCount:2,Height:1,IsShowLeftText:!0,IsShowRightText:!1},{SplitCount:2,Height:1,IsShowLeftText:!0,IsShowRightText:!1}],ExtendChart:[{Name:"KLineTooltip"}]};return t};var C={KLINE_DAY_ID:0,KLINE_WEEK_ID:1,KLINE_MONTH_ID:2,KLINE_YEAR_ID:3,KLINE_MINUTE_ID:4,KLINE_5MINUTE_ID:5,KLINE_15MINUTE_ID:6,KLINE_30MINUTE_ID:7,KLINE_60MINUTE_ID:8},m={JSChart:null},f={name:"HQChart",components:{api:r.default,zxapi:n.default,jyapi:s.default,uniPopup:o.default,uniPopupMessage:h.default,uniPopupDialog:l.default},data:function(){var t={Symbol:"600519.sh",Name:"",KLine:{Option:c.GetKLineOption(),IsShow:!1,Display:"none",Width:350,Height:300},PERIOD_ID:C,WindowHeight:0,WindowWidth:0,lastday_data:[],tab_index:0,method1_value:0,method1_range:["MA","BOLL"],method2_value:0,method2_range:["VOL","MACD","RSI"],is_ZX:!1,assert:[],it_position:[],deal_vol:0,BS:"",stock_data:[]};return t},onLoad:function(t){var e=this;uni.getSystemInfo({success:function(t){e.WindowHeight=t.windowHeight,e.WindowWidth=t.windowWidth,e.KLine.Height=parseInt(.8*t.windowHeight),e.KLine.Width=t.windowWidth}}),this.Symbol=t.symbol,this.Name=t.name,this.CreateKLineChart(),uni.setNavigationBarTitle({title:t.name+"("+t.symbol.substr(0,6)+")"}),this.fresh_is_ZX(t.symbol),this.get_Msg()},onReady:function(){this.ChangeKLinePeriod(C.KLINE_DAY_ID)},methods:{CreateKLineChart:function(){if(!this.KLine.JSChart){var t=new i.JSCommon.JSCanvasElement;t.IsUniApp=!0,t.ID="kline",t.Height=this.KLine.Height,t.Width=this.KLine.Width,m.JSChart=i.JSCommon.JSChart.Init(t),this.KLine.Option.NetworkFilter=this.NetworkFilter,this.KLine.Option.Symbol=this.Symbol,this.KLine.Option.IsFullDraw=!0,m.JSChart.SetOption(this.KLine.Option)}},ChangeKLinePeriod:function(t){m.JSChart?m.JSChart.ChangePeriod(t):(this.KLine.Option.Period=t,this.CreateKLineChart())},ChangeKLineIndex:function(t,e){m.JSChart&&m.JSChart.ChangeIndex(t,e)},ChangeSymbol:function(t){m.JSChart&&m.JSChart.ChangeSymbol(t)},NetworkFilter:function(e,a){var i=this;t("log","[NetworkFilter] data",e," at pages/Kline/Kline.vue:359"),e.PreventDefault=!0,r.default.get_Kline_history_data({data:e.Request}).then((function(e){if(t("log","\u83b7\u53d6K\u7ebf\u6570\u636e",e," at pages/Kline/Kline.vue:365"),200==e.statusCode){t("log","\u6210\u529f\u83b7\u53d6K\u7ebf\u6570\u636e"," at pages/Kline/Kline.vue:367");var r={code:0,data:[]};r.symbol=e.data.symbol,r.name=e.data.name,r.data=e.data.data,t("log",e.data.data[e.data.data.length-1]," at pages/Kline/Kline.vue:372"),i.lastday_data=e.data.data[e.data.data.length-1],a({data:r})}else t("log","\u83b7\u53d6K\u7ebf\u6570\u636e\u5931\u8d25"," at pages/Kline/Kline.vue:376")}))},KLineTouchStart:function(t){m.JSChart&&m.JSChart.OnTouchStart(t)},KLineTouchMove:function(t){m.JSChart&&m.JSChart.OnTouchMove(t)},KLineTouchEnd:function(t){m.JSChart&&m.JSChart.OnTouchEnd(t)},changeTab:function(e){t("log","\u5f53\u524d\u9009\u4e2d\u7d22\u5f15\uff1a"+e," at pages/Kline/Kline.vue:397"),this.tab_index=e,0==e?this.ChangeKLinePeriod(C.KLINE_DAY_ID):1==e&&this.ChangeKLinePeriod(C.KLINE_WEEK_ID)},method1_picker:function(e){t("log","picker1\u53d1\u9001\u9009\u62e9\u6539\u53d8\uff0c\u643a\u5e26\u503c\u4e3a",e.target.value," at pages/Kline/Kline.vue:409"),this.method1_value=e.target.value,this.ChangeKLineIndex(0,this.method1_range[e.target.value])},method2_picker:function(e){t("log","picker2\u53d1\u9001\u9009\u62e9\u6539\u53d8\uff0c\u643a\u5e26\u503c\u4e3a",e.target.value," at pages/Kline/Kline.vue:414"),this.method2_value=e.target.value,this.ChangeKLineIndex(0,this.method2_range[e.target.value])},fresh_is_ZX:function(e){var a=this,i={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt};n.default.get_ZX_list({data:i}).then((function(i){if(t("log","\u83b7\u53d6\u81ea\u9009\u5217\u8868",i," at pages/Kline/Kline.vue:424"),200==i.statusCode)if(t("log","\u6210\u529f\u83b7\u53d6\u81ea\u9009\u5217\u8868"," at pages/Kline/Kline.vue:426"),"OK"==i.data.msg){for(var r=!1,n=0;n<i.data.data.length;n++)if(i.data.data[n][0]==e){r=!0;break}a.is_ZX=r,t("log",a.is_ZX," at pages/Kline/Kline.vue:439")}else uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}});else t("log","\u83b7\u53d6\u81ea\u9009\u5217\u8868\u5931\u8d25"," at pages/Kline/Kline.vue:459")}))},select:function(){var e=this;t("log","\u5c06"+this.Symbol+"\u6dfb\u52a0\u81ea\u9009"," at pages/Kline/Kline.vue:466");var a={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt,sid:this.Symbol,date:this.lastday_data[0],price:this.lastday_data[5]};r.default.select_Kline({data:a}).then((function(a){t("log","\u6dfb\u52a0\u81ea\u9009",a," at pages/Kline/Kline.vue:471"),200==a.statusCode&&("OK"==a.data?(uni.showToast({title:"\u52a0\u5165\u81ea\u9009\u6210\u529f\uff01",duration:800,icon:"none",position:"bottom"}),t("log","\u52a0\u5165\u81ea\u9009\u6210\u529f"," at pages/Kline/Kline.vue:480"),e.is_ZX=!e.is_ZX):(uni.showToast({title:a.data+"\uff01",duration:800,icon:"none",position:"bottom"}),t("log","\u52a0\u5165\u81ea\u9009\u5931\u8d25"," at pages/Kline/Kline.vue:490")))}))},remove:function(){var e={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt,sid:this.Symbol},a=this;n.default.ZX_remove({data:e}).then((function(e){t("log","\u83b7\u53d6\u81ea\u9009\u5217\u8868",e," at pages/Kline/Kline.vue:501"),200==e.statusCode?(t("log","\u6210\u529f\u83b7\u53d6\u81ea\u9009\u5217\u8868"," at pages/Kline/Kline.vue:503"),"OK"==e.data?(uni.showToast({title:"\u5220\u9664\u81ea\u9009\u6210\u529f\uff01",duration:800,icon:"none",position:"bottom"}),a.is_ZX=!a.is_ZX):uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}})):t("log","\u83b7\u53d6\u81ea\u9009\u5217\u8868\u5931\u8d25"," at pages/Kline/Kline.vue:532")}))},deal:function(){var e=this;this.$refs.popdeal.open();var a={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt};s.default.get_assert({data:a}).then((function(a){t("log","\u83b7\u53d6\u8d44\u4ea7\u4fe1\u606f",a," at pages/Kline/Kline.vue:542"),200==a.statusCode?(t("log","\u6210\u529f\u83b7\u53d6\u8d44\u4ea7\u4fe1\u606f"," at pages/Kline/Kline.vue:544"),"OK"==a.data.msg?(e.assert=a.data.data,t("log",e.assert[0],e.assert[1]," at pages/Kline/Kline.vue:548")):uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}})):t("log","\u83b7\u53d6\u8d44\u4ea7\u4fe1\u606f\u5931\u8d25"," at pages/Kline/Kline.vue:568")})),s.default.get_position({data:a}).then((function(a){if(t("log","\u83b7\u53d6\u6301\u4ed3\u4fe1\u606f",a," at pages/Kline/Kline.vue:574"),200==a.statusCode)if(t("log","\u6210\u529f\u83b7\u53d6\u6301\u4ed3\u4fe1\u606f"," at pages/Kline/Kline.vue:576"),"OK"==a.data.msg){e.it_position=[0,0];for(var i=0;i<a.data.data.length;i++)if(a.data.data[i][0]==e.Symbol){e.it_position=[a.data.data[i][1],a.data.data[i][2]];break}t("log",e.it_position[0],e.it_position[1]," at pages/Kline/Kline.vue:588")}else uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}});else t("log","\u83b7\u53d6\u6301\u4ed3\u4fe1\u606f\u5931\u8d25"," at pages/Kline/Kline.vue:608")}))},chooseBS:function(e){this.BS=e.detail.value,t("log",e.detail.value," at pages/Kline/Kline.vue:614")},check_deal:function(){var t=this.BS,e=this.it_position[0],a=(this.it_position[1],this.assert[0]),i=this.lastday_data[5],r=this.deal_vol;return 0==r?(uni.showToast({title:"\u4ea4\u6613\u91cf\u4e0d\u80fd\u4e3a0\uff01",icon:"none",duration:2e3}),!1):"B"==t?!(r*i>a)||(uni.showToast({title:"\u8d26\u6237\u53ef\u7528\u8d44\u4ea7\u4e0d\u8db3\uff01",icon:"none",duration:2e3}),!1):"S"==t?!(r>e)||(uni.showToast({title:"\u80a1\u7968\u6301\u4ed3\u4e0d\u8db3\uff01",icon:"none",duration:2e3}),!1):(uni.showToast({title:"\u8bf7\u9009\u4e2d\u4ea4\u6613\u7c7b\u578b\uff01",icon:"none",duration:2e3}),!1)},submit_deal:function(){if(this.check_deal()){t("log","\u6210\u529f\u53d1\u8d77\u4ea4\u6613"," at pages/Kline/Kline.vue:677");var e={uid:getApp().globalData.uid,jwt:getApp().globalData.jwt,sid:this.Symbol,vol:this.deal_vol};"B"==this.BS?s.default.buy({data:e}).then((function(e){t("log","\u8d2d\u4e70\u80a1\u7968",e," at pages/Kline/Kline.vue:683"),200==e.statusCode?"OK"==e.data?(t("log","\u6210\u529f\u4e70\u5165\u80a1\u7968"," at pages/Kline/Kline.vue:687"),uni.showToast({title:"\u6210\u529f\u8d2d\u4e70\u80a1\u7968",icon:"none",duration:2e3})):"\u767b\u5f55\u5df2\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"==e.data?uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}}):uni.showToast({title:e.data,icon:"none",duration:2e3}):t("log","\u8d2d\u4e70\u80a1\u7968\u5931\u8d25"," at pages/Kline/Kline.vue:720")})):s.default.sale({data:e}).then((function(e){t("log","\u5356\u51fa\u80a1\u7968",e," at pages/Kline/Kline.vue:729"),200==e.statusCode?"OK"==e.data?(t("log","\u6210\u529f\u5356\u51fa\u80a1\u7968"," at pages/Kline/Kline.vue:733"),uni.showToast({title:"\u6210\u529f\u5356\u51fa\u80a1\u7968",icon:"none",duration:2e3})):"\u767b\u5f55\u5df2\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"==e.data?uni.showToast({title:"\u767b\u5f55\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55",icon:"none",duration:2e3,complete:function(t){setTimeout((function(){uni.navigateTo({url:"../login/login"})}),2500)}}):uni.showToast({title:e.data,icon:"none",duration:2e3}):t("log","\u5356\u51fa\u80a1\u7968\u5931\u8d25"," at pages/Kline/Kline.vue:766")})),this.$refs.popdeal.close(),this.deal_vol=0}},get_Msg:function(){var e=this;r.default.get_message({data:{sid:this.Symbol}}).then((function(a){t("log","\u83b7\u53d6\u80a1\u7968\u4fe1\u606f",a," at pages/Kline/Kline.vue:778"),200==a.statusCode?(e.stock_data=a.data.data,t("log","\u6210\u529f\u83b7\u53d6\u80a1\u7968\u4fe1\u606f"," at pages/Kline/Kline.vue:781")):t("log","\u83b7\u53d6\u80a1\u7968\u4fe1\u606f\u5931\u8d25"," at pages/Kline/Kline.vue:783")}))}}};e.default=f}).call(this,a("0de9")["default"])},d6a8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"qiun-error",props:{errorMessage:{type:String,default:null}},data:function(){return{}}};e.default=i},d7db:function(t,e,a){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;s(a("d418"));var r=s(a("e822")),n=s(a("dcb1"));function s(t){return t&&t.__esModule?t:{default:t}}function o(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];for(var r in a)for(var n in a[r])a[r].hasOwnProperty(n)&&(t[n]=a[r][n]&&"object"===typeof a[r][n]?o(Array.isArray(a[r][n])?[]:{},t[n],a[r][n]):a[r][n]);return t}function h(t,e){for(var a in t)null!==t[a]&&"object"===typeof t[a]?h(t[a],e):"format"===a&&"string"===typeof t[a]&&(t["formatter"]=e[t[a]]?e[t[a]]:void 0);return t}function l(t){var e="-",a=t.getFullYear(),i=t.getMonth()+1,r=t.getDate();i>=1&&i<=9&&(i="0"+i),r>=0&&r<=9&&(r="0"+r);var n=a+e+i+e+r;return n}var u={name:"qiun-data-charts",mixins:[t.mixinDatacom],props:{type:{type:String,default:null},canvasId:{type:String,default:"uchartsid"},canvas2d:{type:Boolean,default:!1},background:{type:String,default:"none"},animation:{type:Boolean,default:!0},chartData:{type:Object,default:function(){return{categories:[],series:[]}}},opts:{type:Object,default:function(){return{}}},eopts:{type:Object,default:function(){return{}}},loadingType:{type:Number,default:2},errorShow:{type:Boolean,default:!0},errorReload:{type:Boolean,default:!0},errorMessage:{type:String,default:null},inScrollView:{type:Boolean,default:!1},reshow:{type:Boolean,default:!1},reload:{type:Boolean,default:!1},disableScroll:{type:Boolean,default:!1},ontap:{type:Boolean,default:!0},ontouch:{type:Boolean,default:!1},onmouse:{type:Boolean,default:!0},onmovetip:{type:Boolean,default:!1},echartsH5:{type:Boolean,default:!1},echartsApp:{type:Boolean,default:!1},tooltipShow:{type:Boolean,default:!0},tooltipFormat:{type:String,default:void 0},tooltipCustom:{default:void 0},startDate:{type:String,default:void 0},endDate:{type:String,default:void 0},textEnum:{type:Array,default:function(){return[]}},groupEnum:{type:Array,default:function(){return[]}},pageScrollTop:{type:Number,default:0},directory:{type:String,default:"/"},tapLegend:{type:Boolean,default:!0}},data:function(){return{cid:"uchartsid",inWx:!1,inAli:!1,inTt:!1,inBd:!1,inH5:!1,inApp:!1,inWin:!1,type2d:!0,disScroll:!1,openmouse:!1,pixel:1,cWidth:375,cHeight:250,showchart:!1,echarts:!1,echartsResize:!1,uchartsOpts:{},echartsOpts:{},drawData:{},lastDrawTime:null}},created:function(){if(this.cid=this.canvasId,"uchartsid"==this.canvasId||""==this.canvasId){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=t.length,a="",i=0;i<32;i++)a+=t.charAt(Math.floor(Math.random()*e));this.cid=a}var r=uni.getSystemInfoSync();"windows"===r.platform&&(this.inWin=!0),this.type2d=!1,this.disScroll=this.disableScroll},mounted:function(){var t=this;this.inApp=!0,!0===this.echartsApp&&(this.echarts=!0,this.openmouse=!1),this.$nextTick((function(){t.beforeInit()}))},destroyed:function(){!0===this.echarts?(delete n.default.option[this.cid],delete n.default.instance[this.cid]):(delete r.default.option[this.cid],delete r.default.instance[this.cid]),uni.offWindowResize((function(){}))},watch:{chartDataProps:{handler:function(t,e){"object"===typeof t?JSON.stringify(t)!==JSON.stringify(e)&&(t.series&&t.series.length>0?this.beforeInit():(this.mixinDatacomLoading=!0,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage=null)):(this.mixinDatacomLoading=!1,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1achartData\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},localdata:{handler:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(t.length>0?this.beforeInit():(this.mixinDatacomLoading=!0,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage=null))},immediate:!1,deep:!0},optsProps:{handler:function(t,e){"object"===typeof t?JSON.stringify(t)!==JSON.stringify(e)&&!1===this.echarts&&this.checkData(this.drawData):(this.mixinDatacomLoading=!1,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aopts\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},eoptsProps:{handler:function(t,e){"object"===typeof t?JSON.stringify(t)!==JSON.stringify(e)&&!0===this.echarts&&this.checkData(this.drawData):(this.mixinDatacomLoading=!1,this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aeopts\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},reshow:function(t,e){var a=this;!0===t&&!1===this.mixinDatacomLoading&&setTimeout((function(){a.mixinDatacomErrorMessage=null,a.echartsResize=!a.echartsResize,a.checkData(a.drawData)}),200)},reload:function(t,e){!0===t&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,this.reloading())},mixinDatacomErrorMessage:function(t,e){t&&(this.emitMsg({name:"error",params:{type:"error",errorShow:this.errorShow,msg:t,id:this.cid}}),this.errorShow&&i("log","[\u79cb\u4e91\u56fe\u8868\u7ec4\u4ef6]"+t," at uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts.vue:593"))},errorMessage:function(t,e){t&&this.errorShow&&null!==t&&"null"!==t&&""!==t?(this.showchart=!1,this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=t):(this.showchart=!1,this.mixinDatacomErrorMessage=null,this.reloading())}},computed:{optsProps:function(){return JSON.parse(JSON.stringify(this.opts))},eoptsProps:function(){return JSON.parse(JSON.stringify(this.eopts))},chartDataProps:function(){return JSON.parse(JSON.stringify(this.chartData))}},methods:{beforeInit:function(){this.mixinDatacomErrorMessage=null,"object"===typeof this.chartData&&null!=this.chartData&&void 0!==this.chartData.series&&this.chartData.series.length>0?(this.drawData=o({},this.chartData),this.mixinDatacomLoading=!1,this.showchart=!0,this.checkData(this.chartData)):this.localdata.length>0?(this.mixinDatacomLoading=!1,this.showchart=!0,this.localdataInit(this.localdata)):""!==this.collection?(this.mixinDatacomLoading=!1,this.getCloudData()):this.mixinDatacomLoading=!0},localdataInit:function(t){if(this.groupEnum.length>0)for(var e=0;e<t.length;e++)for(var a=0;a<this.groupEnum.length;a++)t[e].group===this.groupEnum[a].value&&(t[e].group=this.groupEnum[a].text);if(this.textEnum.length>0)for(var i=0;i<t.length;i++)for(var s=0;s<this.textEnum.length;s++)t[i].text===this.textEnum[s].value&&(t[i].text=this.textEnum[s].text);var h=!1,u={categories:[],series:[]},c=[],C=[];if(h=!0===this.echarts?n.default.categories.includes(this.type):r.default.categories.includes(this.type),!0===h){if(this.chartData&&this.chartData.categories&&this.chartData.categories.length>0)c=this.chartData.categories;else if(this.startDate&&this.endDate){var m=new Date(this.startDate),f=new Date(this.endDate);while(m<=f)c.push(l(m)),m=m.setDate(m.getDate()+1),m=new Date(m)}else{var d={};t.map((function(t,e){void 0==t.text||d[t.text]||(c.push(t.text),d[t.text]=!0)}))}u.categories=c}var D={};if(t.map((function(t,e){void 0==t.group||D[t.group]||(C.push({name:t.group,data:[]}),D[t.group]=!0)})),0==C.length)if(C=[{name:"\u9ed8\u8ba4\u5206\u7ec4",data:[]}],!0===h)for(var p=0;p<c.length;p++){for(var S=0,v=0;v<t.length;v++)t[v].text==c[p]&&(S=t[v].value);C[0].data.push(S)}else for(var g=0;g<t.length;g++)C[0].data.push({name:t[g].text,value:t[g].value});else for(var T=0;T<C.length;T++)if(c.length>0)for(var I=0;I<c.length;I++){for(var x=0,A=0;A<t.length;A++)C[T].name==t[A].group&&t[A].text==c[I]&&(x=t[A].value);C[T].data.push(x)}else for(var F=0;F<t.length;F++)C[T].name==t[F].group&&C[T].data.push(t[F].value);u.series=C,this.drawData=o({},u),this.checkData(u)},reloading:function(){!1!==this.errorReload&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,""!==this.collection?(this.mixinDatacomLoading=!1,this.onMixinDatacomPropsChange(!0)):this.beforeInit())},checkData:function(t){var e=this,a=this.cid;!0===this.echarts?(n.default.option[a]=o({},this.eopts),n.default.option[a].id=a,n.default.option[a].type=this.type):this.type&&r.default.type.includes(this.type)?(r.default.option[a]=o({},r.default[this.type],this.opts),r.default.option[a].canvasId=a):(this.mixinDatacomLoading=!1,this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aprops\u53c2\u6570\u4e2dtype\u7c7b\u578b\u4e0d\u6b63\u786e");var i=o({},t);void 0!==i.series&&i.series.length>0&&(this.mixinDatacomErrorMessage=null,!0===this.echarts?(n.default.option[a].chartData=i,this.$nextTick((function(){e.init()}))):(r.default.option[a].categories=i.categories,r.default.option[a].series=i.series,this.$nextTick((function(){e.init()}))))},resizeHandler:function(){var t=this,e=Date.now(),a=this.lastDrawTime?this.lastDrawTime:e-3e3,i=e-a;if(!(i<1e3))uni.createSelectorQuery().in(this).select("#ChartBoxId"+this.cid).boundingClientRect((function(e){t.showchart=!0,e.width>0&&e.height>0&&(e.width===t.cWidth&&e.height===t.cHeight||t.checkData(t.drawData))})).exec()},getCloudData:function(){var t=this;1!=this.mixinDatacomLoading&&(this.mixinDatacomLoading=!0,this.mixinDatacomGet().then((function(e){t.mixinDatacomResData=e.result.data,t.localdataInit(t.mixinDatacomResData)})).catch((function(e){t.mixinDatacomLoading=!1,t.showchart=!1,t.mixinDatacomErrorMessage="\u8bf7\u6c42\u9519\u8bef\uff1a"+e})))},onMixinDatacomPropsChange:function(t,e){1==t&&""!==this.collection&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,this._clearChart(),this.getCloudData())},_clearChart:function(){var t=this.cid;if(!0!==this.echrts){var e=uni.createCanvasContext(t,this);e.clearRect(0,0,this.cWidth,this.cHeight),e.draw()}},init:function(){var t=this,e=this.cid;uni.createSelectorQuery().in(this).select("#ChartBoxId"+e).boundingClientRect((function(a){a.width>0&&a.height>0?(t.mixinDatacomLoading=!1,t.showchart=!0,t.lastDrawTime=Date.now(),t.cWidth=a.width,t.cHeight=a.height,!0!==t.echarts&&(r.default.option[e].background="none"==t.background?"#FFFFFF":t.background,r.default.option[e].canvas2d=t.type2d,r.default.option[e].pixelRatio=t.pixel,r.default.option[e].animation=t.animation,r.default.option[e].width=a.width*t.pixel,r.default.option[e].height=a.height*t.pixel,r.default.option[e].ontap=t.ontap,r.default.option[e].ontouch=t.ontouch,r.default.option[e].onmouse=t.openmouse,r.default.option[e].onmovetip=t.onmovetip,r.default.option[e].tooltipShow=t.tooltipShow,r.default.option[e].tooltipFormat=t.tooltipFormat,r.default.option[e].tooltipCustom=t.tooltipCustom,r.default.option[e].inScrollView=t.inScrollView,r.default.option[e].lastDrawTime=t.lastDrawTime,r.default.option[e].tapLegend=t.tapLegend),t.inH5||t.inApp?1==t.echarts?(n.default.option[e].ontap=t.ontap,n.default.option[e].onmouse=t.openmouse,n.default.option[e].tooltipShow=t.tooltipShow,n.default.option[e].tooltipFormat=t.tooltipFormat,n.default.option[e].tooltipCustom=t.tooltipCustom,n.default.option[e].lastDrawTime=t.lastDrawTime,t.echartsOpts=o({},n.default.option[e])):(r.default.option[e].rotateLock=r.default.option[e].rotate,t.uchartsOpts=o({},r.default.option[e])):(r.default.option[e]=h(r.default.option[e],r.default.formatter),t.mixinDatacomErrorMessage=null,t.mixinDatacomLoading=!1,t.showchart=!0,t.$nextTick((function(){if(!0===t.type2d){var i=uni.createSelectorQuery().in(t);i.select("#"+e).fields({node:!0,size:!0}).exec((function(i){if(i[0]){var n=i[0].node,s=n.getContext("2d");r.default.option[e].context=s,n.width=a.width*t.pixel,n.height=a.height*t.pixel,n._width=a.width*t.pixel,n._height=a.height*t.pixel,r.default.option[e].rotateLock=r.default.option[e].rotate,r.default.instance[e]&&r.default.option[e]&&!0===r.default.option[e].update?t._updataUChart(e):setTimeout((function(){r.default.option[e].context.restore(),r.default.option[e].context.save(),t._newChart(e)}),100)}else t.showchart=!1,t.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1a\u5f00\u542f2d\u6a21\u5f0f\u540e\uff0c\u672a\u83b7\u53d6\u5230dom\u8282\u70b9\uff0ccanvas-id:"+e}))}else t.inAli&&(r.default.option[e].rotateLock=r.default.option[e].rotate),r.default.option[e].context=uni.createCanvasContext(e,t),r.default.instance[e]&&r.default.option[e]&&!0===r.default.option[e].update?t._updataUChart(e):setTimeout((function(){r.default.option[e].context.restore(),r.default.option[e].context.save(),t._newChart(e)}),100)})))):(t.mixinDatacomLoading=!1,t.showchart=!1,1==t.reshow&&(t.mixinDatacomErrorMessage="\u5e03\u5c40\u9519\u8bef\uff1a\u672a\u83b7\u53d6\u5230\u7236\u5143\u7d20\u5bbd\u9ad8\u5c3a\u5bf8\uff01canvas-id:"+e))})).exec()},saveImage:function(){uni.canvasToTempFilePath({canvasId:this.cid,success:function(t){uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){uni.showToast({title:"\u4fdd\u5b58\u6210\u529f",duration:2e3})}})}},this)},_error:function(t){this.mixinDatacomErrorMessage=t.detail.errMsg},emitMsg:function(t){this.$emit(t.name,t.params)},getRenderType:function(){!0===this.echarts&&!1===this.mixinDatacomLoading&&this.beforeInit()},toJSON:function(){return this}}};e.default=u}).call(this,a("a9ff")["default"],a("0de9")["default"])},da66:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={appid:"__UNI__6F20CD1"};e.default=i},dcb1:function(t,e){var a=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"];t.exports={type:["pie","ring","rose","funnel","line","column","area","radar","gauge","candle","demotype"],categories:["line","column","area","radar","gauge","candle","demotype"],instance:{},option:{},formatter:{tooltipDemo1:function(t){var e="";for(var a in t){0==a&&(e+=t[a].axisValueLabel+"\u5e74\u9500\u552e\u989d");var i="--";null!==t[a].data&&(i=t[a].data),e+="<br/>"+t[a].marker+t[a].seriesName+"\uff1a"+i+" \u4e07\u5143"}return e},legendFormat:function(t){return"\u81ea\u5b9a\u4e49\u56fe\u4f8b+"+t},yAxisFormatDemo:function(t,e){return t+"\u5143"},seriesFormatDemo:function(t){return t.name+"\u5e74"+t.value+"\u5143"}},demotype:{color:a},column:{color:a,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"bar",data:[],barwidth:20,label:{show:!0,color:"#666666",position:"top"}}},line:{color:a,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"line",data:[],barwidth:20,label:{show:!0,color:"#666666",position:"top"}}},area:{color:a,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"line",data:[],areaStyle:{},label:{show:!0,color:"#666666",position:"top"}}},pie:{color:a,title:{text:""},tooltip:{trigger:"item"},grid:{top:40,bottom:30,right:15,left:15},legend:{bottom:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:"50%",label:{show:!0,color:"#666666",position:"top"}}},ring:{color:a,title:{text:""},tooltip:{trigger:"item"},grid:{top:40,bottom:30,right:15,left:15},legend:{bottom:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,color:"#666666",position:"top"},labelLine:{show:!0}}},rose:{color:a,title:{text:""},tooltip:{trigger:"item"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"pie",data:[],radius:"55%",center:["50%","50%"],rosetype:"area"}},funnel:{color:a,title:{text:""},tooltip:{trigger:"item",formatter:"{b} : {c}%"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{bordercolor:"#fff",borderwidth:1},emphasis:{label:{fontSize:20}},data:[]}},gauge:{color:a,tooltip:{formatter:"{a} <br/>{b} : {c}%"},seriesTemplate:{name:"\u4e1a\u52a1\u6307\u6807",type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"\u5b8c\u6210\u7387"}]}},candle:{xAxis:{data:[]},yAxis:{},color:a,title:{text:""},dataZoom:[{type:"inside",xAxisIndex:[0,1],start:10,end:100},{show:!0,xAxisIndex:[0,1],type:"slider",bottom:10,start:10,end:100}],seriesTemplate:{name:"",type:"k",data:[]}}}},df12:function(t,e,a){"use strict";a.r(e);var i=a("9303"),r=a("10c7");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"21dec862",null,!1,i["a"],s);e["default"]=h.exports},df7c:function(t,e,a){(function(t){function a(t,e){for(var a=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),a++):a&&(t.splice(i,1),a--)}if(e)for(;a--;a)t.unshift("..");return t}function i(t){"string"!==typeof t&&(t+="");var e,a=0,i=-1,r=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!r){a=e+1;break}}else-1===i&&(r=!1,i=e+1);return-1===i?"":t.slice(a,i)}function r(t,e){if(t.filter)return t.filter(e);for(var a=[],i=0;i<t.length;i++)e(t[i],i,t)&&a.push(t[i]);return a}e.resolve=function(){for(var e="",i=!1,n=arguments.length-1;n>=-1&&!i;n--){var s=n>=0?arguments[n]:t.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return e=a(r(e.split("/"),(function(t){return!!t})),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),s="/"===n(t,-1);return t=a(r(t.split("/"),(function(t){return!!t})),!i).join("/"),t||i||(t="."),t&&s&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,a){function i(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var a=t.length-1;a>=0;a--)if(""!==t[a])break;return e>a?[]:t.slice(e,a-e+1)}t=e.resolve(t).substr(1),a=e.resolve(a).substr(1);for(var r=i(t.split("/")),n=i(a.split("/")),s=Math.min(r.length,n.length),o=s,h=0;h<s;h++)if(r[h]!==n[h]){o=h;break}var l=[];for(h=o;h<r.length;h++)l.push("..");return l=l.concat(n.slice(o)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),a=47===e,i=-1,r=!0,n=t.length-1;n>=1;--n)if(e=t.charCodeAt(n),47===e){if(!r){i=n;break}}else r=!1;return-1===i?a?"/":".":a&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var a=i(t);return e&&a.substr(-1*e.length)===e&&(a=a.substr(0,a.length-e.length)),a},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,a=0,i=-1,r=!0,n=0,s=t.length-1;s>=0;--s){var o=t.charCodeAt(s);if(47!==o)-1===i&&(r=!1,i=s+1),46===o?-1===e?e=s:1!==n&&(n=1):-1!==e&&(n=-1);else if(!r){a=s+1;break}}return-1===e||-1===i||0===n||1===n&&e===i-1&&e===a+1?"":t.slice(e,i)};var n="b"==="ab".substr(-1)?function(t,e,a){return t.substr(e,a)}:function(t,e,a){return e<0&&(e=t.length+e),t.substr(e,a)}}).call(this,a("4362"))},e00d:function(t,e,a){"use strict";a.r(e);var i=a("7304"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},e1bb:function(t,e,a){"use strict";(function(e){var i,r=a("8961"),n=a("c638"),s=a("2f51");function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function h(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=l(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){o=!0,n=t},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw n}}}}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var c={Domain:"https://opensource.zealink.com",CacheDomain:"https://opensourcecache.zealink.com",CustomFunction:{Data:new Map},CustomVariant:{Data:new Map},IsCustomFunction:function(t){return!!c.CustomFunction.Data.has(t)},IsCustomVariant:function(t){return!!c.CustomVariant.Data.has(t)}},C={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"},m={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},f={FromCodePoint:function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10))+String.fromCharCode(56320+(t-65536&1023))},IsWhiteSpace:function(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0},IsLineTerminator:function(t){return 10===t||13===t||8232===t||8233===t},IsIdentifierStart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||12304===t||12305===t||t>=128&&m.NonAsciiIdentifierStart.test(f.FromCodePoint(t))},IsIdentifierPart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||12304===t||12305===t||t>=128&&m.NonAsciiIdentifierPart.test(f.FromCodePoint(t))},IsDecimalDigit:function(t){return t>=48&&t<=57},IsHexDigit:function(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102},isOctalDigit:function(t){return t>=48&&t<=55}},d={};function D(){this.Error=[],this.RecordError=function(t){this.Error.push(t)},this.ConstructError=function(t,e){var a=new Error(t);try{throw a}catch(i){Object.create&&Object.defineProperties&&(a=Object.create(i),a.Column=e)}return a},this.CreateError=function(t,e,a,i){var r="Line "+e+": "+i,n=this.ConstructError(r,a);return n.Index=t,n.LineNumber=e,n.Description=i,n},this.ThrowError=function(t,e,a,i){var r=this.CreateError(t,e,a,i);throw r}}function p(t,e){this.Source=t,this.ErrorHandler=e,this.Length=t.length,this.Index=0,this.LineNumber=t.length>0?1:0,this.LineStart=0,this.CurlyStack=[],this.SaveState=function(){return{Index:this.Index,LineNumber:this.LineNumber,LineStart:this.LineStart}},this.RestoreState=function(t){this.Index=t.Index,this.LineNumber=t.LineNumber,this.LineStart=t.LineStart},this.IsEOF=function(){return this.Index>=this.Length},this.IsKeyword=function(t){return!1},this.CodePointAt=function(t){var e=this.Source.charCodeAt(t);if(e>=55296&&e<=56319){var a=this.Source.charCodeAt(t+1);if(a>=56320&&a<=57343){var i=e;e=1024*(i-55296)+a-56320+65536}}return e},this.Lex=function(){if(this.IsEOF())return{Type:2,Value:"",LineNumber:this.LineNumber,LineStart:this.LineStart,Start:this.Index,End:this.Index};var t=this.Source.charCodeAt(this.Index);return f.IsIdentifierStart(t)?this.ScanIdentifier():40===t||41===t||59===t?this.ScanPunctuator():39===t||34===t?this.ScanStringLiteral():46==t?f.IsDecimalDigit(this.Source.charCodeAt(this.Index+1))?this.ScanNumericLiteral():this.ScanPunctuator():f.IsDecimalDigit(t)?this.ScanNumericLiteral():t>=55296&&t<57343&&f.IsIdentifierStart(this.CodePointAt(this.Index))?this.ScanIdentifier():this.ScanPunctuator()},this.ScanIdentifier=function(){var t,e=this.Index,a=92===this.Source.charCodeAt(e)?this.GetComplexIdentifier():this.GetIdentifier();if(t=a.length?3:this.IsKeyword(a)?4:null==a?5:"true"==a||"false"==a?1:3,3!=t&&e+a.length!=this.Index){this.Index;throw this.Index=e,C.InvalidEscapedReservedWord}return"AND"!=a&&"OR"!=a||(t=7),{Type:t,Value:a,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:e,End:this.Index}},this.GetIdentifier=function(){var t=this.Index++;while(!this.IsEOF()){var e=this.Source.charCodeAt(this.Index);if(92==e)return this.Index=t,this.GetComplexIdentifier();if(e>=55296&&e<57343)return this.Index=t,this.GetComplexIdentifier();if(!f.IsIdentifierPart(e))break;++this.Index}return this.Source.slice(t,this.Index)},this.ScanPunctuator=function(){var t=this.Index,e=this.Source[this.Index];switch(e){case"(":++this.Index;break;case")":case";":case",":++this.Index;break;case".":++this.Index;break;default:e=this.Source.substr(this.Index,3),"AND"==e?this.Index+=3:(e=this.Source.substr(this.Index,2),"&&"===e||"||"===e||"=="===e||"!="===e||"<>"===e||"<="===e||">="===e||"=>"===e||":="==e||"OR"==e?this.Index+=2:(e=this.Source[this.Index],"<>=!+-*%&|^/:".indexOf(e)>=0&&++this.Index))}return this.Index==t&&this.ThrowUnecpectedToken(),{Type:7,Value:e,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanStringLiteral=function(){var t=this.Index,e=this.Source[this.Index];++this.Index;var a="";while(!this.IsEOF()){var i=this.Source[this.Index++];if(i==e){e="";break}if("\\"==i)throw"not complete";if(f.IsLineTerminator(i.charCodeAt(0)))break;a+=i}return""!=e&&(this.Index=t,this.ThrowUnecpectedToken()),{Type:8,Value:a,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanNumericLiteral=function(){var t=this.Index,e=this.Source[this.Index],a="";if("."!=e){if(a=this.Source[this.Index++],e=this.Source[this.Index],"0"==a&&("x"==e||"X"==e))return++this.Index,this.ScanHexLiteral(t);while(f.IsDecimalDigit(this.Source.charCodeAt(this.Index)))a+=this.Source[this.Index++];e=this.Source[this.Index]}if("."==e){a+=this.Source[this.Index++];while(f.IsDecimalDigit(this.Source.charCodeAt(this.Index)))a+=this.Source[this.Index++];e=this.Source[this.Index]}if("e"==e||"E"==e)if(a+=this.Source[this.Index++],e=this.Source[this.Index],"+"!=e&&"-"!=e||(a+=this.Source[this.Index]),f.IsDecimalDigit(this.Source.charCodeAt(this.Index)))while(f.IsDecimalDigit(this.Source.charCodeAt(this.Index)))a+=this.Source[this.Index++];else this.ThrowUnecpectedToken();return f.IsIdentifierStart(this.Source.charCodeAt(this.Index))&&this.ThrowUnecpectedToken(),{Type:6,Value:parseFloat(a),LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanComments=function(){var t;this.Index;while(!this.IsEOF()){var e=this.Source.charCodeAt(this.Index);if(f.IsWhiteSpace(e))++this.Index;else if(f.IsLineTerminator(e))++this.Index,13==e&&10==this.Source.charCodeAt(this.Index)&&++this.Index,++this.LineNumber,this.LineStart=this.Index,!0;else if(47==e){if(e=this.Source.charCodeAt(this.Index+1),47!=e)break;this.Index+=2;this.SkipSingleLineComment(2);!0}else{if(123!=e)break;this.Index+=1;this.SkipMultiLineComment()}}return t},this.SkipMultiLineComment=function(){var t=[];while(!this.IsEOF()){var e=this.Source.charCodeAt(this.Index);if(f.IsLineTerminator(e))++this.LineNumber,++this.Index,this.LineStart=this.Index;else{if(125==e)return this.Index+=1,t;++this.Index}}return t},this.SkipSingleLineComment=function(t){var e=[];while(!this.IsEOF()){var a=this.Source.charCodeAt(this.Index);if(++this.Index,f.IsLineTerminator(a))return 13===a&&10===this.Source.charCodeAt(this.Index)&&++this.Index,++this.LineNumber,this.LineStart=this.Index,e}return e},this.ThrowUnecpectedToken=function(t){return t||(t=C.UnexpectedTokenIllegal),this.ErrorHandler.ThrowError(this.Index,this.LineNumber,this.Index-this.LineStart+1,t)}}function S(t){this.ErrorHandler=new D,this.Scanner=new p(t,this.ErrorHandler),this.Buffer=[],this.GetNextToken=function(){if(0==this.Buffer.length){this.Scanner.ScanComments();if(!this.Scanner.IsEOF()){var t=this.Scanner.Lex(),e={Type:d[t.Type],Value:this.Scanner.Source.slice(t.Start,t.End)};this.Buffer.push(e)}}return this.Buffer.shift()}}d[1]="Boolean",d[2]="<end>",d[3]="Identifier",d[4]="Keyword",d[5]="Null",d[6]="Numeric",d[7]="Punctuator",d[8]="String",d[9]="RegularExpression",d[10]="Template";var v={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};function g(){this.IsNeedIndexData=!1,this.IsNeedLatestData=!1,this.IsNeedSymbolData=!1,this.IsNeedMarginData=new Set,this.IsNeedNewsAnalysisData=new Set,this.IsNeedBlockIncreaseData=new Set,this.IsNeedSymbolExData=new Set,this.FunctionData=[],this.IsAPIData=[],this.GetDataJobList=function(){var t=[];this.IsNeedSymbolData&&t.push({ID:L.JOB_DOWNLOAD_SYMBOL_DATA}),this.IsNeedIndexData&&t.push({ID:L.JOB_DOWNLOAD_INDEX_DATA}),this.IsNeedLatestData&&t.push({ID:L.JOB_DOWNLOAD_SYMBOL_LATEST_DATA});var e,a=h(this.IsNeedBlockIncreaseData);try{for(a.s();!(e=a.n()).done;){var i=e.value;t.push({ID:L.JOB_DOWNLOAD_INDEX_INCREASE_DATA,Symbol:i})}}catch(f){a.e(f)}finally{a.f()}var r,n=h(this.IsNeedMarginData);try{for(n.s();!(r=n.n()).done;){var s=r.value;t.push({ID:s})}}catch(f){n.e(f)}finally{n.f()}var o,l=h(this.IsNeedNewsAnalysisData);try{for(l.s();!(o=l.n()).done;){s=o.value;t.push({ID:s})}}catch(f){l.e(f)}finally{l.f()}for(var u in this.IsAPIData){var c=this.IsAPIData[u];t.push(c)}var C,m=h(this.IsNeedSymbolExData);try{for(m.s();!(C=m.n()).done;){s=C.value;t.push({ID:s})}}catch(f){m.e(f)}finally{m.f()}for(var u in this.FunctionData){c=this.FunctionData[u];t.push(c)}return t},this.VerifySymbolVariable=function(t,e){var a=new Set(["INDEXA","INDEXC","INDEXH","INDEXL","INDEXO","INDEXV","INDEXDEC","INDEXADV"]);if(a.has(t))this.IsNeedIndexData=!0;else{var i=new Set(["CLOSE","C","VOL","V","OPEN","O","HIGH","H","LOW","L","AMOUNT"]);if(i.has(t))this.IsNeedSymbolData=!0;else if("VOLR"!==t)if("HYBLOCK"!=t&&"DYBLOCK"!=t&&"GNBLOCK"!=t){var r=new Set(["CAPITAL","TOTALCAPITAL","EXCHANGE"]);if(r.has(t)){var n={ID:L.JOB_DOWNLOAD_VARIANT,VariantName:t};return e&&(n.Token={Index:e.Start,Line:e.LineNumber}),void this.FunctionData.push(n)}if(c.IsCustomVariant(t)){n={VariantName:t,ID:L.JOB_CUSTOM_VARIANT_DATA};return e&&(n.Token={Index:e.Start,Line:e.LineNumber}),void this.FunctionData.push(n)}}else this.IsNeedSymbolExData.has(L.JOB_DOWNLOAD_GROUP_DATA)||this.IsNeedSymbolExData.add(L.JOB_DOWNLOAD_GROUP_DATA);else this.IsNeedSymbolExData.has(L.JOB_DOWNLOAD_VOLR_DATA)||this.IsNeedSymbolExData.add(L.JOB_DOWNLOAD_VOLR_DATA)}},this.VerifySymbolFunction=function(t,e,a){if(c.IsCustomFunction(t.Name)){var i={FunctionName:t.Name,ID:L.JOB_CUSTOM_FUNCTION_DATA,Args:e};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.FunctionData.push(i)}if("DYNAINFO"!=t.Name){if("FINANCE"==t.Name){i={ID:L.JOB_DOWNLOAD_FINANCE,Args:e,FunctionName:t.Name};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.FunctionData.push(i)}if("FINVALUE"==t.Name){i={ID:L.JOB_DOWNLOAD_FINVALUE,Args:e,FunctionName:t.Name};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.FunctionData.push(i)}if("FINONE"==t.Name){i={ID:L.JOB_DOWNLOAD_FINONE,Args:e,FunctionName:t.Name};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.FunctionData.push(i)}if("GPJYVALUE"==t.Name){i={ID:L.JOB_DOWNLOAD_GPJYVALUE,Args:e,FunctionName:t.Name};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.FunctionData.push(i)}if("MARGIN"!==t.Name)if("NEWS"!==t.Name){if("COST"==t.Name||"WINNER"==t.Name){i={ID:L.JOB_DOWNLOAD_FINANCE,Args:[7],FunctionName:"FINANCE",FunctionName2:t.Name};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.FunctionData.push(i)}if("BETA"!==t.Name)if("UPCOUNT"!=t.Name&&"DOWNCOUNT"!=t.Name){if("LOADAPIDATA"==t.Name){i={Name:t.Name,ID:L.JOB_DOWNLOAD_CUSTOM_API_DATA,Args:e};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.IsAPIData.push(i)}}else{var r=e[0].Value;this.IsNeedBlockIncreaseData.has(r)||this.IsNeedBlockIncreaseData.add(r)}else this.IsNeedIndexData=!0}else{var n=L.GetNewsAnalysisID(e[0].Value);n&&!this.IsNeedNewsAnalysisData.has(n)&&this.IsNeedNewsAnalysisData.add(n)}else{var s=L.GetMarginJobID(e[0].Value);s&&!this.IsNeedMarginData.has(s)&&this.IsNeedMarginData.add(s)}}else this.IsNeedLatestData=!0},this.ExpressionStatement=function(t){return{Type:v.ExpressionStatement,Expression:t}},this.Script=function(t){return{Type:v.Program,Body:t,SourceType:"\u901a\u8fbe\u4fe1\u811a\u672c"}},this.SequenceExpression=function(t){return{Type:v.SequenceExpression,Expression:t}},this.BinaryExpression=function(t,e,a){var i="||"===t||"&&"===t||"AND"==t||"OR"==t,r=i?v.LogicalExpression:v.BinaryExpression;return{Type:r,Operator:t,Left:e,Right:a}},this.Literal=function(t,e){return{Type:v.Literal,Value:t,Raw:e}},this.Identifier=function(t,e){return this.VerifySymbolVariable(t,e),{Type:v.Identifier,Name:t}},this.AssignmentExpression=function(t,e,a){return{Type:v.AssignmentExpression,Operator:t,Left:e,Right:a}},this.UnaryExpression=function(t,e){return{Type:v.UnaryExpression,Operator:t,Argument:e,Prefix:!0}},this.EmptyStatement=function(){return{Type:v.EmptyStatement}},this.CallExpression=function(t,e,a){return this.VerifySymbolFunction(t,e,a),{Type:v.CallExpression,Callee:t,Arguments:e}},this.StaticMemberExpression=function(t,e){return{Type:v.MemberExpression,Computed:!1,Object:t,Property:e}}}function T(t){this.ErrorHandler=new D,this.Scanner=new p(t,this.ErrorHandler),this.Node=new g,this.LookAhead={Type:2,Value:"",LineNumber:this.Scanner.LineNumber,LineStart:0,Start:0,End:0},this.HasLineTerminator=!1,this.Context={IsModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,FirstCoverInitializedNameError:null,IsAssignmentTarget:!1,IsBindingElement:!1,InFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},Strict:!1},this.PeratorPrecedence={")":0,";":0,",":0,"]":0,"||":1,OR:1,"&&":2,AND:2,"|":3,"^":4,"&":5,"=":6,"==":6,"!=":6,"<>":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.StartMarker={Index:0,Line:this.Scanner.LineNumber,Column:0},this.LastMarker={Index:0,Line:this.Scanner.LineNumber,Column:0},this.Initialize=function(){this.NextToken(),this.LastMarker={Index:this.Scanner.Index,Line:this.Scanner.LineNumber,Column:this.Scanner.Index-this.Scanner.LineStart}},this.CreateNode=function(){return{Index:this.StartMarker.Index,Line:this.StartMarker.Line,Column:this.StartMarker.Column}},this.StartNode=function(t,e){void 0==e&&(e=0);var a=t.Start-t.LineStart,i=t.LineNumber;return a<0&&(a+=e,i--),{Index:t.Start,Line:i,Column:a}},this.Match=function(t){return 7==this.LookAhead.Type&&this.LookAhead.Value==t},this.Expect=function(t){var e=this.NextToken();7==e.Type&&e.Value==t||this.ThrowUnexpectedToken(e)},this.MatchAssign=function(){if(7!=this.LookAhead.Type)return!1;var t=this.LookAhead.Value;return":"==t||":="==t},this.GetTokenRaw=function(t){return this.Scanner.Source.slice(t.Start,t.End)},this.NextToken=function(){var t=this.LookAhead;this.LastMarker.Index=this.Scanner.Index,this.LastMarker.Line=this.Scanner.LineNumber,this.LastMarker.Column=this.Scanner.Index-this.Scanner.LineStart,this.CollectComments(),this.Scanner.Index!==this.StartMarker.Index&&(this.StartMarker.Index=this.Scanner.Index,this.StartMarker.Line=this.Scanner.LineNumber,this.StartMarker.Column=this.Scanner.Index-this.Scanner.LineStart);var e=this.Scanner.Lex();return this.HasLineTerminator=t.LineNumber!=e.LineNumber,e&&this.Context.Strict&&e.Type,this.LookAhead=e,t},this.CollectComments=function(){this.Scanner.ScanComments()},this.ParseScript=function(){var t=this.CreateNode(),e=this.ParseDirectivePrologues();while(2!=this.LookAhead.Type)e.push(this.ParseStatementListItem());return this.Finalize(t,this.Node.Script(e))},this.ParseDirective=function(){this.LookAhead,this.CreateNode(),this.ParseExpression()},this.ParseDirectivePrologues=function(){var t=[];while(1){var e=this.LookAhead;if(8!=e.Type)break;var a=this.ParseDirective();t.push(a)}return t},this.ParseStatementListItem=function(){var t;return this.Context.IsAssignmentTarget=!0,this.Context.IsBindingElement=!0,4==this.LookAhead.Type||(t=this.ParseStatement()),t},this.ParseStatement=function(){var t;switch(this.LookAhead.Type){case 1:case 5:case 6:case 8:case 10:case 9:t=this.ParseExpressionStatement();break;case 7:var e=this.LookAhead.Value;t="("===e?this.ParseExpressionStatement():";"===e?this.ParseEmptyStatement():this.ParseExpressionStatement();break;case 3:t=this.ParseLabelledStatement();break;case 4:break;default:t="error"}return t},this.ParseEmptyStatement=function(){var t=this.CreateNode();return this.Expect(";"),this.Finalize(t,this.Node.EmptyStatement())},this.ParseLabelledStatement=function(){var t=this.CreateNode(),e=this.ParseExpression();this.ConsumeSemicolon();var a=new this.Node.ExpressionStatement(e);return this.Finalize(t,a)},this.ParseExpression=function(){var t=this.LookAhead,e=this.IsolateCoverGrammar(this.ParseAssignmentExpression);if(this.Match(",")){var a=[];a.push(e);while(2!=this.LookAhead.Type){if(!this.Match(","))break;this.NextToken(),a.push(this.IsolateCoverGrammar(this.ParseAssignmentExpression))}e=this.Finalize(this.StartNode(t),this.Node.SequenceExpression(a))}return e},this.ParseAssignmentExpression=function(){var t,e=this.LookAhead,a=e;if(t=this.ParseConditionalExpression(),this.MatchAssign()){if(!this.Context.IsAssignmentTarget){var i=t.Marker;this.ThrowUnexpectedError(i.Index,i.Line,i.Column,C.InvalidLHSInAssignment)}this.Match("=")||this.Match(":")?this.ReinterpretExpressionAsPattern(t):(this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1),a=this.NextToken();var r=a.Value,n=this.IsolateCoverGrammar(this.ParseAssignmentExpression);t=this.Finalize(this.StartNode(e),this.Node.AssignmentExpression(r,t,n)),this.Context.FirstCoverInitializedNameError=null}return t},this.ParseConditionalExpression=function(){this.LookAhead;var t=this.InheritCoverGrammar(this.ParseBinaryExpression);return t},this.ParseBinaryExpression=function(){var t=this.LookAhead,e=this.InheritCoverGrammar(this.ParseExponentiationExpression),a=this.LookAhead,i=this.BinaryPrecedence(a);if(i>0){this.NextToken(),this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1;var r=[t,this.LookAhead],n=e,s=this.IsolateCoverGrammar(this.ParseExponentiationExpression),o=[n,a.Value,s],h=[i];while(1){if(i=this.BinaryPrecedence(this.LookAhead),i<=0)break;while(o.length>2&&i<=h[h.length-1]){s=o.pop();var l=o.pop();h.pop(),n=o.pop(),r.pop();var u=this.StartNode(r[r.length-1]);o.push(this.Finalize(u,this.Node.BinaryExpression(l,n,s)))}o.push(this.NextToken().Value),h.push(i),r.push(this.LookAhead),o.push(this.IsolateCoverGrammar(this.ParseExponentiationExpression))}var c=o.length-1;e=o[c];var C=r.pop();while(c>1){var m=r.pop(),f=C&&C.LineStart,d=this.StartNode(m,f),D=o[c-1];e=this.Finalize(d,this.Node.BinaryExpression(D,o[c-2],e)),c-=2,C=m}}return e},this.ParseExponentiationExpression=function(){this.LookAhead;var t=this.InheritCoverGrammar(this.ParseUnaryExpression);return t},this.ParseUnaryExpression=function(){var t;if(this.Match("+")||this.Match("-")){var e=this.StartNode(this.LookAhead),a=this.NextToken();t=this.InheritCoverGrammar(this.ParseUnaryExpression),t=this.Finalize(e,this.Node.UnaryExpression(a.Value,t)),this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1}else t=this.ParseUpdateExpression();return t},this.ParseUpdateExpression=function(){var t;this.LookAhead;return t=this.InheritCoverGrammar(this.ParseLeftHandSideExpressionAllowCall),t},this.ParseLeftHandSideExpressionAllowCall=function(){var t,e=this.LookAhead;t=this.InheritCoverGrammar(this.ParsePrimaryExpression);while(1)if(this.Match(".")){this.Context.IsBindingElement=!1,this.Context.IsAssignmentTarget=!0,this.Expect(".");var a=this.ParseIdentifierName();t=this.Finalize(this.StartNode(e),this.Node.StaticMemberExpression(t,a))}else{if(!this.Match("("))break;this.Context.IsBindingElement=!1,this.Context.IsAssignmentTarget=!1;var i=this.ParseArguments();t=this.Finalize(this.StartNode(e),this.Node.CallExpression(t,i,e))}return t},this.IsIdentifierName=function(t){return 3===t.Type||4===t.Type||1===t.Type||5===t.Type},this.ParseIdentifierName=function(){var t=this.CreateNode(),e=this.NextToken();return this.IsIdentifierName(e)||this.ThrowUnexpectedToken(e),this.Finalize(t,this.Node.Identifier(e.Value,e))},this.ParseArguments=function(){this.Expect("(");var t=[];if(!this.Match(")"))while(1){var e=this.IsolateCoverGrammar(this.ParseAssignmentExpression);if(t.push(e),this.Match(")"))break;if(this.ExpectCommaSeparator(),this.Match(")"))break}return this.Expect(")"),t},this.ExpectCommaSeparator=function(){this.Expect(",")},this.ParsePrimaryExpression=function(){var t,e,a,i=this.CreateNode();switch(this.LookAhead.Type){case 3:e=this.NextToken(),t=this.Finalize(i,this.Node.Identifier(e.Value,e));break;case 6:case 8:this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1,e=this.NextToken(),a=this.GetTokenRaw(e),t=this.Finalize(i,this.Node.Literal(e.Value,a));break;case 7:switch(this.LookAhead.Value){case"(":this.Context.IsBindingElement=!1,t=this.InheritCoverGrammar(this.ParseGroupExpression);break;default:t=this.ThrowUnexpectedToken(this.NextToken())}break;default:t=this.ThrowUnexpectedToken(this.NextToken())}return t},this.ParseGroupExpression=function(){var t;if(this.Expect("("),this.Match(")"))this.NextToken();else{this.LookAhead;var e=!1;if(this.Context.IsBindingElement=!0,t=this.InheritCoverGrammar(this.ParseAssignmentExpression),this.Match(",")){var a=[];this.Context.IsAssignmentTarget=!1,a.push(t);while(2!=this.LookAhead.Type){if(!this.Match(","))break;this.NextToken(),this.Match(")")}}e||(this.Expect(")"),this.Context.IsBindingElement=!1)}return t},this.ParseExpressionStatement=function(){var t=this.CreateNode(),e=this.ParseExpression();return this.ConsumeSemicolon(),this.Finalize(t,this.Node.ExpressionStatement(e))},this.ConsumeSemicolon=function(){this.Match(";")?this.NextToken():this.HasLineTerminator||(this.LastMarker.Index=this.StartMarker.Index,this.LastMarker.Line=this.StartMarker.Line,this.LastMarker.Column=this.StartMarker.Column)},this.ReinterpretExpressionAsPattern=function(t){switch(t.Type){case v.Identifier:case v.MemberExpression:case v.AssignmentExpression:break;default:break}},this.Finalize=function(t,e){return e.Marker={Line:t.Line,Column:t.Column,Index:t.Index},e},this.BinaryPrecedence=function(t){var e,a=t.Value;return e=7===t.Type&&this.PeratorPrecedence[a]||0,e},this.IsolateCoverGrammar=function(t){var e=this.Context.IsBindingElement,a=this.Context.IsAssignmentTarget,i=this.Context.FirstCoverInitializedNameError;this.Context.IsBindingElement=!0,this.Context.IsAssignmentTarget=!0,this.Context.FirstCoverInitializedNameError=null;var r=t.call(this);return this.Context.FirstCoverInitializedNameError,this.Context.IsBindingElement=e,this.Context.IsAssignmentTarget=a,this.Context.FirstCoverInitializedNameError=i,r},this.InheritCoverGrammar=function(t){var e=this.Context.IsBindingElement,a=this.Context.IsAssignmentTarget,i=this.Context.FirstCoverInitializedNameError;this.Context.IsBindingElement=!0,this.Context.IsAssignmentTarget=!0,this.Context.FirstCoverInitializedNameError=null;var r=t.call(this);return this.Context.IsBindingElement=this.Context.IsBindingElement&&e,this.Context.IsAssignmentTarget=this.Context.IsAssignmentTarget&&a,this.Context.FirstCoverInitializedNameError=i||this.Context.FirstCoverInitializedNameError,r},this.ThrowUnexpectedToken=function(t,e){throw this.UnexpectedTokenError(t,e)},this.ThrowUnexpectedError=function(t,e,a,i){var r=i||"\u6267\u884c\u5f02\u5e38";return this.ErrorHandler.ThrowError(t,e,a,r)},this.UnexpectedTokenError=function(t,e){var a=e||C.UnexpectedToken,i="ILLEGAL";if(t&&(i=t.Value),a=a.replace("%0",i),t&&"number"==typeof t.LineNumber){var r=t.Start,n=t.LineNumber,s=this.LastMarker.Index-this.LastMarker.Column,o=t.Start-s+1;return this.ErrorHandler.CreateError(r,n,o,a)}var h=this.LastMarker.Index,l=this.LastMarker.Line,u=this.LastMarker.Column+1;return this.ErrorHandler.CreateError(h,l,u,a)}}function I(t,e){this.ErrorHandler=t,this.SymbolData=e,this.Add=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t+e;var r,n,s=[];if(!a&&!i){for(var o=Math.max(t.length,e.length),h=0;h<o;++h)s[h]=null,h<t.length&&h<e.length&&(isNaN(t[h])||isNaN(e[h])||(s[h]=t[h]+e[h]));return s}for(var l in a?(r=t,n=e):(r=e,n=t),n)s[l]=null,isNaN(n[l])||isNaN(r)||(s[l]=r+n[l]);return s},this.Subtract=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t-e;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]-e[s]));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t-e[o]);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]-e);return r},this.Multiply=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t*e;var r,n,s=[];if(!a&&!i){for(var o=Math.max(t.length,e.length),h=0;h<o;++h)s[h]=null,h<t.length&&h<e.length&&(isNaN(t[h])||isNaN(e[h])||(s[h]=t[h]*e[h]));return s}for(var l in a?(r=t,n=e):(r=e,n=t),n)s[l]=null,isNaN(n[l])||isNaN(r)||(s[l]=r*n[l]);return s},this.Divide=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return 0==e?null:t/e;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&this.IsNumber(t[s])&&this.IsDivideNumber(e[s])&&(r[s]=t[s]/e[s]);return r}if(a)for(var o in e)r[o]=null,this.IsNumber(t)&&this.IsDivideNumber(e[o])&&(r[o]=t/e[o]);else for(var h in t)r[h]=null,this.IsNumber(t[h])&&this.IsDivideNumber(e)&&(r[h]=t[h]/e);return r},this.GT=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t>e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]>e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t>e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]>e?1:0);return r},this.GTE=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t>=e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]>=e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t>=e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]>=e?1:0);return r},this.LT=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t<e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]<e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t<e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]<e?1:0);return r},this.LTE=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t>=e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]<=e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t<=e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]<=e?1:0);return r},this.EQ=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t==e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]==e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t==e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]==e?1:0);return r},this.NEQ=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t!=e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]!=e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t!=e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]!=e?1:0);return r},this.And=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t&&e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]&&e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t&&e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]&&e?1:0);return r},this.Or=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t||e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]||e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t||e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]||e?1:0);return r},this.IF=function(t,e,a){var i=this.IsNumber(t),r=this.IsNumber(e),n=this.IsNumber(a),s=Array.isArray(e),o=Array.isArray(a);if(i)return t?e:a;var h=[];for(var l in t)t[l]?h[l]=r?e:s?e[l]:null:h[l]=n?a:o?a[l]:null;return h},this.IFN=function(t,e,a){return this.IF(t,a,e)},this.REF=function(t,e){var a=[];if("number"==typeof e){if(t.length<=0)return a;if(e>=t.length)return a;a=t.slice(0,t.length-e);for(var i=0;i<e;++i)a.unshift(null)}else for(var r=0;r<t.length;++r)if(a[r]=null,!(r>=e.length)){var n=e[r];a[r]=n>0&&n<=r?t[r-n]:r?a[r-1]:t[r]}return a},this.REFV=function(t,e){var a=[];if("number"==typeof e){if(t.length<=0)return a;if(e>=t.length)return a;a=t.slice(0,t.length-e);for(var i=0;i<e;++i)a.unshift(null)}else for(var r=0;r<t.length;++r)if(a[r]=null,!(r>=e.length)){var n=e[r];n>=0&&n<=r&&(a[r]=t[r-n])}return a},this.REFX=function(t,e){var a=[];if("number"==typeof e){if(t.length<=0)return a;if(e>=t.length)return a;a=t.slice(e,t.length);for(var i=t[t.length-1],r=0;r<e;++r)a.push(i)}else for(var n=t.length,s=0;s<t.length;++s)if(a[s]=null,!(s>=e.length)){var o=e[s];a[s]=o>=0&&o+s<n?t[s+o]:s?a[s-1]:t[s]}return a},this.REFXV=function(t,e){var a=[];if("number"==typeof e){if(t.length<=0)return a;if(e>=t.length)return a;a=t.slice(e,t.length);for(var i=0;i<e;++i)a.push(null)}else for(var r=t.length,n=0;n<t.length;++n)if(a[n]=null,!(n>=e.length)){var s=e[n];s>=0&&s+n<r&&(a[n]=t[n+s])}return a},this.MAX=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return Math.max(t,e);var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=Math.max(t[s],e[s])));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=Math.max(t,e[o]));else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=Math.max(t[h],e));return r},this.MIN=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return Math.min(t,e);var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=Math.min(t[s],e[s])));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=Math.min(t,e[o]));else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=Math.min(t[h],e));return r},this.ABS=function(t){var e=[];for(var a in t)e[a]=null,isNaN(t[a])||(e[a]=Math.abs(t[a]));return e},this.MA=function(t,e){if(e<=0)return[];var a=[];if(!t||!t.length)return a;for(var i=0;i<t.length;++i)if(a[i]=null,this.IsNumber(t[i]))break;t=t.slice(0);for(var r=0;i<t.length;++i,++r)if(r<e-1)a[i]=null;else{for(var n=t[i-(e-1)],s=0,o=e-1;o>=0;--o){var h=t[i-o];this.IsNumber(h)?n=h:(h=n,t[i-o]=h),s+=h}a[i]=s/e}return a},this.EMA=function(t,e){var a=[],i=0;if(i>=t.length)return a;for(;i<t.length;++i)if(null!=t[i]&&!isNaN(t[i]))break;var r=i,n=i+1;a[r]=t[r];for(var s=i+1;s<t.length;++s,++r,++n)a[n]=(2*t[n]+(e-1)*a[r])/(e+1);return a},this.XMA=function(t,e){for(var a=[],i=0;i<t.length;++i)if(this.IsNumber(t[i]))break;for(var r=parseInt((e-2)/2),n=0,s=0,o=0,h=0,l=i,u=0;l<t.length;++l){for(o=l-r-1,h=l+(e-r)-1,u=o;u<h;++u)u>=0&&u<t.length&&this.IsNumber(t[u])&&(n+=t[u],++s);a[l]=0!=s?n/s:null,n=0,s=0}return a},this.SMA=function(t,e,a){for(var i=[],r=0,n=null;r<t.length;++r)if(null!=t[r]&&!isNaN(t[r])){n=t[r],i[r]=n;break}for(++r;r<t.length;++r)i[r]=(a*t[r]+(e-a)*n)/e,n=i[r];return i},this.DMA=function(t,e){var a=[];if(t.length<0||t.length!=e.length)return a;for(var i=0;i<t.length;++i)if(null!=t[i]&&!isNaN(t[i])&&null!=e[i]&&!isNaN(e[i])){a[i]=t[i];break}for(i+=1;i<t.length;++i)null==t[i]||null==e[i]?a[i]=null:t[i]<1?a[i]=e[i]*t[i]+(1-e[i])*a[i-1]:a[i]=t[i];return a},this.WMA=function(t,e){var a=[];if(!t||!t.length)return a;e<1&&(e=1);var i=0;for(i=0;i<t.length&&!this.IsNumber(t[i]);++i)a[i]=null;t=t.slice(0);for(var r=0;i<t.length;++i,++r)if(r<e-1)a[i]=null;else{for(var n=t[i-(e-1)],s=0,o=0,h=e-1;h>=0;--h){var l=t[i-h];this.IsNumber(l)?n=l:(l=n,t[i-h]=l),o+=e-h,s+=l*(e-h)}a[i]=s/o}return a},this.MEMA=function(t,e){var a=[];if(!t||!t.length)return a;var i=0,r=0;for(r=0;r<t.length&&!this.IsNumber(t[r]);++r)a[r]=null;if(i=r,e<1||i+e>=t.length)return a;var n=0;for(t=t.slice(0);i<r+e;++i)a[i]=null,!this.IsNumber(t[i])&&i-1>=0&&(t[i]=t[i-1]),n+=t[i];for(a[i-1]=n/e;i<t.length;++i)this.IsNumber(a[i-1])&&this.IsNumber(t[i])?a[i]=(t[i]+a[i-1]*(e-1))/e:i-1>-1&&this.IsNumber(a[i-1])?a[i]=a[i-1]:a[i]=null;return a},this.EXPMA=function(t,e){var a=[];if(e>=t.length)return a;for(var i=e;i<t.length;++i)if(null!=t[i]){a[i]=t[i];break}for(i+=1;i<t.length;++i)null!=a[i-1]&&null!=t[i]?a[i]=(2*t[i]+(e-1)*a[i-1])/(e+1):null!=a[i-1]&&(a[i]=a[i-1]);return a},this.EXPMEMA=function(t,e){var a=[];if(e>=t.length)return a;for(var i=0;i<t.length;++i)if(t[i]&&!isNaN(t[i]))break;for(var r=0,n=0;i<t.length&&n<e;++n,++i)t[i]&&!isNaN(t[i])?r+=t[i]:r+=t[i-1];for(a[i-1]=r/e;i<t.length;++i)null!=a[i-1]&&null!=t[i]?a[i]=(2*t[i]+(e-1)*a[i-1])/(e+1):null!=a[i-1]&&(a[i]=a[i-1]);return a},this.SUMBARS=function(t,e){var a=[];if(!t||!t.length||!e||!e.length)return a;for(var i=0,r=0,n=0;i<t.length&&!this.IsNumber(t[i]);++i)a[i]=null;var s=0;for(r=t.length-1;r>=i;--r){for(n=r,s=0;n>=i&&s<e[r];--n)s+=t[n];a[r]=n<i?null:r-n}for(r=i+1;r<t.length;++r)null==a[r]&&(a[r]=a[r-1]);return a},this.REVERSE=function(t){for(var e=[],a=0;a<t.length&&!this.isNumber(t[a]);++a)e[a]=null;for(;a<t.length;++a)this.isNumber(t[a])?e[a]=0-t[a]:e[a]=null;return e},this.COUNT=function(t,e){if(Array.isArray(e)){for(var a=null,i=t.length,r=0;r<i;++r)if(this.IsNumber(t[r])){a=r;break}if(null==a)return[];var n=[],s=0;for(r=0;r<e.length;++r){var o=e[r];if(this.IsNumber(o)){o<1&&(o=r+1),s=0;for(var h=r,l=0;h>=0&&l<o;--h,++l)t[h]&&++s;n[r]=s}}return n}for(o=e,i=t.length,o=o<1?i:o,r=0,h=0;r<i;++r)if(this.IsNumber(t[r]))break;n=[];for(var u=0;r<i&&h<o;++r,++h)u=t[r]?u+1:u,n[r]=u;for(;r<i;++r)t[r-o]&&u&&u--,u=t[r]?u+1:u,n[r]=u;return n},this.HHV=function(t,e){var a=[];if(Array.isArray(e)){for(var i=null,r=0,n=0;r<t.length;++r)if(a[r]=null,!(r>=e.length)){i=null;var s=e[r];if(s>0&&s<=r)for(n=r-s;n<=r;++n)(null==i||i<t[n])&&(i=t[n]);else for(s=r,n=0;n<=r;++n)(null==i||i<t[n])&&(i=t[n]);a[r]=i}}else{if(e>t.length)return a;e<=0&&(e=t.length-1);var o=0;for(o=0;o<t.length;++o)if(this.IsNumber(t[o]))break;o<t.length&&(a[o]=t[o]);for(r=o+1,n=2;r<t.length&&n<e;++r,++n)t[r]>=t[o]&&(o=r),a[r]=t[o];for(;r<t.length;++r){if(r-o<e)o=t[r]<t[o]?o:r;else for(n=o=r-e+1;n<=r;++n)o=t[n]<t[o]?o:n;a[r]=t[o]}}return a},this.LLV=function(t,e){var a=[];if(Array.isArray(e)){for(var i=0;i<t.length;++i)if(a[i]=null,!(i>=e.length)){var r=null,n=e[i];if(n>0&&n<=i)for(var s=i-n;s<=i;++s)(null==r||r>t[s])&&(r=t[s]);else{n=i;for(s=0;s<=i;++s)(null==r||r>t[s])&&(r=t[s])}a[i]=r}}else{if(e>t.length)return a;e<=0&&(e=t.length-1);var o=0;for(o=0;o<t.length;++o)if(this.IsNumber(t[o]))break;o<t.length&&(a[o]=t[o]);for(i=o+1,s=2;i<t.length&&s<e;++i,++s)t[i]<=t[o]&&(o=i),a[i]=t[o];for(;i<t.length;++i){if(i-o<e)o=t[i]>t[o]?o:i;else for(s=o=i-e+1;s<=i;++s)o=t[s]>t[o]?o:s;a[i]=t[o]}}return a},this.STD=function(t,e){for(var a=[],i=0,r=[],n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=t[n-s];r[n]=i/e}for(n=e-1;n<t.length;++n){i=0;for(s=0;s<e;++s)i+=Math.pow(t[n-s]-r[n],2);a[n]=Math.sqrt(i/e)}return a},this.AVEDEV=function(t,e){for(var a=[],i=0,r=[],n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=t[n-s];r[n]=i/e}for(n=e-1;n<t.length;++n){i=0;for(s=0;s<e;++s)i+=Math.abs(t[n-s]-r[n]);a[n]=i/e}return a},this.CROSS=function(t,e){var a=[];if(Array.isArray(t)&&Array.isArray(e)){if(t.length!=e.length)return[];for(var i=0;i<t.length;++i)if(this.IsNumber(t[i])&&this.IsNumber(e[i]))break;for(++i;i<t.length;++i)a[i]=t[i]>e[i]&&t[i-1]<e[i-1]?1:0}else if(Array.isArray(t)&&"number"==typeof e){for(i=0;i<t.length;++i)if(this.IsNumber(t[i]))break;for(++i;i<t.length;++i)a[i]=t[i]>e&&t[i-1]<e?1:0}else if("number"==typeof t&&Array.isArray(e)){for(i=0;i<e.length;++i)if(this.IsNumber(e[i]))break;for(++i;i<e.length;++i)a[i]=e[i]<t&&e[i-1]>t?1:0}return a},this.MULAR=function(t,e){var a=[];if(t.length<e)return a;for(var i=e;i<t.length;++i)if(null!=t[i]&&!isNaN(t[i])){a[i]=t[i];break}for(++i;i<t.length;++i)a[i]=a[i-1]*t[i];return a},this.SUM=function(t,e){var a=[];if(0==e){a[0]=t[0];for(var i=1;i<t.length;++i)a[i]=a[i-1]+t[i]}else{i=e-1;for(var r=0;i<t.length;++i,++r)for(var n=0;n<e;++n)0==n?a[i]=t[n+r]:a[i]+=t[n+r]}return a},this.BARSCOUNT=function(t){var e=[],a=null;for(var i in t)e[i]=0,null==a&&(this.IsNumber(t[i])||contnue,a=0),e[i]=a,++a;return e},this.DEVSQ=function(t,e){var a=[];"number"!=typeof e&&(e=parseInt(e));var i=e,r=t.length,n=0,s=0,o=0,h=0,l=0;for(n=0;n<r&&!this.isNumber(t[n]);++n)a[n]=null;if(i<1||n+i>r)return a;for(h=0;n<r&&s<i;++n,++s)h+=t[n]/i;if(s==i){for(l=0,n--;o<i;o++)l+=(t[n-o]-h)*(t[n-o]-h);a[n]=l,n++}for(;n<r;++n){for(h+=(t[n]-t[n-i])/i,l=0,o=0;o<i;++o)l+=(t[n-o]-h)*(t[n-o]-h);a[n]=l}return a},this.NOT=function(t){var e="number"==typeof t;if(e)return t?0:1;var a=[];for(var i in t)a[i]=null,this.IsNumber(t[i])&&(a[i]=t[i]?0:1);return a},this.FORCAST=function(t,e){var a=[];"number"!=typeof e&&(e=parseInt(e));var i=e,r=t.length;if(i<1||i>=r)return a;var n,s,o,h,l,u=0,c=0,C=0,m=0;for(h=0;h<r&&!this.IsNumber(t[h]);++h)a[h]=null;for(o=h+i-1;o<r;++o){for(u=c=C=m=0,h=0,l=i;h<i&&h<=o;++h,--l)u+=l,c+=t[o-h];for(u/=i,c/=i,h=0,l=i;h<i&&h<=o;++h,--l)C+=(l-u)*(t[o-h]-c),m+=(l-u)*(l-u);s=C/m,n=c-u*s,a[o]=s*i+n}return a},this.SLOPE=function(t,e){var a=[];if("number"!=typeof e&&(e=parseInt(e)),e<1||!t.length)return a;if(e>=t.length)return a;for(var i,r,n,s,o=0,h=0;h<t.length;++h,++o)if(a[h]=null,this.IsNumber(t[h]))break;for(var l=o+e-1;l<t.length;++l){a[l]=null,i=r=n=s=0;for(var u=0;u<e&&u<=l;++u)i+=l-u,r+=t[l-u];for(i/=e,r/=e,u=0;u<e&&u<=l;++u)n+=(l-u-i)*(t[l-u]-r),s+=(l-u-i)*(l-u-i);s?a[l]=n/s:l&&(a[l]=a[l-1])}return a},this.STDP=function(t,e){var a=[];"number"!=typeof e&&(e=parseInt(e));var i=e,r=t.length;if(i<1||i>=r)return a;var n=0,s=0;for(n=0;n<r&&!this.isNumber(t[n]);++n)a[n]=null;for(var o,h=0,l=0;n<r&&s<i;++n,++s)h+=t[n]*t[n],l+=t[n];for(s==i&&(o=i*h-l*l,a[n-1]=Math.sqrt(o)/i);n<r;++n)h+=t[n]*t[n]-t[n-i]*t[n-i],l+=t[n]-t[n-i],o=i*h-l*l,a[n]=Math.sqrt(o)/i},this.VAR=function(t,e){var a=[];"number"!=typeof e&&(e=parseInt(e));var i,r,n,s,o=e,h=t.length;if(o<=1||o>=h)return a;for(i=0;i<h&&!this.IsNumber(t[i]);++i)a[i]=null;for(r=0,i=i+o-1;i<h;++i){for(n=s=0,r=0;r<o&&r<=i;++r)n+=t[i-r]*t[i-r],s+=t[i-r];a[i]=(o*n-s*s)/o*(o-1)}return a},this.VARP=function(t,e){var a=[];"number"!=typeof e&&(e=parseInt(e));var i=e,r=t.length;if(i<1||i>=r)return a;var n=0,s=0;for(n=0;n<r&&!this.IsNumber(t[n]);++n)a[n]=null;for(var o=0,h=0;n<r&&s<i;++n,++s)o+=t[n]*t[n],h+=t[n];for(s==i&&(a[n-1]=(i*o-h*h)/(i*i));n<r;++n)o+=t[n]*t[n]-t[n-i]*t[n-i],h+=t[n]-t[n-i],a[n]=(i*o-h*h)/(i*i);return a},this.RANGE=function(t,e,a){var i="number"==typeof t,r="number"==typeof e,n="number"==typeof a;if(i&&r&&n)return t>Math.min(e,a)&&t<Math.max(e,a)?1:0;for(var s,o,h=[],l=0;l<t.length;++l)if(h[l]=null,s=t[l],this.IsNumber(s)){if(r)o=e;else{if(l>=e.length)continue;o=e[l]}if(this.IsNumber(o)){if(n)rangeValue2=a;else{if(l>=a.length)continue;rangeValue2=a[l]}this.IsNumber(rangeValue2)&&(h[l]=s>Math.min(o,rangeValue2)&&s<Math.max(o,rangeValue2)?1:0)}}return h},this.EXIST=function(t,e){if(e=parseInt(e),"number"==typeof t)return 0;for(var a,i,r=[],n=0;n<t.length;++n)r[n]=null,i=t[n],this.IsNumber(i),r[n]=n-a<e?1:0;return r},this.TFILTER=function(t,e,a){a=parseInt(a);for(var i=[],r=Math.max(t.length,e.length),n=0;n<r;++n);return i},this.FILTER=function(t,e){for(var a=[],i=0,r=0;i<t.length;++i)if(t[i]){for(a[i]=1,r=0;r<e&&r+i+1<t.length;++r)a[r+i+1]=0;i+=e}else a[i]=0;return a},this.BARSLAST=function(t){var e=[];if(!t)return e;for(var a=null,i=0;i<t.length;++i)e[i]=null,t[i]>0?a=0:null!=a&&++a,null!=a&&(e[i]=a);return e},this.BARSSINCEN=function(t,e){var a=[];if(this.IsNumber(e)&&Array.isArray(t)){var i=e;i<1&&(i=t.length);var r=this.GetFirstVaildIndex(t);if(r>=t.length)return a;var n=0;for(n=r<=i-1?i-1:r,a[n]=n-r;n<t.length;++n)if(this.IsNumber(a[n-1])){if(a[n-1]+1<i)a[n]=a[n-1]+1;else for(var s=n-i+1;s<=n;++s)if(!(Math.abs(t[s])<1e-6)){a[n]=n-s;break}}else Math.abs(t[n])<1e-6||(a[n]=0)}return a},this.BARSSINCE=function(t){for(var e=[],a=null,i=0;i<t.length;++i)e[i]=null,null==a?t[i]&&(a=0):++a,a&&(e[i]=a);return e},this.Trigonometric=function(t,e){if(Array.isArray(t)){var a=[];for(var i in t){var r=t[i];this.IsNumber(r)?a[i]=e(r):a[i]=null}return a}return this.IsNumber(t)?e(t):null},this.ASIN=function(t){if(Array.isArray(t)){var e=[];for(var a in t){var i=t[a];if(e[a]=null,this.IsNumber(i))if(i>=-1&&i<=1)e[a]=Math.asin(i);else if(a-1>=0){var r=e[a-1];this.IsNumber(r)&&(e[a]=r)}}return e}return this.IsNumber(t)?Math.acos(t):null},this.ACOS=function(t){if(Array.isArray(t)){var e=[];for(var a in t){var i=t[a];if(e[a]=null,this.IsNumber(i))if(i>=-1&&i<=1)e[a]=Math.acos(i);else if(a-1>=0){var r=e[a-1];this.IsNumber(r)&&(e[a]=r)}}return e}return this.IsNumber(t)?Math.acos(t):null},this.LAST=function(t,e,a){var i=[];if(a<=0&&(a=t.length-1),a>e)return i;for(var r=0,n=0,s=0;n<t.length;++n){i[n]=0,r=0;var o=n-e,h=n-a;if(!(o<0||h<0)){for(s=o;s<t.length&&s<=h;++s,++r)if(!t[s])break;r==h-o+1&&(i[n]=1)}}return i},this.ZIG=function(t,e){var a=this.SymbolData.Data,i=[];if("number"==typeof t)switch(t){case 0:t=a.GetOpen();break;case 1:t=a.GetHigh();break;case 2:t=a.GetLow();break;case 3:t=a.GetClose();break;default:return i}return this.ZIG_Calculate(t,e)},this.ZIG_Calculate=function(t,e){var a=[],i=t.length,r=this.GetFirstVaildIndex(t),n=0,s=0,o=0,h=0,l=0;for(n=r+1,s=o=r;n<i-1&&o==r;++n)o=100*Math.abs(t[n]-t[r])>=e*t[r]?t[n]>t[r]?n:-n:r;for(;n<i-1;++n)if(t[n]>=t[n-1]&&t[n]>=t[n+1])if(o<0){if(100*(t[n]-t[-o])<e*t[-o])continue;for(l=(t[s]-t[h=-o])/(-o-s),a[h--]=t[-o];h>=s;h--)a[h]=t[-o]+(-o-h)*l;s=-o,o=n}else t[n]>t[o]&&(o=n);else if(t[n]<=t[n-1]&&t[n]<=t[n+1])if(o>0){if(100*(t[o]-t[n])<e*t[o])continue;for(l=(t[o]-t[h=s])/(o-s),a[h++]=t[s];h<=o;++h)a[h]=t[s]+(h-s)*l;s=o,o=-n}else t[n]<t[-o]&&(o=-n);if(Math.abs(o)>=i-2&&(o>0&&t[i-1]>=t[o]&&(o=i-1),o<0&&t[i-1]<=t[-o]&&(o=1-i)),o>0)for(l=(t[o]-t[h=s])/(o-s),a[h++]=t[s];h<=o;++h)a[h]=t[s]+(h-s)*l;else for(l=(t[s]-t[h=-o])/(-o-s),a[h--]=t[-o];h>=s;h--)a[h]=t[-o]+(-o-h)*l;if((o=Math.abs(o))<i-1)if(t[i-1]>=t[o])for(l=(t[i-1]-t[h=o])/(i-o),a[h++]=t[o];h<i;++h)a[h]=t[o]+(h-o)*l;else for(l=(t[o]-t[h=i-1])/(i-o),a[h--]=t[i-1];h>=o;h--)a[h]=t[i-1]+(i-h)*l;return a},this.GetFirstVaildIndex=function(t){for(var e=0;e<t.length;++e)if(this.IsNumber(t[e]))return e;return t.length},this.JSDraw=null,this.CalculateZIGLine=function(t,e,a,i,r){null==this.JSDraw&&(this.JSDraw=new x(this.ErrorHandler));var n=e.Up,s=t;if(n)for(var o=t.ID+1;o<a.ID;++o){var h=i[o];this.IsNumber(h)&&(s.Value<h&&(s={ID:o,Value:h}))}else for(o=t.ID+1;o<a.ID;++o){h=i[o];this.IsNumber(h)&&(s.Value>h&&(s={ID:o,Value:h}))}e.Value=s.Value,e.ID=s.ID;var l={Start:{ID:t.ID,Value:t.Value},End:{ID:e.ID,Value:e.Value}},u=this.JSDraw.CalculateDrawLine(l);for(var o in u){var c=u[o];r[c.ID]=c.Value}if(a.ID==i.length-1)for(var o in l={Start:{ID:e.ID,Value:e.Value},End:{ID:a.ID,Value:a.Value}},u=this.JSDraw.CalculateDrawLine(l),u){c=u[o];r[c.ID]=c.Value}else t.ID=e.ID,t.Value=e.Value,e.ID=a.ID,e.Value=a.Value,e.Up=t.Value<e.Value},this.TROUGHBARS=function(t,e,a){var i=this.ZIG(t,e),r=[],n=a;if(n<1)return r;for(var s=i.length,o=[],h=0;h<n;++h)o[h]=0;var l=0;h=this.GetFirstVaildIndex(i)+1;for(n--;h<s&&i[h]>i[h-1];++h);for(;h<s&&i[h]<i[h-1];++h);for(o[0]=--h;h<s-1;++h){if(i[h]<i[h+1]){if(l){if(n)for(var u=o.slice(0),c=0;c<n;++c)o[c+1]=u[c];o[l=0]=h}}else l=1;o[n]&&(r[h]=h-o[n])}return o[n]&&(r[h]=h-o[n]),r},this.TROUGH=function(t,e,a){var i=this.ZIG(t,e),r=[],n=a;if(n<1)return r;for(var s=i.length,o=[],h=0;h<n;++h)o[h]=0;h=1;var l=0;h=this.GetFirstVaildIndex(i)+1;for(n--;h<s&&i[h]>i[h-1];++h);for(;h<s&&i[h]<i[h-1];++h);for(o[0]=--h;h<s-1;++h){if(i[h]<i[h+1]){if(l){if(n)for(var u=o.slice(0),c=0;c<n;++c)o[c+1]=u[c];o[l=0]=h}}else l=1;o[n]&&(r[h]=i[o[n]])}return o[n]&&(r[h]=i[o[n]]),r},this.PEAKBARS=function(t,e,a){var i=this.ZIG(t,e),r=[],n=i.length,s=a;if(s<1)return r;for(var o=[],h=0;h<s;++h)o[h]=0;var l=0;h=this.GetFirstVaildIndex(i)+1;for(s--;h<n&&i[h]<i[h-1];++h);for(;h<n&&i[h]>i[h-1];++h);for(o[0]=--h;h<n-1;++h){if(i[h]>i[h+1]){if(l){if(s)for(var u=o.slice(0),c=0;c<s;++c)o[c+1]=u[c];o[l=0]=h}}else l=1;o[s]&&(r[h]=h-o[s])}return o[s]&&(r[h]=h-o[s]),r},this.PEAK=function(t,e,a){var i=this.ZIG(t,e),r=[],n=i.length,s=a;if(s<1)return r;for(var o=0,h=[],l=0;l<s;++l)h[l]=0;l=this.GetFirstVaildIndex(i)+1;for(s--;l<n&&i[l]<i[l-1];++l);for(;l<n&&i[l]>i[l-1];++l);for(h[0]=--l;l<n-1;++l){if(i[l]>i[l+1]){if(o){if(s)for(var u=h.slice(0),c=0;c<s;++c)h[c+1]=u[c];h[o=0]=l}}else o=1;h[s]&&(r[l]=i[h[s]])}return h[s]&&(r[l]=i[h[s]]),r},this.EVERY=function(t,e){var a=[];if(e<1)return a;for(var i=0;i<t.length;++i)if(a[i]=null,this.IsNumber(t[i]))break;for(var r=0;i<t.length;++i)t[i]?r+=1:r=0,r==e?(a[i]=1,--r):a[i]=0;return a},this.COST=function(t,e){var a=[],i=t/100;if(i<1e-6||i>1)return a;var r=this.SymbolData.Data.Data;if(!r||r.length<=0)return a;for(var n=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:e}),s=r[0].High,o=r[0].Low,h=0;h<r.length;++h){var l=r[h];o=Math.min(o,l.Low),s=Math.max(s,l.High)}(o>2e3||o<0||s>2e3||o<0)&&this.ThrowUnexpectedNode(e,"COST() \u5386\u53f2K\u7ebf\u6700\u5927\u6700\u5c0f\u503c\u9519\u8bef, \u8d85\u51fa(0,1000)\u8303\u56f4");var u=parseInt(100*s+1),c=parseInt(100*o-1),C=0,m=0,f=0;s=u/100,o=c/100;var d=u-c+1;if(d<1)return a;var D=[],p=[];for(h=0;h<d;++h)D[h]=0,p[h]=0;var S=0,v=0,g=0,T=0;for(h=0;h<r.length;++h)if(!(h>=n.length)){if(n[h]>1){var I=r[h];S=I.Vol/n[h];for(var x=0;x<d;x++)D[x]*=1-S;C=parseInt(Math.min(u,Math.max(c,100*I.Low)))-c,m=parseInt(Math.min(u,Math.max(c,100*I.High)))-c,f=parseInt(Math.min(u,Math.max(c,100*I.Close)))-c;for(x=0;x<d;++x)p[x]=0;var A=parseInt((C+m+2*f)/4);if(A==m||A==C)p[A]+=I.Vol;else{for(var F=I.Vol/(A-C),y=C;y<A;++y)p[y]+=F/(A-C)*(y-C);for(y;y<=m;++y)p[y]+=F/(A-m)*(y-m)}for(v=0,x=C;x<=m;x++)D[x]+=p[x];for(x=0;x<d;x++)v+=D[x];for(x=0,T=g=0;x<d;++x)if(g+=D[x],g>=v*i){T=(s-o)*x/d+o;break}}a[h]=T}return a},this.WINNER=function(t,e){var a=[],i=this.SymbolData.Data.Data;if(!i||i.length<=0)return a;for(var r=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:e}),n=i[0].High,s=i[0].Low,o=0;o<i.length;++o){var h=i[o];s=Math.min(s,h.Low),n=Math.max(n,h.High)}(s>1e3||s<0||n>1e3||s<0)&&this.ThrowUnexpectedNode(e,"WINNER() \u5386\u53f2K\u7ebf\u6700\u5927\u6700\u5c0f\u503c\u9519\u8bef, \u8d85\u51fa(0,1000)\u8303\u56f4");var l=parseInt(100*n+1),u=parseInt(100*s-1),c=0,C=0,m=0;n=l/100,s=u/100;var f=l-u+1;if(f<1)return a;var d=[],D=[];for(o=0;o<f;++o)d[o]=0,D[o]=0;var p=0,S=0,v=0;for(o=0;o<i.length;++o)if(!(o>=r.length)&&r[o]>1){var g=i[o];p=g.Vol/r[o];for(var T=0;T<f;T++)d[T]*=1-p;c=parseInt(Math.min(l,Math.max(u,100*g.Low)))-u,C=parseInt(Math.min(l,Math.max(u,100*g.High)))-u,m=parseInt(Math.min(l,Math.max(u,100*g.Close)))-u;for(T=0;T<f;++T)D[T]=0;var I=parseInt((c+C+2*m)/4);if(I==C||I==c)D[I]+=g.Vol;else{for(var x=g.Vol/(I-c),A=c;A<I;++A)D[A]+=x/(I-c)*(A-c);for(A;A<=C;++A)D[A]+=x/(I-C)*(A-C)}for(S=0,T=c;T<=C;T++)d[T]+=D[T];for(T=0;T<f;T++)S+=d[T];C=Array.isArray(t)?parseInt(Math.min(100*t[o]-u,f-1)):parseInt(Math.min(100*t-u,f-1));for(T=0,v=0;T<=C;T++)v+=d[T];S>0?a[o]=v/S:o-1>=0&&(a[o]=a[o-1])}return a},this.CalculateChip=function(t,e,a,i){for(var r={Min:null,Max:null,Data:[]},n=1,s=null,o=null,h=t;h>=0;--h){var l={},u=a[h];l.Vol=h==t?u.Vol*e[h]:u.Vol*n,l.Date=u.Date,l.High=u.High,l.Low=u.Low,(null==s||s<l.High)&&(s=l.High),(null==o||o<l.Low)&&(o=l.Low),r.Data[h]=l,n*=1-e[h]/100*i}return r.Max=s,r.Min=o,r},this.UPNDAY=function(t,e){var a=[];if(e<1)return a;if(null==t||e>t.length)return a;for(var i=0,r=0;r<t.length;++r)a[r]=0,r-1<0||(this.IsNumber(t[r])&&this.IsNumber(t[r-1])?(t[r]>t[r-1]?++i:i=0,i==e&&(a[r]=1,--i)):i=0);return a},this.DOWNNDAY=function(t,e){var a=[];if(e<1)return a;if(null==t||e>t.length)return a;for(var i=0,r=0;r<t.length;++r)a[r]=0,r-1<0||(this.IsNumber(t[r])&&this.IsNumber(t[r-1])?(t[r]<t[r-1]?++i:i=0,i==e&&(a[r]=1,--i)):i=0);return a},this.NDAY=function(t,e,a){var i=[];if(a<1)return i;if(!Array.isArray(t)&&!Array.isArray(e))return i;if(null==t||null==e)return i;if(Array.isArray(t)&&Array.isArray(e)){if(a>=t.length||a>=e.length)return i;for(var r=Math.max(t.length,e.length),n=0,s=0;s<r;++s)i[s]=0,s>=t.length||s>=e.length||(this.IsNumber(t[s])&&this.IsNumber(e[s])?(t[s]>e[s]?++n:n=0,n==a&&(i[s]=1,--n)):n=0)}else if(Array.isArray(t)&&!Array.isArray(e)){if(a>=t.length||!this.IsNumber(e))return;n=0;for(var o in t)i[o]=0,this.IsNumber(t[o])?(t[o]>e?++n:n=0,n==a&&(i[o]=1,--n)):n=0}else if(!Array.isArray(t)&&Array.isArray(e)){if(a>=e.length||!this.IsNumber(t))return;n=0;for(var h in e)i[h]=0,this.IsNumber(e[h])?(t>e[h]?++n:n=0,n==a&&(i[h]=1,--n)):n=0}return i},this.LONGCROSS=function(t,e,a){for(var i=[],r=Math.max(t.length,e.length),n=0;n<r;++n)i[n]=0,n-1<0||n>=t.length||n>=e.length||this.IsNumber(t[n])&&this.IsNumber(e[n])&&this.IsNumber(t[n-1])&&this.IsNumber(e[n-1])&&t[n]>e[n]&&t[n-1]<e[n-1]&&(i[n]=1);for(var s=0,o=0;s<r;++s)if(i[s])for(o=1;o<=a&&s-o>=0;++o)if(t[s-o]>=e[s-o]){i[s]=0;break}return i},this.EXISTR=function(t,e,a){var i=[];if(!Array.isArray(t))return i;if(e=parseInt(e),a=parseInt(a),e<=0&&(e=t.length),a<=0&&(a=1),a>e)return i;i=[];for(var r=0,n=0;r<t.length;++r)if(i[r]=null,!(r-e<0||r-a<0))for(i[r]=0,n=e;n>=a;--n){var s=t[r-n];if(this.IsNumber(s)&&s){i[r]=1;break}}return i},this.RELATE=function(t,e,a){var i=[];if(a<1&&(a=1),!Array.isArray(t)||!Array.isArray(e))return i;for(var r=this.CalculateAverage(t,a),n=this.CalculateAverage(e,a),s=Math.max(t.length,e.length),o=0,h=0;o<s;++o)if(i[o]=null,!(o>=t.length||o>=e.length||o>=r.length||o>=n.length)){var l=r[o],u=n[o],c=0,C=0,m=0;for(h=o-a+1;h<=o;++h)c+=(t[h]-l)*(e[h]-u),C+=Math.pow(t[h]-l,2),m+=Math.pow(e[h]-u,2);i[o]=c/a/(Math.sqrt(C/a)*Math.sqrt(m/a))}return i},this.CalculateAverage=function(t,e){var a=[];if(e<1)return a;for(var i=0,r=0;r<t.length;++r)if(this.IsNumber(t[r]))break;for(;r<t.length&&r<e;++r){a[r]=null;var n=t[r];this.IsNumber(n)&&(i+=n)}for(a[r-1]=i/e;r<t.length;++r){n=t[r];var s=t[r-e];this.IsNumber(n)||(n=0),this.IsNumber(s)||(s=0),i=i-s+n,a[r]=i/e}return a},this.COVAR=function(t,e,a){var i=[];if(a<1&&(a=1),!Array.isArray(t)||!Array.isArray(e))return i;for(var r=this.CalculateAverage(t,a),n=this.CalculateAverage(e,a),s=Math.max(t.length,e.length),o=(s=Math.max(t.length,e.length),0),h=0;o<s;++o)if(i[o]=null,!(o>=t.length||o>=e.length||o>=r.length||o>=n.length)){var l=r[o],u=n[o],c=0;for(h=o-a+1;h<=o;++h)c+=(t[h]-l)*(e[h]-u);i[o]=c/a}return i},this.HHVBARS=function(t,e){var a=[];if(!Array.isArray(t))return a;if(Array.isArray(e))for(var i=0;i<e.length;++i){a[i]=null;var r=e[i];if(this.IsNumber(r)){var n=i-r;n<0&&(n=0);for(var s=null,o=n;o<t.length;++o)if(this.IsNumber(t[o])){s=o;break}for(var h=0;o<t.length&&h<r;++h,++o)t[o]>=t[s]&&(s=o);null!=s&&(a[i]=i-s)}}else{e<1&&(e=t.length);for(s=null,i=0;i<t.length;++i)if(a[i]=null,this.IsNumber(t[i])){s=i;break}o=0;for(i=s+1;i<t.length&&o<e;++i,++o)t[i]>=t[s]&&(s=i),e==t.length&&(a[i]=i-s);for(;i<t.length;++i){if(i-s<e)t[i]>=t[s]&&(s=i);else for(s=i-e+1,o=s;o<=i;++o)t[o]>=t[s]&&(s=o);a[i]=i-s}}return a},this.LLVBARS=function(t,e){var a=[];if(!Array.isArray(t))return a;if(Array.isArray(e))for(var i=0;i<e.length;++i){a[i]=null;var r=e[i];if(this.IsNumber(r)){var n=i-r;n<0&&(n=0);for(var s=null,o=n;o<t.length;++o)if(this.IsNumber(t[o])){s=o;break}for(var h=0;o<t.length&&h<r;++h,++o)t[o]<=t[s]&&(s=o);null!=s&&(a[i]=i-s)}}else{e<1&&(e=t.length);for(s=null,i=0;i<t.length;++i)if(a[i]=null,this.IsNumber(t[i])){s=i;break}o=0;for(i=s+1;i<t.length&&o<e;++i,++o)t[i]<=t[s]&&(s=i),e==t.length&&(a[i]=i-s);for(;i<t.length;++i){if(i-s<e)t[i]<=t[s]&&(s=i);else for(s=i-e+1,o=s;o<=i;++o)t[o]<=t[s]&&(s=o);a[i]=i-s}}return a},this.BETA=function(t){var e=[],a=this.SymbolData.Data,i=this.SymbolData.IndexData;t<=0&&(t=1);for(var r=[],n=[],s=0;s<a.Data.length;++s){r[s]=0,n[s]=0;var o=a.Data[s],h=i.Data[s];o.Close>0&&o.YClose>0&&(r[s]=(o.Close-o.YClose)/o.YClose),h.Close>0&&h.YClose>0&&(n[s]=(h.Close-h.YClose)/h.YClose)}for(var l=this.CalculateAverage(r,t),u=this.CalculateAverage(n,t),c=0,C=0;c<a.Data.length;++c)if(e[c]=null,!(c>=r.length||c>=n.length||c>=l.length||c>=u.length)){var m=l[c],f=u[c],d=0,D=0;for(C=c-t+1;C<=c;++C){var p=n[C]-f,S=r[C]-m;d+=p*S,D+=p*p}this.IsDivideNumber(D)&&this.IsNumber(d)&&(e[c]=d/D)}return e},this.BETA2=function(t,e,a){var i=[];a<=0&&(a=1);for(var r=[null],n=[null],s=Math.max(t.length,e.length),o={X:t[0],Y:e[0]},h=1;h<s;++h){r[h]=0,n[h]=0;var l=t[h],u=e[h];o.X>0&&(r[h]=(l-o.X)/o.X),o.Y>0&&(n[h]=(u-o.Y)/o.Y),o={X:l,Y:u}}for(var c=this.CalculateAverage(r,a),C=this.CalculateAverage(n,a),m=(h=0,0);h<s;++h)if(i[h]=null,!(h>=r.length||h>=n.length||h>=c.length||h>=C.length)){var f=c[h],d=C[h],D=0,p=0;for(m=h-a+1;m<=h;++m){var S=r[m]-f,v=n[m]-d;D+=S*v,p+=S*S}this.IsDivideNumber(p)&&this.IsNumber(D)&&(i[h]=D/p)}return i},this.SAR=function(t,e,a){var i=[],r=this.SymbolData.Data;if(t>=r.Data.length)return i;for(var n=null,s=null,o=0;o<t;++o){var h=r.Data[o];null==n?n=h.High:n<h.High&&(n=h=n),(null==s||s>h.Low)&&(s=h.Low)}var l=0,u=1,c=l;i[t-1]=s;var C=s,m=r.Data[0].High,f=a/100;for(o=t;o<r.Data.length;++o){var d=m,D=(h=r.Data[o],r.Data[o-1]);c==l?h.Low<i[o-1]?(c=u,m=h.Low,f=e/100,C=Math.max(h.High,D.High),C=Math.max(C,d+f*(m-d))):(c=l,h.High>d&&(m=h.High,f=Math.min(f+e/100,a/100)),C=Math.min(h.Low,D.Low),C=Math.min(C,i[o-1]+f*(m-i[o-1]))):c==u&&(h.High>i[o-1]?(c=l,m=h.High,f=e/100,C=Math.min(h.Low,D.Low),C=Math.min(C,i[o-1]+f*(m-d))):(c=u,h.Low<d&&(m=h.Low,f=Math.min(f+e/100,a/100)),C=Math.max(h.High,D.High),C=Math.max(C,i[o-1]+f*(m-i[o-1])))),i[o]=C}return i},this.SARTURN=function(t,e,a){var i=[],r=this.SAR(t,e,a),n=this.SymbolData.Data,s=0;for(s=0;s<r.length;++s)if(this.IsNumber(r[s]))break;var o=0;s<n.Data.length&&(o=n.Data[s].Close>r[s]);for(var h=s+1;h<n.Data.length;++h){var l=n.Data[h];l.Close<r[h]&&o?i[h]=-1:i[h]=l.Close>r[h]&&!o?1:0,o=l.Close>r[h]}return i},this.BACKSET=function(t,e){var a=[];if(!t)return a;var i=t.length;if(!this.IsNumber(i)||i<=0)return a;if(Array.isArray(e)){for(var r=0;r<i;++r)a[r]=0;for(r=0;r<i;++r){var n=t[r],s=e[r];if(this.IsNumber(n)&&n&&this.IsNumber(s))for(var o=r,h=0;o>=0&&h<s;--o,++h)a[o]=1}}else{for(r=0;r<i;++r)a[r]=0;for(var l=0;l<i;++l)if(this.IsNumber(t[l]))break;if(l==i)return a;var u=Math.min(i-l,Math.max(e,1));for(r=i-1,o=0;r>=0;--r){n=t[r];if(this.IsNumber(n)&&n)for(o=r;o>r-u;--o)a[o]=1}if(t[r])for(o=r;o>=l;--o)a[o]=1}return a},this.STRCAT=function(t,e){var a=[];return this.IsString(t)&&this.IsString(e)&&(a=t+e),a},this.VARCAT=function(t,e){var a=[];if(Array.isArray(t)&&Array.isArray(e))for(var i=Math.max(t.length,e.length),r="",n=0;n<i;++n){if(a[n]=null,r="",n<t.length){var s=t[n];this.IsString(s)&&(r+=s)}if(n<e.length){s=e[n];this.IsString(s)&&(r+=s)}""!=r&&(a[n]=r)}else if(this.IsString(t)&&Array.isArray(e))for(n=0;n<e.length;++n){a[n]=null;s=e[n];this.IsString(s)&&(a[n]=t+s)}else if(Array.isArray(t)&&this.IsString(e))for(n=0;n<t.length;++n){a[n]=null;s=t[n];this.IsString(s)&&(a[n]=s+e)}else this.IsString(t)&&this.IsString(e)&&(a=t+e);return a},this.STRSPACE=function(t){var e=[];if(Array.isArray(t))for(var a=0;a<t.length;++a){e[a]=null;var i=t[a];TouchList.IsString(i)&&(e[a]=i+" ")}else this.IsString(t)&&(e=t+" ");return e},this.CON2STR=function(t,e){var a=[];if(Array.isArray(t))for(var i=t.length-1;i>=0;--i){var r=t[i];if(this.IsNumber(r))return a=r.toFixed(e),a}else this.IsNumber(t)&&(a=t.toFixed(e));return a},this.VAR2STR=function(t,e){var a=[];if(Array.isArray(t))for(var i=0;i<t.length;++i){a[i]=null;var r=t[i];this.IsNumber(r)&&(a[i]=r.toFixed(e))}else this.IsNumber(t)&&(a=t.toFixed(e));return a},this.ZTPRICE=function(t,e){if(!this.IsNumber(e))return null;if(Array.isArray(t)){var a=[];for(var i in t){var r=t[i];this.IsNumber(r)?a[i]=(1+e)*r:a[i]=null}return a}if(this.IsNumber(t)){a=(1+e)*t;return a}},this.DTPRICE=function(t,e){if(!this.IsNumber(e))return null;if(Array.isArray(t)){var a=[];for(var i in t){var r=t[i];this.IsNumber(r)?a[i]=(1-e)*r:a[i]=null}return a}if(this.IsNumber(t)){a=(1-e)*t;return a}},this.FRACPART=function(t){if(Array.isArray(t)){var e=[],a=0;for(var i in t){var r=t[i];this.IsNumber(r)?(a=parseInt(r),e[i]=r-a):e[i]=null}return e}if(this.IsNumber(t)){a=parseInt(t);e=t-a;return e}},this.BARSLASTCOUNT=function(t){var e=null;if(Array.isArray(t)){if(e=[],t.length>0)for(var a=0,i=t.length-1;i>=0;--i){a=0;for(var r=i;r>=0;--r){if(!t[r])break;++a}e[i]=a}}else e=t?1:0;return e},this.INTPART=function(t){var e=null;if(Array.isArray(t))for(var a in e=[],t){var i=t[a];this.IsNumber(i)?e[a]=parseInt(i):e[a]=null}else this.IsNumber(t)&&(e=parseInt(t));return e},this.CallFunction=function(t,e,a){switch(t){case"MAX":return this.MAX(e[0],e[1]);case"MIN":return this.MIN(e[0],e[1]);case"REF":return this.REF(e[0],e[1]);case"REFV":return this.REFV(e[0],e[1]);case"REFX":return this.REFX(e[0],e[1]);case"REFXV":return this.REFXV(e[0],e[1]);case"ABS":return this.ABS(e[0]);case"MA":return this.MA(e[0],e[1]);case"EMA":return this.EMA(e[0],e[1]);case"SMA":return this.SMA(e[0],e[1],e[2]);case"DMA":return this.DMA(e[0],e[1]);case"XMA":return this.XMA(e[0],e[1]);case"EXPMA":return this.EXPMA(e[0],e[1]);case"EXPMEMA":return this.EXPMEMA(e[0],e[1]);case"COUNT":return this.COUNT(e[0],e[1]);case"LLV":return this.LLV(e[0],e[1]);case"LLVBARS":return this.LLVBARS(e[0],e[1]);case"HHV":return this.HHV(e[0],e[1]);case"HHVBARS":return this.HHVBARS(e[0],e[1]);case"MULAR":return this.MULAR(e[0],e[1]);case"CROSS":return this.CROSS(e[0],e[1]);case"LONGCROSS":return this.LONGCROSS(e[0],e[1],e[2]);case"AVEDEV":return this.AVEDEV(e[0],e[1]);case"STD":return this.STD(e[0],e[1]);case"IF":case"IFF":return this.IF(e[0],e[1],e[2]);case"IFN":return this.IFN(e[0],e[1],e[2]);case"NOT":return this.NOT(e[0]);case"SUM":return this.SUM(e[0],e[1]);case"RANGE":return this.RANGE(e[0],e[1],e[2]);case"EXIST":return this.EXIST(e[0],e[1]);case"EXISTR":return this.EXISTR(e[0],e[1],e[2]);case"FILTER":return this.FILTER(e[0],e[1]);case"TFILTER":return this.TFILTER(e[0],e[1],e[2]);case"SLOPE":return this.SLOPE(e[0],e[1]);case"BARSLAST":return this.BARSLAST(e[0]);case"BARSCOUNT":return this.BARSCOUNT(e[0]);case"BARSSINCEN":return this.BARSSINCEN(e[0],e[1]);case"BARSSINCE":return this.BARSSINCE(e[0]);case"LAST":return this.LAST(e[0],e[1],e[2]);case"EVERY":return this.EVERY(e[0],e[1]);case"ZIG":return this.ZIG(e[0],e[1]);case"TROUGHBARS":return this.TROUGHBARS(e[0],e[1],e[2]);case"TROUGH":return this.TROUGH(e[0],e[1],e[2]);case"PEAKBARS":return this.PEAKBARS(e[0],e[1],e[2]);case"PEAK":return this.PEAK(e[0],e[1],e[2]);case"COST":return this.COST(e[0],a);case"WINNER":return this.WINNER(e[0],a);case"UPNDAY":return this.UPNDAY(e[0],e[1]);case"DOWNNDAY":return this.DOWNNDAY(e[0],e[1]);case"NDAY":return this.NDAY(e[0],e[1],e[2]);case"DEVSQ":return this.DEVSQ(e[0],e[1]);case"FORCAST":return this.FORCAST(e[0],e[1]);case"STDP":return this.STDP(e[0],e[1]);case"VAR":return this.VAR(e[0],e[1]);case"VARP":return this.VARP(e[0],e[1]);case"RELATE":return this.RELATE(e[0],e[1],e[2]);case"COVAR":return this.COVAR(e[0],e[1],e[2]);case"BETA":return this.BETA(e[0]);case"BETA2":return this.BETA2(e[0],e[1],e[2]);case"WMA":return this.WMA(e[0],e[1]);case"MEMA":return this.MEMA(e[0],e[1]);case"SUMBARS":return this.SUMBARS(e[0],e[1]);case"REVERSE":return this.REVERSE(e[0]);case"SAR":return this.SAR(e[0],e[1],e[2]);case"SARTURN":return this.SARTURN(e[0],e[1],e[2]);case"BACKSET":return this.BACKSET(e[0],e[1]);case"STRCAT":return this.STRCAT(e[0],e[1]);case"VARCAT":return this.VARCAT(e[0],e[1]);case"VAR2STR":return this.VAR2STR(e[0],e[1]);case"CON2STR":return this.CON2STR(e[0],e[1]);case"STRSPACE":return this.STRSPACE(e[0]);case"DTPRICE":return this.DTPRICE(e[0],e[1]);case"ZTPRICE":return this.ZTPRICE(e[0],e[1]);case"FRACPART":return this.FRACPART(e[0]);case"BARSLASTCOUNT":return this.BARSLASTCOUNT(e[0]);case"INTPART":return this.INTPART(e[0]);case"ATAN":return this.Trigonometric(e[0],Math.atan);case"ACOS":return this.ACOS(e[0]);case"ASIN":return this.ASIN(e[0]);case"COS":return this.Trigonometric(e[0],Math.cos);case"SIN":return this.Trigonometric(e[0],Math.sin);case"TAN":return this.Trigonometric(e[0],Math.tan);case"LN":return this.Trigonometric(e[0],Math.log);case"LOG":return this.Trigonometric(e[0],Math.log10);case"EXP":return this.Trigonometric(e[0],Math.exp);case"SQRT":return this.Trigonometric(e[0],Math.sqrt);default:this.ThrowUnexpectedNode(a,"\u51fd\u6570"+t+"\u4e0d\u5b58\u5728")}},this.CallCustomFunction=function(t,e,a,i){var n=c.CustomFunction.Data.get(t),s=a.GetStockCacheData({CustomName:t,Node:i});if(!n.Invoke)return{Out:s};r.JSConsole.Complier.Log("[JSAlgorithm::CallCustomFunction] call custom function functionInfo=",n);var o=this,h={Name:t,Args:e,Symbol:a.Symbol,Period:a.Period,Right:a.Right,KData:a.Data,DownloadData:s,ThrowError:function(t){o.ThrowUnexpectedNode(i,t)}};return n.Invoke(h)},this.ThrowUnexpectedNode=function(t,e){var a=t.Marker,i=e||"\u6267\u884c\u5f02\u5e38";return this.ErrorHandler.ThrowError(a.Index,a.Line,a.Column,i)}}function x(t,e){this.ErrorHandler=t,this.SymbolData=e,this.DRAWTEXT=function(t,e,a){var i=[],r={DrawData:i,DrawType:"DRAWTEXT",Text:a};if(Array.isArray(t)){var n=this.IsNumber(e);for(var s in t)i[s]=null,!isNaN(t[s])&&t[s]&&(n?i[s]=e:this.IsNumber(e[s])&&(i[s]=e[s]))}else if(this.IsNumber(t)&&t)for(n=this.IsNumber(e),s=0;s<this.SymbolData.Data.Data.length;++s)n?i[s]=e:this.IsNumber(e[s])&&(i[s]=e[s]);return r},this.DRAWTEXT_FIX=function(t,e,a,i,r){var n={Position:null,DrawType:"DRAWTEXT_FIX",Text:r};if(t.length<=0)return n;for(var s in t)if(!isNaN(t[s])&&t[s])return n.Position={X:e,Y:a,Type:i},n;return n},this.SUPERDRAWTEXT=function(t,e,a,i,r){var n=[],s={DrawData:n,DrawType:"SUPERDRAWTEXT",Text:a,YOffset:r,Direction:i,TextAlign:"center"};if(t.length<=0)return s;var o="number"==typeof e;for(var h in t)n[h]=null,!isNaN(t[h])&&t[h]&&(o?n[h]=e:this.IsNumber(e[h])&&(n[h]=e[h]));return s},this.STICKLINE=function(t,e,a,i,r){var n=[],s={DrawData:n,DrawType:"STICKLINE",Width:i,Type:r},o="number"==typeof e,h="number"==typeof a;if(Array.isArray(t)){if(t.length<=0)return s;for(var l in t)if(n[l]=null,!isNaN(t[l])&&t[l])if(o&&h)n[l]={Value:e,Value2:a};else if(o&&!h){if(isNaN(a[l]))continue;n[l]={Value:e,Value2:a[l]}}else if(!o&&h){if(isNaN(e[l]))continue;n[l]={Value:e[l],Value2:a}}else{if(isNaN(e[l])||isNaN(a[l]))continue;n[l]={Value:e[l],Value2:a[l]}}}else{if(!t)return s;for(l=0;l<this.SymbolData.Data.Data.length;++l)if(n[l]=null,o&&h)n[l]={Value:e,Value2:a};else if(o&&!h){if(!this.IsNumber(a[l]))continue;n[l]={Value:e,Value2:a[l]}}else if(!o&&h){if(!this.IsNumber(e[l]))continue;n[l]={Value:e[l],Value2:a}}else{if(!this.IsNumber(e[l])||!this.IsNumber(a[l]))continue;n[l]={Value:e[l],Value2:a[l]}}}return s},this.DRAWLINE=function(t,e,a,i,r){var n=[],s={DrawData:n,DrawType:"DRAWLINE",Expand:r};if(t.length<=0)return s;for(var o=Math.max(t.length,a.length),h=!1,l=!1,u={Start:{},End:{},List:new Array},c=0;c<o;++c)if(n[c]=null,c<t.length&&c<a.length){if(0==h&&0==l){if(null==t[c]||!t[c])continue;h=!0,u.Start={ID:c,Value:e[c]}}else if(1==h&&0==l){var C=null!=a[c]&&a[c];if(!C)continue;C&&(l=!0,u.End={ID:c,Value:i[c]})}if(1==h&&1==l){var m=this.CalculateDrawLine(u);for(var f in m){var d=m[f];n[d.ID]=d.Value}h=l=!1,u={Start:{},End:{}}}}if(1==r){for(var D=null,p=n.length-1;p>=0;--p)if(this.IsNumber(n[p])){D=p;break}if(null!=D&&D-1>=0){var S=D-1;for(p=D+1;p<n.length;++p){var v=n[S],g=n[D],T=(v-g)*(p-S)/(D-S);n[p]=v-T}}}return s},this.DRAWBAND=function(t,e,a,i){for(var r=[],n={DrawData:r,DrawType:"DRAWBAND",Color:[e.toLowerCase(),i.toLowerCase()]},s=Math.max(t.length,a.length),o=0;o<s;++o){var h={Value:null,Value2:null};o<t.length&&(h.Value=t[o]),o<a.length&&(h.Value2=a[o]),r.push(h)}return n},this.DRAWKLINE=function(t,e,a,i){for(var r=[],n={DrawData:r,DrawType:"DRAWKLINE"},s=Math.max(t.length,e.length,a.length,i.length),o=0;o<s;++o){var h={Open:null,High:null,Low:null,Close:null};o<t.length&&o<e.length&&o<a.length&&o<i.length&&(h.Open=e[o],h.High=t[o],h.Low=a[o],h.Close=i[o]),r[o]=h}return n},this.DRAWKLINE_IF=function(t,e,a,i,r){for(var n=[],s={DrawData:n,DrawType:"DRAWKLINE_IF"},o=Math.max(t.length,e.length,a.length,i.length,r.length),h=0;h<o;++h){var l={Open:null,High:null,Low:null,Close:null};h<e.length&&h<a.length&&h<i.length&&h<r.length&&h<t.length&&t[h]&&(l.Open=a[h],l.High=e[h],l.Low=i[h],l.Close=r[h]),n[h]=l}return s},this.POLYLINE=function(t,e){var a=[],i={DrawData:a,DrawType:"POLYLINE"},r="number"==typeof e,n=!1,s=!1;if(r)for(var o in t)if(a[o]=null,0==n){if(!t[o])continue;a[o]=e,n=!0}else a[o]=e;else{var h={Start:{},End:{},List:new Array};for(var l in t)if(a[l]=null,0==n&&0==s){if(null==t[l]||!t[l])continue;if(l>=e.length||!this.IsNumber(e[l]))continue;n=!0,h.Start={ID:parseInt(l),Value:e[l]}}else if(1==n&&0==s){if(null==t[l]||!t[l])continue;if(l>=e.length||!this.IsNumber(e[l]))continue;h.End={ID:parseInt(l),Value:e[l]};var u=this.CalculateDrawLine(h);for(var c in u){var C=u[c];a[C.ID]=C.Value}var m={ID:h.End.ID,Value:h.End.Value};h={Start:m,End:{}}}}return i},this.DRAWNUMBER=function(t,e,a){var i,r={Value:new Array,Text:new Array},n={DrawData:r,DrawType:"DRAWNUMBER"},s=Array.isArray(e),o="number"==typeof a;for(var h in o&&(i=this.IsInteger(a)?a.toString():a.toFixed(2)),t)if(r.Value[h]=null,t[h])if(s){if(h>=e.length||!this.IsNumber(e[h]))continue;if(o)r.Value[h]=e[h],r.Text[h]=i;else{if(h>=a.length||!a[h])continue;r.Value[h]=e[h],"number"==typeof a[h]?r.Text[h]=a[h].toFixed(2):r.Text[h]=a[h].toString()}}else if(this.IsNumber(e))if(o)r.Value[h]=e,r.Text[h]=i;else{if(h>=a.length||!a[h])continue;r.Value[h]=e,this.IsNumber(a[h])?r.Text[h]=a[h].toFixed(2):r.Text[h]=a[h].toString()}return n},this.DRAWICON=function(t,e,a){var i=new Map([[1,{Symbol:"\u2191",Color:"rgb(238,44,44)"}],[2,{Symbol:"\u2193",Color:"rgb(0,139,69)"}],[3,{Symbol:"\ud83d\ude27"}],[4,{Symbol:"\ud83d\ude28"}],[5,{Symbol:"\ud83d\ude01"}],[6,{Symbol:"\ud83d\ude31"}],[7,{Symbol:"\u25fc",Color:"rgb(238,44,44)"}],[8,{Symbol:"\u25c6",Color:"rgb(0,139,69)"}],[9,{Symbol:"\ud83d\udcb0"}],[10,{Symbol:"\ud83d\udcea"}],[11,{Symbol:"\ud83d\udc46"}],[12,{Symbol:"\ud83d\udc47"}],[13,{Symbol:"B",Color:"rgb(178,34,34)"}],[14,{Symbol:"S",Color:"rgb(0,139,69)"}],[36,{Symbol:"\u03a7",Color:"rgb(238,44,44)"}],[37,{Symbol:"X",Color:"rgb(0,139,69)"}],[38,{Symbol:"\u25b2",Color:"rgb(238,44,44)"}],[39,{Symbol:"\u25bc",Color:"rgb(0,139,69)"}]]),r=i.get(a);r||(r={Symbol:"\u25cf",Color:"rgb(0,139,69)"});var n=[],s={DrawData:n,DrawType:"DRAWICON",Icon:r};if(t.length<=0)return s;var o="number"==typeof e;if("number"==typeof t){if(!t)return s;for(var h=0;h<this.SymbolData.Data.Data.length;++h)o?n[h]=e:h<e.length&&this.IsNumber(e[h])?n[h]=e[h]:n[h]=null;return s}for(var h in t)n[h]=null,t[h]&&(o?n[h]=e:this.IsNumber(e[h])&&(n[h]=e[h]));return s},this.DRAWRECTREL=function(t,e,a,i,r){var n={Rect:{Left:t,Top:e,Right:a,Bottom:i},Color:r};0==r&&(n.Color=null);var s={DrawData:n,DrawType:"DRAWRECTREL"};return s},this.DRAWGBK=function(t,e,a,i){var r={Color:[],Angle:i};e&&r.Color.push(e),a&&r.Color.push(a);var n={DrawData:null,DrawType:"DRAWGBK"};if(Array.isArray(t))for(var s in t){var o=t[s];if(o){n.DrawData=r;break}}else t&&(n.DrawData=r);return n},this.DRAWGBK2=function(t,e,a,i){var r={Color:[],Angle:i};e&&r.Color.push(e),a&&r.Color.push(a);var n={DrawData:null,DrawType:"DRAWGBK2"};if(Array.isArray(t)){for(var s in r.Data=[],t){var o=t[s];r.Data[s]=o?1:0}n.DrawData=r}else t&&(n.DrawData=r,n.DrawType="DRAWGBK");return n},this.RGB=function(t,e,a){var i="rgb(".concat(t,",").concat(e,",").concat(a,")");return i},this.RGBA=function(t,e,a,i){var r="rgba(".concat(t,",").concat(e,",").concat(a,",").concat(i,")");return r}}I.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},I.prototype.IsInteger=function(t){return"number"===typeof t&&t%1===0},I.prototype.IsDivideNumber=function(t){return null!=t&&(!isNaN(t)&&0!=t)},I.prototype.IsString=function(t){return!(!t||"string"!=typeof t)},x.prototype.CalculateDrawLine=function(t){t.List=[];for(var e=t.Start.ID;e<=t.End.ID;++e)t.List.push(e);var a=Math.abs(t.Start.Value-t.End.Value),i=t.List.length-1,r=[];if(r.push({ID:t.Start.ID,Value:t.Start.Value}),t.Start.Value>t.End.Value)for(var n=1;n<t.List.length-1;++n){var s=a*(t.List.length-1-n)/i+t.End.Value;r.push({ID:t.List[n],Value:s})}else for(var o=1;o<t.List.length-1;++o){s=a*o/i+t.Start.Value;r.push({ID:t.List[o],Value:s})}return r.push({ID:t.End.ID,Value:t.End.Value}),r},x.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},x.prototype.IsInteger=function(t){return"number"===typeof t&&t%1===0},x.prototype.IsDrawFunction=function(t){var e=new Set(["STICKLINE","DRAWTEXT","SUPERDRAWTEXT","DRAWTEXT_FIX","DRAWLINE","DRAWBAND","DRAWKLINE","DRAWKLINE_IF","PLOYLINE","POLYLINE","DRAWNUMBER","DRAWICON","DRAWRECTREL","DRAWGBK","DRAWGBK2"]);return!!e.has(t)};var A={YCLOSE:3,OPEN:4,HIGH:5,LOW:6,CLOSE:7,VOL:8,AMOUNT:10,AMPLITUDE:13,INCREASE:14,EXCHANGERATE:37};function F(t,a,i){this.AST=t,this.Execute=i,this.Symbol="600000.sh",this.Name,this.Data=null,this.SourceData=null,this.MarketValue=null,this.Period=0,this.Right=0,this.DataType=0,this.KLineApiUrl=c.Domain+"/API/KLine2",this.MinuteKLineApiUrl=c.Domain+"/API/KLine3",this.RealtimeApiUrl=c.Domain+"/API/stock",this.StockHistoryDayApiUrl=c.Domain+"/API/StockHistoryDay",this.StockHistoryDay3ApiUrl=c.Domain+"/API/StockHistoryDay3",this.StockNewsAnalysisApiUrl=c.CacheDomain+"/cache/newsanalyze",this.MaxReqeustDataCount=1e3,this.MaxRequestMinuteDayCount=5,this.LatestData,this.IndexData,this.MarginData=new Map,this.NewsAnalysisData=new Map,this.ExtendData=new Map,this.StockData=new Map,this.NetworkFilter,a&&(a.HQDataType&&(this.DataType=a.HQDataType),a.Data&&(this.Data=a.Data,2!=this.DataType&&(this.Period=a.Data.Period,this.Right=a.Data.Right)),a.SourceData&&(this.SourceData=a.SourceData),a.Symbol&&(this.Symbol=a.Symbol),a.Symbol&&(this.Symbol=a.Symbol),a.MaxReqeustDataCount>0&&(this.MaxReqeustDataCount=a.MaxReqeustDataCount),a.MaxRequestMinuteDayCount>0&&(this.MaxRequestMinuteDayCount=a.MaxRequestMinuteDayCount),a.KLineApiUrl&&(this.KLineApiUrl=a.KLineApiUrl),a.NetworkFilter&&(this.NetworkFilter=a.NetworkFilter)),this.GetLatestData=function(){if(this.LatestData)return this.Execute.RunNextJob();var t=this;e.request({url:t.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","exchangerate","amplitude"],symbol:[this.Symbol]},method:"POST",dataType:"json",success:function(e){t.RecvLatestData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})},this.RecvLatestData=function(t){var e=t.data;if(e.stock&&1==e.stock.length){var a=e.stock[0];this.LatestData={Symbol:a.symbol,Name:a.name,Date:a.date,Time:a.time,YClose:a.yclose,Price:a.price,Open:a.open,High:a.high,Low:a.low,Vol:a.vol,Amount:a.amount,Increase:a.increase,Exchangerate:a.exchangerate,Amplitude:a.amplitude},r.JSConsole.Complier.Log("[JSSymbolData::RecvLatestData]",this.LatestData)}},this.GetLatestCacheData=function(t){if(!this.LatestData)return null;switch(t){case A.YCLOSE:return this.LatestData.YClose;case A.OPEN:return this.LatestData.Open;case A.HIGH:return this.LatestData.High;case A.LOW:return this.LatestData.Low;case A.VOL:return this.LatestData.Vol;case A.AMOUNT:return this.LatestData.Amount;case A.INCREASE:return this.LatestData.Increase;case A.EXCHANGERATE:return this.LatestData.Exchangerate;case A.AMPLITUDE:return this.LatestData.Amplitude;case A.CLOSE:return this.LatestData.Price;default:return null}},this.GetVolRateData=function(t,a){var i=t.ID.toString()+"-VolRate-"+this.Symbol;if(this.ExtendData.has(i))return this.Execute.RunNextJob();var r=this;e.request({url:r.RealtimeApiUrl,data:{field:["name","symbol","avgvol5","date"],symbol:[this.Symbol]},method:"POST",dataType:"json",async:!0,success:function(t){r.RecvVolRateData(t,i),r.Execute.RunNextJob()},error:function(t){r.RecvError(t)}})},this.RecvVolRateData=function(t,e){var a=t.data;if(a.stock&&1==a.stock.length){var i=a.stock[0].avgvol5,n=a.stock[0].date,s={AvgVol5:i,Date:n};this.ExtendData.set(e,s),r.JSConsole.Complier.Log("[JSSymbolData::RecvVolRateData]",s)}},this.GetVolRateCacheData=function(t){var e=L.JOB_DOWNLOAD_VOLR_DATA.toString()+"-VolRate-"+this.Symbol;e&&this.ExtendData.has(e)||this.Execute.ThrowUnexpectedNode(t,"\u4e0d\u652f\u6301VOLR");for(var a=[],i=this.ExtendData.get(e),r=i.AvgVol5/241,n=0,s=0,o=0;s<this.Data.Data.length;++s){a[s]=null;var h=this.Data.Data[s],l=h.DateTime;if(l){var u=l.split(" ");if(2==u.length){var c=parseInt(u[0]);c==i.Date&&(n+=h.Vol,r>0&&(a[s]=n/(o+1)/r*100),++o)}}}return a},this.GetGroupData=function(t){var a=t.ID.toString()+"-Group-"+this.Symbol;if(this.ExtendData.has(a))return this.Execute.RunNextJob();var i=this;if(this.NetworkFilter){var r={Name:"JSSymbolData::GetGroupData",Explain:"HYBLOCK|DYBLOCK",Request:{Url:i.RealtimeApiUrl,Type:"POST",Data:{symbol:[this.Symbol],field:["name","symbol","industry","concept","region"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,(function(t){i.RecvGroupData(t,a),i.Execute.RunNextJob()})),1==r.PreventDefault)return}e.request({url:i.RealtimeApiUrl,data:{field:["name","symbol","industry","concept","region"],symbol:[this.Symbol]},method:"POST",dataType:"json",async:!0,success:function(t){i.RecvGroupData(t,a),i.Execute.RunNextJob()},error:function(t){i.RecvError(t)}})},this.RecvGroupData=function(t,e){var a=t.data;if(a.stock&&1==a.stock.length){var i=a.stock[0],r=i.industry,n=i.concept,s=i.region,o={Industry:[],Concept:[],Region:[]};if(r)for(var h in r){var l=r[h];o.Industry.push({Name:l.name,Symbol:l.symbol});break}if(n)for(var h in n){l=n[h];o.Concept.push({Name:l.name,Symbol:l.symbol})}if(s)for(var h in s){l=s[h];o.Region.push({Name:l.name,Symbol:l.symbol})}this.ExtendData.set(e,o)}},this.GetIndexData=function(){if(this.IndexData)return this.Execute.RunNextJob();var t=this;n.JSCommonData.ChartData.IsDayPeriod(this.Period,!0)?e.request({url:t.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","up","down","stop","unchanged"],symbol:"000001.sh",start:-1,count:t.MaxReqeustDataCount+500},method:"POST",dataType:"json",success:function(e){t.RecvIndexHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}}):n.JSCommonData.ChartData.IsMinutePeriod(this.Period,!0)&&e.request({url:t.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:"000001.sh",start:-1,count:t.MaxRequestMinuteDayCount+5},method:"POST",dataType:"json",success:function(e){t.RecvIndexMinuteHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})},this.RecvIndexHistroyData=function(t){var e=t.data;r.JSConsole.Complier.Log("[JSSymbolData::RecvIndexHistroyData] recv data",e);var a=this.JsonDataToHistoryData(e);this.IndexData=new n.JSCommonData.ChartData,this.IndexData.DataType=0,this.IndexData.Data=a;var i=this.SourceData.GetOverlayData(this.IndexData.Data);if(this.IndexData.Data=i,n.JSCommonData.ChartData.IsDayPeriod(this.Period,!1)){var s=this.IndexData.GetPeriodData(this.Period);this.IndexData.Data=s}},this.RecvIndexMinuteHistroyData=function(t){var e=t.data;r.JSConsole.Complier.Log("[JSSymbolData::RecvIndexMinuteHistroyData] recv data",e);var a=this.JsonDataToMinuteHistoryData(e);if(this.IndexData=new n.JSCommonData.ChartData,this.IndexData.DataType=1,this.IndexData.Data=a,n.JSCommonData.ChartData.IsMinutePeriod(this.Period,!1)){var i=this.IndexData.GetPeriodData(this.Period);this.IndexData.Data=i}},this.GetIndexCacheData=function(t){if(!this.IndexData)return new Array;switch(t){case"INDEXA":return this.IndexData.GetAmount();case"INDEXC":return this.IndexData.GetClose();case"INDEXH":return this.IndexData.GetHigh();case"INDEXL":return this.IndexData.GetLow();case"INDEXO":return this.IndexData.GetOpen();case"INDEXV":return this.IndexData.GetVol();case"INDEXADV":return this.IndexData.GetUp();case"INDEXDEC":return this.IndexData.GetDown()}},this.GetIndexIncreaseData=function(t){var a=t.ID.toString()+"-UpCount-"+t.Symbol,i=t.ID.toString()+"-DownCount-"+t.Symbol;if(this.ExtendData.has(a)&&this.ExtendData.has(i))return this.Execute.RunNextJob();var n=t.Symbol;n=n.replace(".CI",".ci");var s=this,o=c.CacheDomain+"/cache/analyze/increaseanalyze/"+n+".json";r.JSConsole.Complier.Log("[JSSymbolData::GetIndexIncreaseData] Get url=",o),e.request({url:o,method:"GET",dataType:"json",success:function(t){s.RecvMinuteIncreaseData(t,{UpKey:a,DownKey:i}),s.Execute.RunNextJob()},error:function(t){s.RecvError(t)}})},this.RecvMinuteIncreaseData=function(t,e){r.JSConsole.Complier.Log("[JSSymbolData::RecvMinuteIncreaseData] recv data",t);var a=t.data;if(a.minute){var i=a.minute;if(i.time&&i.up&&i.down){for(var n=[],s=[],o=0;o<i.time.length;++o)n[o]=i.up[o],s[o]=i.down[o];this.ExtendData.set(e.UpKey,n),this.ExtendData.set(e.DownKey,s)}}},this.GetIndexIncreaseCacheData=function(t,e,a){var i;return"UPCOUNT"==t?i=L.JOB_DOWNLOAD_INDEX_INCREASE_DATA.toString()+"-UpCount-"+e:"DOWNCOUNT"==t&&(i=L.JOB_DOWNLOAD_INDEX_INCREASE_DATA.toString()+"-DownCount-"+e),i&&this.ExtendData.has(i)||this.Execute.ThrowUnexpectedNode(a,"\u4e0d\u652f\u6301\u51fd\u6570"+t+"("+e+")"),this.ExtendData.get(i)},this.GetSymbolData=function(){if(this.Data)return this.Execute.RunNextJob();var t=this;2!==this.DataType?n.JSCommonData.ChartData.IsDayPeriod(this.Period,!0)?e.request({url:t.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxReqeustDataCount},method:"POST",dataType:"json",async:!0,success:function(e){t.RecvHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}}):n.JSCommonData.ChartData.IsMinutePeriod(this.Period,!0)&&e.request({url:this.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestMinuteDayCount},method:"POST",dataType:"json",async:!0,success:function(e){t.RecvMinuteHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}}):e.request({url:t.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","minute","time","minutecount"],symbol:[t.Symbol],start:-1},method:"POST",dataType:"json",async:!0,success:function(e){t.RecvMinuteData(e),t.Execute.RunNextJob()}})},this.RecvHistroyData=function(t){var e=t.data;r.JSConsole.Complier.Log("[JSSymbolData::RecvHistroyData] recv data",e);var a=this.JsonDataToHistoryData(e);if(this.Data=new n.JSCommonData.ChartData,this.Data.DataType=0,this.Data.Data=a,this.SourceData=new n.JSCommonData.ChartData,this.SourceData.Data=a,this.Right>0){var i=this.Data.GetRightDate(this.Right);this.Data.Data=i}if(n.JSCommonData.ChartData.IsDayPeriod(this.Period,!1)){var s=this.Data.GetPeriodData(this.Period);this.Data.Data=s}this.Name=e.name},this.RecvMinuteHistroyData=function(t){var e=t.data;r.JSConsole.Complier.Log("[JSSymbolData::RecvMinuteHistroyData] recv data",e);var a=this.JsonDataToMinuteHistoryData(e);if(this.Data=new n.JSCommonData.ChartData,this.Data.DataType=1,this.Data.Data=a,this.SourceData=new n.JSCommonData.ChartData,this.SourceData.Data=a,n.JSCommonData.ChartData.IsMinutePeriod(this.Period,!1)){var i=this.Data.GetPeriodData(this.Period);this.Data.Data=i}this.Name=e.name},this.RecvMinuteData=function(t){var e=t.data;r.JSConsole.Complier.Log("[JSSymbolData::RecvMinuteData] recv data",e);var a=this.JsonDataToMinuteData(e);this.Data=new n.JSCommonData.ChartData,this.Data.DataType=2,this.Data.Data=a,this.Name=e.stock[0].name},this.GetSymbolCacheData=function(t){if(!this.Data)return new Array;switch(t){case"CLOSE":case"C":return this.Data.GetClose();case"VOL":case"V":return this.Data.GetVol();case"OPEN":case"O":return this.Data.GetOpen();case"HIGH":case"H":return this.Data.GetHigh();case"LOW":case"L":return this.Data.GetLow();case"AMOUNT":case"AMO":return this.Data.GetAmount();case"VOLINSTK":return this.Data.GetPosition()}},this.GetCurrBarsCount=function(){if(!this.Data||!this.Data.Data||!this.Data.Data.length)return new Array;for(var t=this.Data.Data.length,e=[],a=t-1;a>=0;--a)e.push(a);return e},this.GetIsLastBar=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=this.Data.Data.length,a=0;a<e;++a)a==e-1?t.push(1):t.push(0);return t},this.GetMarginCacheData=function(t,e){var a=L.GetMarginJobID(t);return a||this.Execute.ThrowUnexpectedNode(e,"\u4e0d\u652f\u6301MARGIN("+t+")"),this.MarginData.has(a)?this.MarginData.get(a):[]},this.GetMarginData=function(t){if(this.MarginData.has(t))return this.Execute.RunNextJob();r.JSConsole.Complier.Log("[JSSymbolData::GetMarginData] jobID=",t);var a=this,i=["name","date","symbol"];switch(t){case L.JOB_DOWNLOAD_MARGIN_BALANCE:i.push("margin.balance");break;case L.JOB_DOWNLOAD_MARGIN_RATE:i.push("margin.rate");break;case L.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case L.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case L.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case L.JOB_DOWNLOAD_MARGIN_BUY_NET:i.push("margin.buy");break;case L.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case L.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case L.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case L.JOB_DOWNLOAD_MARGIN_SELL_NET:i.push("margin.sell");break}e.request({url:this.StockHistoryDayApiUrl,data:{field:i,symbol:[this.Symbol],orderfield:"date"},method:"POST",dataType:"json",async:!0,success:function(e){a.RecvMarginData(e,t),a.Execute.RunNextJob()}})},this.RecvMarginData=function(t,e){var a=t.data;if(a.stock&&1==a.stock.length){var i=a.stock[0],r=new Array,s=[],o=[],h=[];for(var l in i.stockday){var u=i.stockday[l],c=u.margin;if(c){var C=new n.JSCommonData.SingleData;switch(C.Date=u.date,e){case L.JOB_DOWNLOAD_MARGIN_BALANCE:if(!this.IsNumber(c.balance))continue;C.Value=c.balance,r.push(C);break;case L.JOB_DOWNLOAD_MARGIN_RATE:if(!this.IsNumber(c.rate))continue;C.Value=c.rate,r.push(C);break;case L.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case L.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case L.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case L.JOB_DOWNLOAD_MARGIN_BUY_NET:var m=c.buy;if(!m)continue;if(!this.IsNumber(m.balance)||!this.IsNumber(m.amount)||!this.IsNumber(m.repay)||!this.IsNumber(m.net))continue;C.Value=m.balance;var f=new n.JSCommonData.SingleData;f.Date=u.date,f.Value=m.amount;var d=new n.JSCommonData.SingleData;d.Date=u.date,d.Value=m.repay;var D=new n.JSCommonData.SingleData;D.Date=u.date,D.Value=m.net,r.push(C),s.push(f),o.push(d),h.push(D);break;case L.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case L.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case L.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case L.JOB_DOWNLOAD_MARGIN_SELL_NET:var p=c.sell;if(!p)continue;if(!this.IsNumber(p.balance)||!this.IsNumber(p.volume)||!this.IsNumber(p.repay)||!this.IsNumber(p.net))continue;C.Value=m.balance;f=new n.JSCommonData.SingleData;f.Date=u.date,f.Value=m.volume;d=new n.JSCommonData.SingleData;d.Date=u.date,d.Value=m.repay;D=new n.JSCommonData.SingleData;D.Date=u.date,D.Value=m.net,r.push(C),s.push(f),o.push(d),h.push(D);break;default:continue}}}var S=[];for(var v in e===L.JOB_DOWNLOAD_MARGIN_BALANCE||e===L.JOB_DOWNLOAD_MARGIN_RATE?S.push({JobID:e,Data:r}):e===L.JOB_DOWNLOAD_MARGIN_BUY_BALANCE||e===L.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT||e===L.JOB_DOWNLOAD_MARGIN_BUY_REPAY||e===L.JOB_DOWNLOAD_MARGIN_BUY_NET?(S.push({JobID:L.JOB_DOWNLOAD_MARGIN_BUY_BALANCE,Data:r}),S.push({JobID:L.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT,Data:s}),S.push({JobID:L.JOB_DOWNLOAD_MARGIN_BUY_REPAY,Data:o}),S.push({JobID:L.JOB_DOWNLOAD_MARGIN_BUY_NET,Data:h})):e!==L.JOB_DOWNLOAD_MARGIN_SELL_BALANCE&&e!==L.JOB_DOWNLOAD_MARGIN_SELL_VOLUME&&e!==L.JOB_DOWNLOAD_MARGIN_SELL_REPAY&&e!==L.JOB_DOWNLOAD_MARGIN_SELL_NET||(S.push({JobID:L.JOB_DOWNLOAD_MARGIN_SELL_BALANCE,Data:r}),S.push({JobID:L.JOB_DOWNLOAD_MARGIN_SELL_VOLUME,Data:s}),S.push({JobID:L.JOB_DOWNLOAD_MARGIN_SELL_REPAY,Data:o}),S.push({JobID:L.JOB_DOWNLOAD_MARGIN_SELL_NET,Data:h})),S){var g=this.Data.GetFittingData(S[v].Data),T=new n.JSCommonData.ChartData;if(T.Data=g,T.Period=this.Period,T.Period>0){var I=T.GetPeriodSingleData(T.Period);T.Data=I}var x=T.GetValue();this.MarginData.set(S[v].JobID,x)}}},this.GetNewsAnalysisCacheData=function(t,e){var a=L.GetNewsAnalysisID(t);return a||this.Execute.ThrowUnexpectedNode(e,"\u4e0d\u652f\u6301NEWS("+t+")"),this.NewsAnalysisData.has(a)?this.NewsAnalysisData.get(a):[]},this.GetNewsAnalysisData=function(t){if(this.NewsAnalysisData.has(t))return this.Execute.RunNextJob();var a=this,i=new Map([[L.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE,"negative"],[L.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH,"research"],[L.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT,"interact"],[L.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE,"holderchange"],[L.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2,"holderchange"],[L.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER,"trustholder"],[L.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING,"Blocktrading"],[L.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS,"companynews"],[L.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS,"topmanagers"],[L.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE,"Pledge"]]);if(i.has(t)){var r=i.get(t),n=this.StockNewsAnalysisApiUrl+"/"+r+"/"+this.Symbol+".json";e.request({url:n,method:"GET",dataType:"json",async:!0,success:function(e){200==e.statusCode?a.RecvNewsAnalysisData(e,t):a.RecvNewsAnalysisDataError(e,t),a.Execute.RunNextJob()},fail:function(t,e){a.Execute.RunNextJob()}})}else this.Execute.RunNextJob()},this.RecvNewsAnalysisDataError=function(t,e){r.JSConsole.Complier.Log("[JSSymbolData::RecvNewsAnalysisDataError] request error.",t.statusCode);for(var a=[],i=0;i<this.Data.Data.length;++i){var s=new n.JSCommonData.SingleData;s.Date=this.Data.Data[i].Date,s.Value=0,a.push(s)}var o=new n.JSCommonData.ChartData;o.Data=a,this.NewsAnalysisData.set(e,o.GetValue())},this.RecvNewsAnalysisData=function(t,e){var a=t.data;if(a.data&&a.date&&!(a.data.length<=0||a.data.length!=a.date.length))if(r.JSConsole.Complier.Log("[JSSymbolData::RecvNewsAnalysisData] jobID",e,a.update),e==L.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE||e==L.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2){for(var i=[],s=[],o=0;o<a.data.length;++o){var h=new n.JSCommonData.SingleData;h.Date=a.date[o],h.Value=a.data[o],this.IsNumber(h.Value)&&i.push(h),o<a.data2.length&&(h=new n.JSCommonData.SingleData,h.Date=a.date[o],h.Value=a.data2[o],this.IsNumber(h.Value)&&s.push(h))}var l=this.Data.GetFittingData2(i,0),u=new n.JSCommonData.ChartData;u.Data=l,this.NewsAnalysisData.set(L.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE,u.GetValue()),l=this.Data.GetFittingData2(s,0),u=new n.JSCommonData.ChartData,u.Data=l,this.NewsAnalysisData.set(L.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2,u.GetValue())}else{for(i=[],o=0;o<a.data.length;++o){h=new n.JSCommonData.SingleData;h.Date=a.date[o],h.Value=a.data[o],i.push(h)}var c=this.Data.GetFittingData2(i,0);u=new n.JSCommonData.ChartData;u.Data=c,this.NewsAnalysisData.set(e,u.GetValue())}},this.GetStockDataKey=function(t,e){var a=t.FunctionName;if(e.length>0){a+="(";for(var i=0;i<e.length;++i)i>0&&(a+=","),a+=e[i].toString();a+=")"}return a},this.GetFinOne=function(t){var e=this.JobArgumentsToArray(t,3),a=this.GetStockDataKey(t,e);if(this.StockData.has(a))return this.Execute.RunNextJob();var i=this;if(this.NetworkFilter){var r=this.Data.GetDateRange(),n={Name:"JSSymbolData::GetFinOne",Explain:"\u8d22\u52a1\u6570\u636eFINONE(ID,Y,MMDD)",JobID:t.ID,Request:{Url:i.StockHistoryDayApiUrl,Type:"POST",Data:{Args:e,symbol:this.Symbol,daterange:r}},Self:this,PreventDefault:!1};if(this.NetworkFilter(n,(function(e){i.RecvStockValue(e,t,a,1),i.Execute.RunNextJob()})),1==n.PreventDefault)return}var s=new w({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,Args:e,DataKey:a,Callback:function(t,e,a){i.RecvStockValue(t,e,a,1),i.Execute.RunNextJob()},ErrorCallback:function(t){i.AddStockValueError(a,t)}});s.Download()},this.GetFinValue=function(t){var e=this.JobArgumentsToArray(t,1),a=e[0],i=this.GetStockDataKey(t,e);if(this.StockData.has(i))return this.Execute.RunNextJob();var r=this;if(this.NetworkFilter){var n=this.Data.GetDateRange(),s={Name:"JSSymbolData::GetFinValue",Explain:"\u8d22\u52a1\u6570\u636eFINVALUE(ID)",JobID:t.ID,Request:{Url:r.StockHistoryDayApiUrl,Type:"POST",Data:{id:a,symbol:this.Symbol,daterange:n}},Self:this,PreventDefault:!1};if(this.NetworkFilter(s,(function(e){r.RecvStockValue(e,t,i,0),r.Execute.RunNextJob()})),1==s.PreventDefault)return}var o=new _({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,Args:e,DataKey:i,Callback:function(t,e,a){r.RecvStockValue(t,e,a,0),r.Execute.RunNextJob()},ErrorCallback:function(t){r.AddStockValueError(i,t)}});o.Download()},this.GetFinance=function(t){var e=this.JobArgumentsToArray(t,1),a=e[0],i=this.GetStockDataKey(t,e);if(this.StockData.has(i))return this.Execute.RunNextJob();var r=this;if(this.NetworkFilter){var n=this.Data.GetDateRange(),s={Name:"JSSymbolData::GetFinance",Explain:"\u8d22\u52a1\u6570\u636eFINANCE(ID)",JobID:t.ID,Request:{Url:r.RealtimeApiUrl,Type:"POST",Data:{id:a,symbol:this.Symbol,daterange:n}},Self:this,PreventDefault:!1};if(this.NetworkFilter(s,(function(e){r.RecvStockValue(e,t,i,0),r.Execute.RunNextJob()})),1==s.PreventDefault)return}var o=new N({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,RealtimeUrl:this.RealtimeApiUrl,Args:e,DataKey:i,Callback:function(t,e,a){r.RecvStockValue(t,e,a,0),r.Execute.RunNextJob()},ErrorCallback:function(t){r.AddStockValueError(i,t)}});o.Download()},this.GetVariantData=function(t){var e=t.VariantName;if(this.StockData.has(e))return this.Execute.RunNextJob();var a=this;if(this.NetworkFilter){var i=this.Data.GetDateRange(),r={Name:"JSSymbolData::GetVariantData",Explain:"\u53d8\u91cf\u6570\u636e\u4e0b\u8f7d",JobID:t.ID,Request:{Url:"www.121287.com",Type:"POST",Data:{VariantName:t.VariantName,symbol:this.Symbol,daterange:i}},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,(function(i){a.RecvStockValue(i,t,e,0),a.Execute.RunNextJob()})),1==r.PreventDefault)return}var n,s=function(t,e,i){a.RecvStockValue(t,e,i,0),a.Execute.RunNextJob()},o=function(t){a.AddStockValueError(e,t)};"CAPITAL"!=t.VariantName&&"TOTALCAPITAL"!=t.VariantName&&"EXCHANGE"!=t.VariantName||(n=new N({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,RealtimeUrl:this.RealtimeApiUrl,Args:[t.VariantName],DataKey:e,Callback:s,ErrorCallback:o})),n.Download()},this.GetGPJYValue=function(t){var e=this.JobArgumentsToArray(t,3),a=this.GetStockDataKey(t,e);if(this.StockData.has(a))return this.Execute.RunNextJob();var i=this,r=1==e[2]?0:2;if(this.NetworkFilter){var n=this.Data.GetDateRange(),s={Name:"JSSymbolData::GetGPJYValue",Explain:"\u80a1\u7968\u4ea4\u6613\u7c7b\u6570\u636eGPJYVALUE(ID,N,TYPE)",JobID:t.ID,Request:{Url:i.StockHistoryDayApiUrl,Type:"POST",Data:{Args:e,symbol:this.Symbol,daterange:n}},Self:this,PreventDefault:!1};if(this.NetworkFilter(s,(function(e){i.RecvStockValue(e,t,a,r),i.Execute.RunNextJob()})),1==s.PreventDefault)return}var o=new b({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,Args:e,DataKey:a,Callback:function(t,e,a){i.RecvStockValue(t,e,a,r),i.Execute.RunNextJob()},ErrorCallback:function(t){i.AddStockValueError(a,t)}});o.Download()},this.GetCustomVariantData=function(t){var e=t.VariantName;if(this.StockData.has(e))return this.Execute.RunNextJob();var a=c.CustomVariant.Data.get(e),i=this;if(this.NetworkFilter){var r=this.Data.GetDateRange(),n={Name:"JSSymbolData::GetCustomVariantData",Explain:"\u81ea\u5b9a\u4e49\u53d8\u91cf\u6570\u636e\u4e0b\u8f7d",JobID:t.ID,Request:{Url:"www.121287.com",Type:"POST",Data:{VariantName:t.VariantName,symbol:this.Symbol,daterange:r}},Self:this,VariantInfo:a,PreventDefault:!1};this.NetworkFilter(n,(function(a){a.Error?i.AddStockValueError(e,a.Error):i.RecvStockValue(a.Data,t,e,a.DataType),i.Execute.RunNextJob()}))}else this.AddStockValueError(e,"\u81ea\u5b9a\u4e49\u53d8\u91cf".concat(e,"\u4e0b\u8f7d\u5931\u8d25")),this.Execute.RunNextJob()},this.GetCustomFunctionData=function(t){var e=t.FunctionName,a=c.CustomFunction.Data.get(e);if(!a.IsDownload)return this.Execute.RunNextJob();if(this.StockData.has(e))return this.Execute.RunNextJob();var i=this;if(this.NetworkFilter){var r=this.Data.GetDateRange(),n={Name:"JSSymbolData::GetCustomFunctionData",Explain:"\u81ea\u5b9a\u4e49\u51fd\u6570\u6570\u636e\u4e0b\u8f7d",JobID:t.ID,Request:{Url:"www.121287.com",Type:"POST",Data:{FunctionName:t.FunctionName,symbol:this.Symbol,daterange:r,JobItem:t}},Self:this,FunctionInfo:a,PreventDefault:!1};this.NetworkFilter(n,(function(a){a.Error?i.AddStockValueError(e,a.Error):i.RecvStockValue(a.Data,t,e,a.DataType),i.Execute.RunNextJob()}))}else this.AddStockValueError(e,"\u81ea\u5b9a\u4e49\u51fd\u6570".concat(e,"\u4e0b\u8f7d\u5931\u8d25")),this.Execute.RunNextJob()},this.RecvStockValue=function(t,e,a,i){if(t)if(0==i)if(Array.isArray(t)){var r=this.Data;if(n.JSCommonData.ChartData.IsDayPeriod(this.Period,!0))u=r.GetFittingFinanceData(t);else{if(!n.JSCommonData.ChartData.IsMinutePeriod(this.Period,!0))return;u=r.GetMinuteFittingFinanceData(t)}var s=new n.JSCommonData.ChartData;s.Data=u;var o=s.GetValue();if("EXCHANGE"==a)for(var h in o){var l=r.Data[h];o[h]>0&&(o[h]=l.Vol/o[h]*100)}this.StockData.set(a,{Data:o})}else this.StockData.set(a,{Data:t.Value});else if(1==i)this.StockData.set(a,{Data:t.Value});else if(2==i){var u;r=this.Data;if(n.JSCommonData.ChartData.IsDayPeriod(this.Period,!0))u=r.GetFittingTradeData(t,0,!1);else{if(!n.JSCommonData.ChartData.IsMinutePeriod(this.Period,!0))return;u=r.GetMinuteFittingTradeData(t,0,!1)}s=new n.JSCommonData.ChartData;s.Data=u;o=s.GetValue();this.StockData.set(a,{Data:o})}},this.AddStockValueError=function(t,e){this.StockData.set(t,{Error:e})},this.GetStockCacheData=function(t){var e;if(t.FunctionName)e=this.GetStockDataKey({FunctionName:t.FunctionName},t.Args);else if(t.VariantName)e=t.VariantName;else{if(!t.CustomName)return null;e=t.CustomName}if(!this.StockData.has(e))return null;var a=this.StockData.get(e);return a.Error&&this.Execute.ThrowUnexpectedNode(t.Node,a.Error),a.Data},this.JobArgumentsToArray=function(t,e){var a=t.Args;if(a.length!=e){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"".concat(t.FunctionName,"() Error: argument count error."))}for(var r=[],n=0;n<a.length;++n){var s=a[n];if(this.IsNumber(s))r.push(s);else if(s.Type==v.Literal)r.push(s.Value);else if(s.Type==v.Identifier){var o=!1;for(var h in this.Arguments){var l=this.Arguments[h];if(l.Name==s.Name){r.push(l.Value),o=!0;break}}if(!o){i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"".concat(t.FunctionName,"() Error: can't read ").concat(s.Name))}}}return r},this.DownloadCustomAPIData=function(t){if(!this.NetworkFilter)return this.Execute.RunNextJob();var e=[];for(var a in t.Args){var i=t.Args[a];if(i.Type==v.Literal)e.push(i.Value);else{if(i.Type!=v.Identifier)return this.Execute.RunNextJob();var r=!1;for(var n in this.Arguments){var s=this.Arguments[n];if(s.Name==i.Name){e.push(s.Value),r=!0;break}}if(!r){var o=t.Token;this.Execute.ErrorHandler.ThrowError(o.Index,o.Line,0,"LoadAPIData() Error: can't read ".concat(i.Name))}}}var h=this,l={Name:"JSSymbolData::DownloadCustomAPIData",Explain:"\u4e0b\u8f7d\u81ea\u5b9a\u4e49api\u6570\u636e",Period:this.Period,Right:this.Right,Symbol:this.Symbol,KData:this.Data,Cache:this.CustomAPIData,Args:e,Self:this,PreventDefault:!1};this.NetworkFilter(l,(function(t){h.RecvCustomAPIData(t,e),h.Execute.RunNextJob()})),1!=l.PreventDefault&&this.Execute.RunNextJob()},this.RecvCustomAPIData=function(t,e){if(t&&t.data){var a=t.data,i=this.GenerateCustomAPIKey(e);if(n.JSCommonData.ChartData.IsMinutePeriod(this.Period,!0)){if(!a.date||!a.time)return;var r=a.date;a.time;for(var s in a)if("date"!=s&&"time"!=s)var o=a[s]}else if(n.JSCommonData.ChartData.IsDayPeriod(this.Period,!0)){if(!a.date)return;r=a.date;var h={__Type__:"Object"};for(var s in a)if("date"!=s){o=a[s];if(Array.isArray(o)){var l=this.FittingCustomAPIArray(o,r);h[s]=l}else this.IsNumber(o)&&(h[s]=o)}this.CustomAPIData.set(i,h)}}},this.FittingCustomAPIArray=function(t,e,a){var i,r=this.Data,s=[];for(var o in t){var h=t[o],l=new n.JSCommonData.SingleData;l.Date=e[o],a&&o<a.length&&(l.Time=a[o]),l.Value=h,s.push(l)}if(n.JSCommonData.ChartData.IsDayPeriod(this.Period,!0))i=r.GetFittingData(s);else{if(!n.JSCommonData.ChartData.IsMinutePeriod(this.Period,!0))return null;i=r.GetMinuteFittingData(s)}var u=new n.JSCommonData.ChartData;u.Data=i;var c=u.GetValue();return c},this.JsonDataToHistoryData=function(t){for(var e=t.data,a=new Array,i=0,r=1,s=2,o=3,h=4,l=5,u=6,c=7,C=8,m=9,f=10,d=11,D=0;D<e.length;++D){var p=new n.JSCommonData.HistoryData;p.Date=e[D][i],p.Open=e[D][s],p.YClose=e[D][r],p.Close=e[D][l],p.High=e[D][o],p.Low=e[D][h],p.Vol=e[D][u],p.Amount=e[D][c],isNaN(p.Open)||p.Open<=0||(e[D].length>C&&(p.Up=e[D][C]),e[D].length>m&&(p.Down=e[D][m]),e[D].length>f&&(p.Stop=e[D][f]),e[D].length>d&&(p.Unchanged=e[D][d]),a.push(p))}return a},this.JsonDataToMinuteHistoryData=function(t){for(var e=t.data,a=new Array,i=0,r=1,s=2,o=3,h=4,l=5,u=6,c=7,C=8,m=0;m<e.length;++m){var f=new n.JSCommonData.HistoryData;f.Date=e[m][i],f.Open=e[m][s],f.YClose=e[m][r],f.Close=e[m][l],f.High=e[m][o],f.Low=e[m][h],f.Vol=e[m][u],f.Amount=e[m][c],f.Time=e[m][C],a.push(f)}for(var d=0;d<a.length;++d){var D=a[d];if(null==D&&coninue,isNaN(D.Open)||D.Open<=0||isNaN(D.High)||D.High<=0||isNaN(D.Low)||D.Low<=0||isNaN(D.Close)||D.Close<=0||isNaN(D.YClose)||D.YClose<=0)if(0==d)D.YClose>0&&(D.Open=D.YClose,D.High=D.YClose,D.Low=D.YClose,D.Close=D.YClose);else for(var p=d-1;p>=0;--p){var S=a[p];if(null==S&&coninue,S.Open>0&&S.High>0&&S.Low>0&&S.Close>0){D.YClose<=0&&(D.YClose=S.Close),D.Open=S.Open,D.High=S.High,D.Low=S.Low,D.Close=S.Close;break}}}return a},this.JsonDataToMinuteData=function(t){var e=new Array;for(var a in t.stock[0].minute){var i=t.stock[0].minute[a],r=new n.JSCommonData.MinuteData;r.Close=i.price,r.Open=i.open,r.High=i.high,r.Low=i.low,r.Vol=i.vol,r.Amount=i.amount,r.DateTime=0==a?t.stock[0].date.toString()+" 0925":t.stock[0].date.toString()+" "+i.time.toString(),r.Date=t.stock[0].date,r.Time=i.time,r.Increate=i.increate,r.Risefall=i.risefall,r.AvPrice=i.avprice,e[a]=r}return e},this.CODELIKE=function(t){return 0==this.Symbol.indexOf(t)?1:0},this.NAMELIKE=function(t){return this.Name&&0==this.Name.indexOf(t)?1:0},this.SETCODE=function(){return this.Symbol.indexOf(".sh")?1:(this.Symbol.indexOf(".sz"),0)},this.GetSymbol=function(){return this.Symbol},this.GetName=function(){return this.Name},this.GetIndustry=function(){var t=L.JOB_DOWNLOAD_GROUP_DATA.toString()+"-Group-"+this.Symbol;if(!this.ExtendData.has(t))return"";var e=this.ExtendData.get(t);if(!e.Industry||e.Industry.length<=0)return"";var a="";for(var i in e.Industry){var r=e.Industry[i];a.length>0&&(a+=" "),a+=r.Name}return a},this.GetRegion=function(){var t=L.JOB_DOWNLOAD_GROUP_DATA.toString()+"-Group-"+this.Symbol;if(!this.ExtendData.has(t))return"";var e=this.ExtendData.get(t);if(!e.Region||e.Region.length<=0)return"";var a="";for(var i in e.Region){var r=e.Region[i];a.length>0&&(a+=" "),a+=r.Name}return a},this.GetConcept=function(){var t=L.JOB_DOWNLOAD_GROUP_DATA.toString()+"-Group-"+this.Symbol;if(!this.ExtendData.has(t))return"";var e=this.ExtendData.get(t);if(!e.Concept||e.Concept.length<=0)return"";var a="";for(var i in e.Concept){var r=e.Concept[i];a.length>0&&(a+=" "),a+=r.Name}return a},this.TIME=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var a=this.Data.Data[e];this.IsNumber(a.Time)?t[e]=a.Time:t[e]=0}return t},this.DATE=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var a=this.Data.Data[e];t[e]=a.Date-19e6}return t},this.YEAR=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var a=this.Data.Data[e];this.IsNumber(a.Date)?t[e]=parseInt(a.Date/1e4):t[e]=null}return t},this.MONTH=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var a=this.Data.Data[e];this.IsNumber(a.Date)?t[e]=parseInt(a.Date%1e4/100):t[e]=null}return t},this.WEEK=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;var e=new Date;for(var a in this.Data.Data){var i=this.Data.Data[a];if(t[a]=null,this.IsNumber(i.Date)){var r=parseInt(i.Date/1e4),n=parseInt(i.Date%1e4/100),s=i.Date%100;e.setFullYear(r),e.setMonth(n-1),e.setDate(s),t[a]=e.getDay()}}return t},this.REFDATE=function(t,e){var a=null;if(Array.isArray(e)?e.length>0&&(a=e[e.length-1]):this.IsNumber(e)&&(a=e),null==a)return null;a<5e6&&(a+=19e6);var i=null;for(var r in this.Data.Data)if(this.Data.Data[r].Date==a){i=parseInt(r);break}return null==i||i>=t.length?null:t[i]},this.PERIOD=function(){var t=[5,6,7,11,0,1,2,3,4,5,9];return this.Period>=0&&this.Period<=t.length-1?t[this.Period]:this.Period},this.GetDrawNull=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data)t[e]=null;return t}}F.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},F.prototype.IsDivideNumber=function(t){return null!=t&&(!isNaN(t)&&0!=t)},F.prototype.JsonDataToFinance=function(t){for(var e,a=1;a<=4;++a){switch(a){case 1:var i=t.finance1,r=t.announcement1;break;case 2:i=t.finance2,r=t.announcement2;break;case 3:i=t.finance3,r=t.announcement3;break;case 4:i=t.finance4,r=t.announcement4;break;default:break}i&&r&&this.IsNumber(r.year)&&this.IsNumber(r.quarter)&&(e?e.Announcement.year<r.year&&(e={Date:item.date,Finance:i,Announcement:r}):e={Date:t.date,Finance:i,Announcement:r})}return e};var y=!1,L=(i={JOB_DOWNLOAD_SYMBOL_DATA:1,JOB_DOWNLOAD_INDEX_DATA:2,JOB_DOWNLOAD_SYMBOL_LATEST_DATA:3,JOB_DOWNLOAD_INDEX_INCREASE_DATA:4,JOB_DOWNLOAD_VOLR_DATA:5,JOB_DOWNLOAD_GROUP_DATA:6,JOB_DOWNLOAD_FINVALUE:301,JOB_DOWNLOAD_FINONE:302,JOB_DOWNLOAD_FINANCE:303,JOB_DOWNLOAD_GPJYVALUE:304,JOB_DOWNLOAD_VARIANT:305,JOB_CUSTOM_FUNCTION_DATA:6e3,JOB_CUSTOM_VARIANT_DATA:6001,JOB_DOWNLOAD_MARGIN_BALANCE:1e3,JOB_DOWNLOAD_MARGIN_RATE:1001,JOB_DOWNLOAD_MARGIN_BUY_BALANCE:1010,JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:1011,JOB_DOWNLOAD_MARGIN_BUY_REPAY:1012,JOB_DOWNLOAD_MARGIN_BUY_NET:1013,JOB_DOWNLOAD_MARGIN_SELL_BALANCE:1020,JOB_DOWNLOAD_MARGIN_SELL_VOLUME:1021,JOB_DOWNLOAD_MARGIN_SELL_REPAY:1022,JOB_DOWNLOAD_MARGIN_SELL_NET:1023,JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE:2e3,JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH:2001,JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT:2002,JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE:2003,JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2:2004,JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER:2005,JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING:2006,JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS:2007,JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS:2008,JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE:2009},o(i,"JOB_CUSTOM_FUNCTION_DATA",6e3),o(i,"JOB_CUSTOM_VARIANT_DATA",6001),o(i,"JOB_DOWNLOAD_CUSTOM_API_DATA",3e4),o(i,"JOB_RUN_SCRIPT",1e4),o(i,"GetMarginJobID",(function(t){var e=new Map([[1,L.JOB_DOWNLOAD_MARGIN_BALANCE],[2,L.JOB_DOWNLOAD_MARGIN_RATE],[3,L.JOB_DOWNLOAD_MARGIN_BUY_BALANCE],[4,L.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT],[5,L.JOB_DOWNLOAD_MARGIN_BUY_REPAY],[6,L.JOB_DOWNLOAD_MARGIN_BUY_NET],[7,L.JOB_DOWNLOAD_MARGIN_SELL_BALANCE],[8,L.JOB_DOWNLOAD_MARGIN_SELL_VOLUME],[9,L.JOB_DOWNLOAD_MARGIN_SELL_REPAY],[10,L.JOB_DOWNLOAD_MARGIN_SELL_NET]]);return e.has(t)?e.get(t):null})),o(i,"GetNewsAnalysisID",(function(t){var e=new Map([[1,L.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE],[2,L.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH],[3,L.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT],[4,L.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE],[5,L.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2],[6,L.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER],[7,L.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING],[8,L.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS],[9,L.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS],[10,L.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE]]);return e.has(t)?e.get(t):null})),i);function M(t,e){this.AST=t,this.ErrorHandler=new D,this.VarTable=new Map,this.OutVarTable=new Array,this.Arguments=[],this.ConstVarTable=new Map([["CLOSE",null],["VOL",null],["OPEN",null],["HIGH",null],["LOW",null],["AMOUNT",null],["AMO",null],["VOLINSTK",null],["C",null],["V",null],["O",null],["H",null],["L",null],["VOLR",null],["DATE",null],["YEAR",null],["MONTH",null],["PERIOD",null],["WEEK",null],["TIME",null],["INDEXA",null],["INDEXC",null],["INDEXH",null],["INDEXL",null],["INDEXO",null],["INDEXV",null],["INDEXADV",null],["INDEXDEC",null],["CURRBARSCOUNT",null],["ISLASTBAR",null],["TOTALCAPITAL",null],["CAPITAL",null],["EXCHANGE",null],["SETCODE",null],["CODE",null],["STKNAME",null],["HYBLOCK",null],["DYBLOCK",null],["GNBLOCK",null],["DRAWNULL",null]]),this.SymbolData=new F(this.AST,e,this),this.Algorithm=new I(this.ErrorHandler,this.SymbolData),this.Draw=new x(this.ErrorHandler,this.SymbolData),this.JobList=[],this.UpdateUICallback=null,this.CallbackParam=null,e&&(e.Callback&&(this.UpdateUICallback=e.Callback),e.CallbackParam&&(this.CallbackParam=e.CallbackParam),e.Arguments&&(this.Arguments=e.Arguments)),this.Execute=function(){r.JSConsole.Complier.Log("[JSExecute::Execute] JobList",this.JobList),this.RunNextJob()},this.RunNextJob=function(){if(!(this.JobList.length<=0)){var t=this.JobList.shift();switch(t.ID){case L.JOB_DOWNLOAD_SYMBOL_DATA:return this.SymbolData.GetSymbolData();case L.JOB_DOWNLOAD_INDEX_DATA:return this.SymbolData.GetIndexData();case L.JOB_DOWNLOAD_INDEX_INCREASE_DATA:return this.SymbolData.GetIndexIncreaseData(t);case L.JOB_DOWNLOAD_SYMBOL_LATEST_DATA:return this.SymbolData.GetLatestData();case L.JOB_DOWNLOAD_VOLR_DATA:return this.SymbolData.GetVolRateData(t);case L.JOB_DOWNLOAD_GROUP_DATA:return this.SymbolData.GetGroupData(t);case L.JOB_DOWNLOAD_FINONE:return this.SymbolData.GetFinOne(t);case L.JOB_DOWNLOAD_FINVALUE:return this.SymbolData.GetFinValue(t);case L.JOB_DOWNLOAD_FINANCE:return this.SymbolData.GetFinance(t);case L.JOB_DOWNLOAD_GPJYVALUE:return this.SymbolData.GetGPJYValue(t);case L.JOB_DOWNLOAD_VARIANT:return this.SymbolData.GetVariantData(t);case L.JOB_CUSTOM_VARIANT_DATA:return this.SymbolData.GetCustomVariantData(t);case L.JOB_CUSTOM_FUNCTION_DATA:return this.SymbolData.GetCustomFunctionData(t);case L.JOB_DOWNLOAD_MARGIN_BALANCE:case L.JOB_DOWNLOAD_MARGIN_RATE:case L.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case L.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case L.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case L.JOB_DOWNLOAD_MARGIN_BUY_NET:case L.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case L.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case L.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case L.JOB_DOWNLOAD_MARGIN_SELL_NET:return this.SymbolData.GetMarginData(t.ID);case L.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE:case L.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH:case L.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT:case L.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE:case L.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2:case L.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER:case L.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING:case L.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS:case L.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS:case L.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE:return this.SymbolData.GetNewsAnalysisData(t.ID);case L.JOB_DOWNLOAD_CUSTOM_API_DATA:return this.SymbolData.DownloadCustomAPIData(t);case L.JOB_RUN_SCRIPT:return this.Run()}}},this.ReadSymbolData=function(t,e){switch(t){case"CLOSE":case"C":case"VOL":case"V":case"OPEN":case"O":case"HIGH":case"H":case"LOW":case"L":case"AMOUNT":case"VOLINSTK":return this.SymbolData.GetSymbolCacheData(t);case"VOLR":return this.SymbolData.GetVolRateCacheData(e);case"INDEXA":case"INDEXC":case"INDEXH":case"INDEXO":case"INDEXV":case"INDEXL":case"INDEXADV":case"INDEXDEC":return this.SymbolData.GetIndexCacheData(t);case"CURRBARSCOUNT":return this.SymbolData.GetCurrBarsCount();case"ISLASTBAR":return this.SymbolData.GetIsLastBar();case"TOTALCAPITAL":case"CAPITAL":case"EXCHANGE":return this.SymbolData.GetStockCacheData({VariantName:t,Node:e});case"SETCODE":return this.SymbolData.SETCODE();case"CODE":return this.SymbolData.GetSymbol();case"STKNAME":return this.SymbolData.GetName();case"HYBLOCK":return this.SymbolData.GetIndustry();case"DYBLOCK":return this.SymbolData.GetRegion();case"GNBLOCK":return this.SymbolData.GetConcept();case"TIME":return this.SymbolData.TIME();case"DATE":return this.SymbolData.DATE();case"YEAR":return this.SymbolData.YEAR();case"MONTH":return this.SymbolData.MONTH();case"WEEK":return this.SymbolData.WEEK();case"PERIOD":return this.SymbolData.PERIOD();case"DRAWNULL":return this.SymbolData.GetDrawNull()}},this.ReadCustomVariant=function(t,e){return this.SymbolData.GetStockCacheData({VariantName:t,Node:e})},this.ReadVariable=function(t,e){if(this.ConstVarTable.has(t)){var a=this.ConstVarTable.get(t);return null==a&&(a=this.ReadSymbolData(t,e),this.ConstVarTable.set(t,a)),a}return c.IsCustomVariant(t)?this.ReadCustomVariant(t,e):this.VarTable.has(t)?this.VarTable.get(t):(this.ThrowUnexpectedNode(e,"\u53d8\u91cf"+t+"\u4e0d\u5b58\u5728"),null)},this.ReadMemberVariable=function(t){var e,a=t.Object,i=t.Property;if(e=a.Type==v.BinaryExpression||a.Type==v.LogicalExpression?this.VisitBinaryExpression(a):a.Type==v.CallExpression?this.VisitCallExpression(a):this.GetNodeValue(a),!e)return null;var r=e[i.Name];return r||null},this.SingleDataToArrayData=function(t){for(var e=this.SymbolData.Data.Data.length,a=[],i=0;i<e;++i)a[i]=t;return a},this.RunAST=function(){for(var t in this.Arguments){var e=this.Arguments[t];this.VarTable.set(e.Name,e.Value)}for(var a in this.AST||this.ThrowError(),this.AST.Body||this.ThrowError(),this.AST.Body){var i=this.AST.Body[a];if(this.VisitNode(i),i.Type==v.ExpressionStatement&&i.Expression)if(i.Expression.Type==v.AssignmentExpression&&":"==i.Expression.Operator&&i.Expression.Left){var n=i.Expression,o=n.Left.Name,h=this.VarTable.get(o);Array.isArray(h)||(h="string"==typeof h?this.SingleDataToArrayData(parseFloat(h)):this.SingleDataToArrayData(h)),this.OutVarTable.push({Name:o,Data:h,Type:0})}else if(i.Expression.Type==v.CallExpression){var l=i.Expression;if(this.Draw.IsDrawFunction(l.Callee.Name)){var u=l.Draw;u.Name=l.Callee.Name,this.OutVarTable.push({Name:u.Name,Draw:u,Type:1})}else{var c=l.Out;d="__temp_c_".concat(l.Callee.Name,"_").concat(a,"__");var C=0;Array.isArray(c)||(c=this.SingleDataToArrayData(c)),this.OutVarTable.push({Name:d,Data:c,Type:C,NoneName:!0})}}else if(i.Expression.Type==v.Identifier){var m=i.Expression.Name,f=this.ReadVariable(m,i.Expression);C=0;Array.isArray(f)||(f="string"==typeof f?this.SingleDataToArrayData(parseFloat(f)):this.SingleDataToArrayData(f)),m="__temp_i_"+a+"__",this.OutVarTable.push({Name:m,Data:f,Type:C,NoneName:!0})}else if(i.Expression.Type==v.BinaryExpression){var d="__temp_b_"+a+"__",D=i.Expression.Out;C=0;Array.isArray(D)||(D=this.SingleDataToArrayData(D)),this.OutVarTable.push({Name:d,Data:D,Type:C,NoneName:!0})}else if(i.Expression.Type==v.LogicalExpression){d="__temp_l_"+a+"__";var p=i.Expression.Out;C=0;Array.isArray(p)||(p=this.SingleDataToArrayData(p)),this.OutVarTable.push({Name:d,Data:p,Type:C,NoneName:!0})}else if(i.Expression.Type==v.SequenceExpression){var S=void 0,g=void 0,T=void 0,I=void 0,x=!1,A=!1,F=!1,y=!1,L=!1,M=!1,E=!0,N=!1,_=!1,w=!1,b=!1,O=!0,R=!1;for(var P in i.Expression.Expression){var B=i.Expression.Expression[P];if(B.Type==v.AssignmentExpression&&":"==B.Operator&&B.Left){S=B.Left.Name;var G=this.VarTable.get(S);Array.isArray(G)||(G=this.SingleDataToArrayData(G),this.VarTable.set(S,G))}else if(B.Type==v.Identifier){var k=B.Name;if("COLORSTICK"===k)x=!0;else if("POINTDOT"===k)A=!0;else if("CIRCLEDOT"===k)F=!0;else if("DOTLINE"==k)_=!0;else if("LINESTICK"===k)y=!0;else if("STICK"===k)L=!0;else if("VOLSTICK"===k)M=!0;else if("DRAWABOVE"===k)R=!0;else if(0==k.indexOf("COLOR"))T=k;else if(0==k.indexOf("LINETHICK"))I=k;else if(0==k.indexOf("NODRAW"))E=!1;else if(0==k.indexOf("EXDATA"))N=!0;else if(0==k.indexOf("LINEOVERLAY"))w=!0;else if(0==k.indexOf("NOTEXT")||0==k.indexOf("NOTITLE"))O=!1;else{S=B.Name;var V=this.ReadVariable(S,B);Array.isArray(V)||(V=this.SingleDataToArrayData(V)),S="__temp_si_"+a+"__",b=!0,this.VarTable.set(S,V)}}else if(B.Type==v.Literal){var H=this.SingleDataToArrayData(B.Value);S=B.Value.toString(),this.VarTable.set(S,H)}else if(B.Type==v.CallExpression)if(this.Draw.IsDrawFunction(B.Callee.Name))g=B.Draw,g.Name=B.Callee.Name;else{var J=B.Out;S="__temp_sc_".concat(B.Callee.Name,"_").concat(a,"__"),b=!0,this.VarTable.set(S,J)}else if(B.Type==v.BinaryExpression){S="__temp_sb_"+a+"__";var U=B.Out;b=!0,this.VarTable.set(S,U)}}if(A&&S){var W=this.VarTable.get(S),Y={Name:S,Data:W,Radius:s.JSCommonResource_Global_JSChartResource.POINTDOT.Radius,Type:3};T&&(Y.Color=T),I&&(Y.LineWidth=I),this.OutVarTable.push(Y)}else if(F&&S){var X=this.VarTable.get(S),K={Name:S,Data:X,Radius:s.JSCommonResource_Global_JSChartResource.CIRCLEDOT.Radius,Type:3};T&&(K.Color=T),I&&(K.LineWidth=I),this.OutVarTable.push(K)}else if(y&&S){var z=this.VarTable.get(S),$={Name:S,Data:z,Type:4};T&&($.Color=T),I&&($.LineWidth=I),this.OutVarTable.push($)}else if(L&&S){var q=this.VarTable.get(S),j={Name:S,Data:q,Type:5};T&&(j.Color=T),I&&(j.LineWidth=I),this.OutVarTable.push(j)}else if(M&&S){var Z=this.VarTable.get(S),Q={Name:S,Data:Z,Type:6};T&&(Q.Color=T),this.OutVarTable.push(Q)}else if(x&&S){var tt=this.VarTable.get(S),et={Name:S,Data:tt,Color:T,Type:2};I&&(et.LineWidth=I),T&&(et.Color=T),this.OutVarTable.push(et)}else if(S&&T){var at=this.VarTable.get(S),it={Name:S,Data:at,Color:T,Type:0};I&&(it.LineWidth=I),0==E&&(it.IsShow=!1),1==N&&(it.IsExData=!0),1==_&&(it.IsDotLine=!0),1==w&&(it.IsOverlayLine=!0),1==b&&(it.NoneName=!0),0==O&&(it.IsShowTitle=!1),this.OutVarTable.push(it)}else if(g){var rt={Name:g.Name,Draw:g,Type:1};T&&(rt.Color=T),I&&(rt.LineWidth=I),R&&(rt.IsDrawAbove=!0),this.OutVarTable.push(rt)}else if(S){var nt=this.VarTable.get(S),st={Name:S,Data:nt,Type:0};T&&(st.Color=T),I&&(st.LineWidth=I),0==E&&(st.IsShow=!1),1==N&&(st.IsExData=!0),1==_&&(st.IsDotLine=!0),1==w&&(st.IsOverlayLine=!0),0==O&&(st.IsShowTitle=!1),this.OutVarTable.push(st)}}}return r.JSConsole.Complier.Log("[JSExecute::Run]",this.VarTable),this.OutVarTable},this.Run=function(){var t=this.RunAST();r.JSConsole.Complier.Log("[JSComplier.Run] execute finish",t),this.UpdateUICallback&&(r.JSConsole.Complier.Log("[JSComplier.Run] invoke UpdateUICallback."),this.UpdateUICallback(t,this.CallbackParam))},this.VisitNode=function(t){switch(t.Type){case v.SequenceExpression:this.VisitSequenceExpression(t);break;case v.ExpressionStatement:this.VisitNode(t.Expression);break;case v.AssignmentExpression:this.VisitAssignmentExpression(t);break;case v.BinaryExpression:case v.LogicalExpression:this.VisitBinaryExpression(t);break;case v.CallExpression:this.VisitCallExpression(t);break}},this.VisitSequenceExpression=function(t){for(var e in t.Expression){var a=t.Expression[e];this.VisitNode(a)}},this.VisitCallExpression=function(t){var e=t.Callee.Name,a=[];for(var i in t.Arguments){var r=t.Arguments[i],n=void 0;n=r.Type==v.BinaryExpression||r.Type==v.LogicalExpression?this.VisitBinaryExpression(r):r.Type==v.CallExpression?this.VisitCallExpression(r):this.GetNodeValue(r),a.push(n)}if(c.IsCustomFunction(e)){var s=this.Algorithm.CallCustomFunction(e,a,this.SymbolData,t);return t.Out=[],t.Draw=null,s&&(s.Out&&(t.Out=s.Out),s.Draw&&(t.Draw=s.Draw)),t.Out}switch(e){case"DYNAINFO":t.Out=this.SymbolData.GetLatestCacheData(a[0]);break;case"STICKLINE":t.Draw=this.Draw.STICKLINE(a[0],a[1],a[2],a[3],a[4]),t.Out=[];break;case"DRAWTEXT":t.Draw=this.Draw.DRAWTEXT(a[0],a[1],a[2]),t.Out=[];break;case"SUPERDRAWTEXT":t.Draw=this.Draw.SUPERDRAWTEXT(a[0],a[1],a[2],a[3],a[4]),t.Out=[];break;case"DRAWTEXT_FIX":t.Draw=this.Draw.DRAWTEXT_FIX(a[0],a[1],a[2],a[3],a[4]),t.Out=[];break;case"DRAWICON":t.Draw=this.Draw.DRAWICON(a[0],a[1],a[2]),t.Out=[];break;case"DRAWLINE":t.Draw=this.Draw.DRAWLINE(a[0],a[1],a[2],a[3],a[4]),t.Out=t.Draw.DrawData;break;case"DRAWBAND":t.Draw=this.Draw.DRAWBAND(a[0],a[1],a[2],a[3]),t.Out=[];break;case"DRAWKLINE":t.Draw=this.Draw.DRAWKLINE(a[0],a[1],a[2],a[3]),t.Out=[];break;case"DRAWKLINE_IF":t.Draw=this.Draw.DRAWKLINE_IF(a[0],a[1],a[2],a[3],a[4]),t.Out=[];break;case"PLOYLINE":case"POLYLINE":t.Draw=this.Draw.POLYLINE(a[0],a[1]),t.Out=t.Draw.DrawData;break;case"DRAWNUMBER":t.Draw=this.Draw.DRAWNUMBER(a[0],a[1],a[2]),t.Out=t.Draw.DrawData.Value;break;case"RGB":t.Out=this.Draw.RGB(a[0],a[1],a[2]);break;case"RGBA":t.Out=this.Draw.RGBA(a[0],a[1],a[2],a[3]);break;case"DRAWRECTREL":t.Draw=this.Draw.DRAWRECTREL(a[0],a[1],a[2],a[3],a[4]),t.Out=[];break;case"DRAWGBK":t.Draw=this.Draw.DRAWGBK(a[0],a[1],a[2],a[3]),t.Out=[];break;case"DRAWGBK2":t.Draw=this.Draw.DRAWGBK2(a[0],a[1],a[2],a[3]),t.Out=[];break;case"CODELIKE":t.Out=this.SymbolData.CODELIKE(a[0]);break;case"NAMELIKE":t.Out=this.SymbolData.NAMELIKE(a[1]);break;case"REFDATE":t.Out=this.SymbolData.REFDATE(a[0],a[1]);break;case"FINANCE":t.Out=this.SymbolData.GetStockCacheData({FunctionName:e,Args:a,ArgCount:1,Node:t});break;case"FINVALUE":t.Out=this.SymbolData.GetStockCacheData({FunctionName:e,Args:a,ArgCount:1,Node:t});break;case"FINONE":t.Out=this.SymbolData.GetStockCacheData({FunctionName:e,Args:a,ArgCount:3,Node:t});break;case"GPJYVALUE":t.Out=this.SymbolData.GetStockCacheData({FunctionName:e,Args:a,ArgCount:3,Node:t});break;case"MARGIN":t.Out=this.SymbolData.GetMarginCacheData(a[0],t);break;case"NEWS":t.Out=this.SymbolData.GetNewsAnalysisCacheData(a[0],t);break;case"UPCOUNT":case"DOWNCOUNT":t.Out=this.SymbolData.GetIndexIncreaseCacheData(e,a[0],t);break;case"LOADAPIDATA":t.Out=this.SymbolData.GetCustomApiData(a);break;default:t.Out=this.Algorithm.CallFunction(e,a,t);break}return t.Out},this.VisitAssignmentExpression=function(t){var e=t.Left;e.Type!=v.Identifier&&this.ThrowUnexpectedNode(t);var a=e.Name,i=t.Right,n=null;i.Type==v.BinaryExpression||i.Type==v.LogicalExpression?n=this.VisitBinaryExpression(i):i.Type==v.CallExpression?n=this.VisitCallExpression(i):i.Type==v.Literal?n=i.Value:i.Type==v.Identifier?n=this.ReadVariable(i.Name,i):i.Type==v.MemberExpression&&(n=this.ReadMemberVariable(i)),y&&r.JSConsole.Complier.Log("[JSExecute::VisitAssignmentExpression]",a," = ",n),this.VarTable.set(a,n)},this.VisitBinaryExpression=function(t){var e=[];e.push(t);var a=null;while(0!=e.length)if(a=e[e.length-1],a.Left&&t!=a.Left&&t!=a.Right)e.push(a.Left);else if(a.Right&&t!=a.Right)e.push(a.Right);else{var i=e.pop();if(i.Type==v.BinaryExpression){var n=this.GetNodeValue(i.Left),s=this.GetNodeValue(i.Right);switch(y&&r.JSConsole.Complier.Log("[JSExecute::VisitBinaryExpression] BinaryExpression",i,n,s),i.Out=null,i.Operator){case"-":i.Out=this.Algorithm.Subtract(n,s);break;case"*":i.Out=this.Algorithm.Multiply(n,s);break;case"/":i.Out=this.Algorithm.Divide(n,s);break;case"+":i.Out=this.Algorithm.Add(n,s);break;case">":i.Out=this.Algorithm.GT(n,s);break;case">=":i.Out=this.Algorithm.GTE(n,s);break;case"<":i.Out=this.Algorithm.LT(n,s);break;case"<=":i.Out=this.Algorithm.LTE(n,s);break;case"==":case"=":i.Out=this.Algorithm.EQ(n,s);break;case"!=":case"<>":i.Out=this.Algorithm.NEQ(n,s);break}y&&r.JSConsole.Complier.Log("[JSExecute::VisitBinaryExpression] BinaryExpression",i)}else if(i.Type==v.LogicalExpression){var o=this.GetNodeValue(i.Left),h=this.GetNodeValue(i.Right);switch(y&&r.JSConsole.Complier.Log("[JSExecute::VisitBinaryExpression] LogicalExpression",i,o,h),i.Out=null,i.Operator){case"&&":case"AND":i.Out=this.Algorithm.And(o,h);break;case"||":case"OR":i.Out=this.Algorithm.Or(o,h);break}y&&r.JSConsole.Complier.Log("[JSExecute::VisitBinaryExpression] LogicalExpression",i)}t=a}return t.Out},this.GetNodeValue=function(t){switch(t.Type){case v.Literal:return t.Value;case v.UnaryExpression:if("-"==t.Operator){var e=this.GetNodeValue(t.Argument);return this.Algorithm.Subtract(0,e)}return t.Argument.Value;case v.Identifier:var a=this.ReadVariable(t.Name,t);return a;case v.BinaryExpression:case v.LogicalExpression:return t.Out;case v.CallExpression:return this.VisitCallExpression(t);default:this.ThrowUnexpectedNode(t)}},this.ThrowUnexpectedNode=function(t,e){var a=t.Marker,i=e||"\u6267\u884c\u5f02\u5e38";return this.ErrorHandler.ThrowError(a.Index,a.Line,a.Column,i)},this.ThrowError=function(){}}function E(){}function N(t){this.Url=t.Url,this.RealtimeUrl=t.RealtimeUrl,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this.Args[0];switch(t){case 1:case 7:case"EXCHANGE":this.DownloadHistoryData(t);break;case 9:case 18:case 30:case 32:case 33:case 34:case 38:case 40:case 41:case 42:case 43:case"CAPITAL":case"TOTALCAPITAL":case 100:this.DownloadRealtimeData(t);break;default:this.DownloadRealtimeData(t);break}},this.DownloadRealtimeData=function(t){var a=this,i=this.GetFieldList();if(!i)return this.Job.FunctionName2?message="".concat(this.Job.FunctionName2," can't support."):this.Job.FunctionName?message="".concat(this.Job.FunctionName,"(").concat(this.Args[0],") can't support."):message="".concat(this.Args[0]," can't support."),this.ErrorCallback(message),void a.RecvCallback(null,a.Job,a.DataKey);e.request({url:this.RealtimeUrl,data:{field:i,symbol:[this.Symbol],condition:[],start:0,end:10},method:"POST",dataType:"json",async:!0,success:function(t){var e=a.RealtimeDataToHQChartData(t.data);a.RecvCallback(e,a.Job,a.DataKey)}})},this.DownloadHistoryData=function(t){var a=this,i=this.GetFieldList();if(!i)return message="".concat(this.Job.FunctionName,"(").concat(this.Args[0],") can't support."),this.ErrorCallback(message),void a.RecvCallback(null,a.Job,a.DataKey);e.request({url:this.Url,data:{field:i,symbol:[this.Symbol],condition:[],start:0,end:200},method:"POST",dataType:"json",async:!0,success:function(t){var e=a.ToHQChartData(t.data);e&&e.sort((function(t,e){return t.Date-e.Date})),a.RecvCallback(e,a.Job,a.DataKey)}})},this.GetFieldList=function(){var t=this.Args[0];switch(t){case 1:return["capital.total","capital.date"];case 7:return["capital.a","capital.date"];case"EXCHANGE":return["capital.a","capital.date"];case 9:return["finance.peruprofit","symbol","date"];case 18:return["finance.percreserve","symbol","date"];case 30:return["finance.nprofit","symbol","date"];case 32:return["finance.peruprofit","symbol","date"];case 33:return["finance.persearning","symbol","date"];case 34:return["finance.pernetasset","symbol","date"];case 38:return["finance.persearning","symbol","date"];case 40:return["capital.a","capital.date","symbol","date","price"];case 41:return["capital.total","capital.date","symbol","date","price"];case"CAPITAL":return["capital.a","capital.date","symbol","date"];case"TOTALCAPITAL":return["capital.total","capital.date","symbol","date"];case 42:return["company.releasedate","symbol","date"];case 43:return["dividendyield","symbol","date"];case 100:return["shareholder","symbol","date"];default:return null}},this.RealtimeDataToHQChartData=function(t,e){if(!t.stock||1!=t.stock.length)return null;var a=t.stock[0],i=(e=this.Args[0],a.date);switch(e){case 9:return a.finance?{Date:i,Value:a.finance.peruprofit}:null;case 18:return a.finance?{Date:i,Value:a.finance.percreserve}:null;case 30:return a.finance?{Date:i,Value:a.finance.nprofit}:null;case 32:return a.finance?{Date:i,Value:a.finance.peruprofit}:null;case 33:return a.finance?{Date:i,Value:a.finance.persearning}:null;case 34:return a.finance?{Date:i,Value:a.finance.pernetasset}:null;case 38:return a.finance?{Date:i,Value:a.finance.persearning}:null;case 40:return a.capital?{Date:i,Value:a.capital.a*a.price}:null;case 41:return a.capital?{Date:i,Value:a.capital.total*a.price}:null;case 42:if(!a.company)return null;var r=a.company.releasedate,n=parseInt(r/1e4),s=parseInt(r%1e4/100),o=r%100,h=new Date(n,s-1,o),l=new Date,u=parseInt((l.getTime()-h.getTime())/864e5);return{Date:i,Value:u+1};case 43:return a.dividendyield?{Date:i,Value:a.dividendyield.quarter4}:null;case 100:return a.shareholder?{Date:i,Value:a.shareholder.count}:null;case"CAPITAL":return a.capital?{Date:i,Value:a.capital.a/100}:null;case"TOTALCAPITAL":return a.capital?{Date:i,Value:a.capital.total/100}:null}},this.ToHQChartData=function(t){if(!t.stock||1!=t.stock.length)return null;var e=[],a=new Set,i=t.stock[0],r=this.Args[0];for(var n in i.stockday){var s=i.stockday[n],o=this.ToHQChartItemData(s,r);o&&!a.has(o.Date)&&(e.push(o),a.add(o.Date))}return e},this.ToHQChartItemData=function(t,e){if(!t)return null;var a=t.date;switch(e){case 1:return t.capital?{Date:a,Value:t.capital.total}:null;case 7:case"EXCHANGE":return t.capital?{Date:a,Value:t.capital.a}:null;default:return null}}}function _(t){this.Url=t.Url,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this,a=this.GetFieldList();if(!a)return message="".concat(this.Job.FunctionName,"(").concat(this.Args[0],") can't support."),this.ErrorCallback(message),void t.RecvCallback(null,t.Job,t.DataKey);e.request({url:this.Url,data:{field:a,symbol:[this.Symbol],condition:[{item:["finance","doc","exists","true"]}],start:0,end:200},method:"POST",dataType:"json",async:!0,success:function(e){var a=t.ToHQChartData(e.data);a&&a.sort((function(t,e){return t.Date-e.Date})),t.RecvCallback(a,t.Job,t.DataKey)}})},this.ToHQChartData=function(t){if(!t.stock||1!=t.stock.length)return null;var e=[],a=new Set,i=t.stock[0];for(var r in i.stockday){var n=i.stockday[r];if(n.announcement1){var s=this.ToHQChartItemData(n.announcement1,n.finance1,n);s&&!a.has(s.Date)&&(e.push(s),a.add(s.Date))}if(n.announcement2){s=this.ToHQChartItemData(n.announcement2,n.finance2,n);s&&!a.has(s.Date)&&(e.push(s),a.add(s.Date))}if(n.announcement3){s=this.ToHQChartItemData(n.announcement3,n.finance3,n);s&&!a.has(s.Date)&&(e.push(s),a.add(s.Date))}if(n.announcement4){s=this.ToHQChartItemData(n.announcement4,n.finance4,n);s&&!a.has(s.Date)&&(e.push(s),a.add(s.Date))}}return e},this.ToHQChartItemData=function(t,e,a){var i=this.Args[0],r=1e4*t.year,n=t.quarter;switch(n){case 1:r+=331;break;case 2:r+=630;break;case 3:r+=930;break;case 4:r+=1231;break;default:return null}var s={Date:r,Value:0};switch(i){case 0:s.Value=r%1e6;break;case 1:s.Value=e.persearning;break;case 3:s.Value=e.peruprofit;break;case 4:s.Value=e.pernetasset;break;case 5:s.Value=e.percreserve;break;case 6:s.Value=e.woewa;break;case 7:s.Value=e.perccfo;break;case 8:s.Value=e.monetaryfunds;break;case 11:s.Value=e.areceivable;break}return s},this.GetFieldList=function(){var t=this.Args[0];switch(t){case 0:return["finance.date"];case 1:return["finance.persearning"];case 3:return["finance.peruprofit"];case 4:return["finance.pernetasset"];case 5:return["finance.percreserve"];case 6:return["finance.woewa"];case 7:return["finance.perccfo"];case 8:return["finance.monetaryfunds"];case 11:return["finance.areceivable"];default:return null}}}function w(t){this.newMethod=_,this.newMethod(t),delete this.newMethod,this.Download=function(){var t=this,a=this.GetFieldList();if(!a)return message="".concat(this.Job.FunctionName,"(").concat(this.Args[0],", ").concat(this.Args[1],", ").concat(this.Args[2],") can't support."),this.ErrorCallback(message),void t.RecvCallback(null,t.Job,t.DataKey);var i=[{item:["finance","doc","exists","true"]}],r=this.Args[1],n=this.Args[2],s=0,o=3,h=null;0==r&&0==n||(0==r&&n<300?(s=n,o=200):0==n&&r<1e3?h=r:r>1909&&(331==n?(i=[{item:["announcement1.year","int32","eq",r]},{item:["finance1","doc","exists","true"]}],a.push("announcement1.year"),a.push("announcement1.quarter")):630==n?(i=[{item:["announcement2.year","int32","eq",r]},{item:["finance2","doc","exists","true"]}],a.push("announcement2.year"),a.push("announcement2.quarter")):930==n?(i=[{item:["announcement3.year","int32","eq",r]},{item:["finance3","doc","exists","true"]}],a.push("announcement4.year"),a.push("announcement4.quarter")):(i=[{item:["announcement4.year","int32","eq",r]},{item:["finance4","doc","exists","true"]}],a.push("announcement4.year"),a.push("announcement4.quarter")))),e.request({url:this.Url,data:{field:a,symbol:[this.Symbol],condition:i,start:0,end:o},method:"POST",dataType:"json",async:!0,success:function(e){var a=t.ToHQChartData(e.data),i=null;a&&a.length>0&&(a.sort((function(t,e){return e.Date-t.Date})),i=null==h?a[s]:t.GetPreYearData(a,h)),t.RecvCallback(i,t.Job,t.DataKey)}})},this.GetPreYearData=function(t,e){if(331!=e&&630!=e&&930!=e&&1231!=e){for(var a=t[0].Date%1e3,i=(r=1,0);r<t.length;++r){n=t[r];if(n.Date%1e4==a&&(++i,i==e))return n}return null}for(var r in t){var n=t[r];if(n.Date%1e4==e)return n}}}function b(t){this.Url=t.Url,this.RealtimeUrl=t.RealtimeUrl,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this,a=this.GetFieldList();if(!a)return message="".concat(this.Job.FunctionName,"(").concat(this.Args[0],", ").concat(this.Args[1],", ").concat(this.Args[2],") can't support."),this.ErrorCallback(message),void t.RecvCallback(null,t.Job,t.DataKey,!0);e.request({url:this.Url,data:{field:a,symbol:[this.Symbol],orderfield:"date",order:-1,start:0,end:5},method:"POST",dataType:"json",async:!0,success:function(e){var a=t.ToHQChartData(e.data);a&&a.length>0&&a.sort((function(t,e){return t.Date-e.Date})),t.RecvCallback(a,t.Job,t.DataKey)}})},this.GetFieldList=function(){var t=this.Args[0];switch(t){case 1:return["shareholder","date","symbol"];case 2:return["tradedetail.buy","tradedetail.sell","date","symbol"];case 3:return["margin","date","symbol"];case 4:return["blocktrading.amount","blocktrading.price","date","symbol"];default:return null}},this.ToHQChartData=function(t){if(!t.stock||1!=t.stock.length)return null;var e=[],a=new Set,i=t.stock[0],r=this.Args[0],n=this.Args[1];for(var s in i.stockday){var o=i.stockday[s],h=this.ToHQChartItemData(o,r,n);h&&!a.has(h.Date)&&(e.push(h),a.add(h.Date))}return e},this.ToHQChartItemData=function(t,e,a){if(!t)return null;var i=t.date;switch(e){case 1:return t.shareholder?{Date:i,Value:t.shareholder.count}:null;case 2:return!t.tradedetail&&t.tradedetail[0]?null:0==a?{Date:i,Value:t.tradedetail[0].buy}:{Date:i,Value:t.tradedetail[0].sell};case 3:if(!t.margin)return null;if(0==a){if(t.margin.buy)return{Date:i,Value:t.margin.buy.balance}}else if(t.margin.sell)return{Date:i,Value:t.margin.sell.balance};return null;case 4:return t.blocktrading?0==a?{Date:i,Value:t.blocktrading.price}:{Date:i,Value:t.blocktrading.amount}:null;default:return null}}}E.Tokenize=function(t){r.JSConsole.Complier.Log("[JSComplier.Tokenize]",t);var e=new S(t),a=[];try{while(1){var i=e.GetNextToken();if(!i)break;a.push(i)}}catch(n){}return a},E.Parse=function(t){r.JSConsole.Complier.Log("[JSComplier.Parse]",t);var e=new T(t);e.Initialize();var a=e.ParseScript(),i=a;return i},E.Execute=function(t,e,a){var i=function(){try{r.JSConsole.Complier.Log("[JSComplier.Execute]",t,e),r.JSConsole.Complier.Log("[JSComplier.Execute] parser .....");var i=new T(t);i.Initialize();var n=i.ParseScript(),s=n;r.JSConsole.Complier.Log("[JSComplier.Execute] parser finish.",s),r.JSConsole.Complier.Log("[JSComplier.Execute] execute .....");var o=new M(s,e);o.JobList=i.Node.GetDataJobList(),o.JobList.push({ID:L.JOB_RUN_SCRIPT});o.Execute()}catch(h){r.JSConsole.Complier.Log(h),a&&a(h)}};i(),r.JSConsole.Complier.Log("[JSComplier.Execute] async execute.")},E.SetDomain=function(t,e){t&&(c.Domain=t),e&&(c.CacheDomain=e)},E.AddFunction=function(t){if(t&&t.Name){var e=t.Name.toUpperCase();c.CustomFunction.Data.set(e,t)}},E.AddVariant=function(t){if(t&&t.Name){var e=t.Name.toUpperCase();c.CustomVariant.Data.set(e,t)}},t.exports={JSCommonComplier:{JSComplier:E}}}).call(this,a("fe07")["default"])},e25c:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view"),a("image",{staticClass:t._$s(2,"sc","backimg"),attrs:{src:t._$s(2,"a-src",t.backimg_url),_i:2}}),a("view",[a("view",[a("image",{staticClass:t._$s(5,"sc","logo"),attrs:{src:t._$s(5,"a-src",t.icon_url),_i:5}})]),a("view",[a("form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:t._$s(8,"sc","input"),attrs:{_i:8},domProps:{value:t._$s(8,"v-model",t.name)},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:t._$s(9,"sc","input"),attrs:{_i:9},domProps:{value:t._$s(9,"v-model",t.password)},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),a("view",{staticClass:t._$s(10,"sc","forget"),attrs:{_i:10},on:{click:t.forget}},[a("text",{staticClass:t._$s(11,"sc","forget_test"),attrs:{_i:11}})]),a("view",[a("button",{staticClass:t._$s(13,"sc","button"),attrs:{_i:13},on:{click:function(e){return t.login()}}})]),a("view",[a("button",{staticClass:t._$s(15,"sc","button"),attrs:{_i:15},on:{click:function(e){return t.register()}}})])])])},n=[]},e2ff:function(t,e,a){"use strict";a.r(e);var i=a("36ba"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},e3e3:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","container loading6"),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","shape shape1"),attrs:{_i:1}}),a("view",{staticClass:t._$s(2,"sc","shape shape2"),attrs:{_i:2}}),a("view",{staticClass:t._$s(3,"sc","shape shape3"),attrs:{_i:3}}),a("view",{staticClass:t._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},e59f:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","v-tabs"),attrs:{id:t._$s(0,"a-id",t.elId),_i:0}},[a("scroll-view",{style:t._$s(1,"s",{position:t.fixed?"fixed":"relative",zIndex:30}),attrs:{id:"scrollContainer","scroll-x":t._$s(1,"a-scroll-x",t.scroll),"scroll-left":t._$s(1,"a-scroll-left",t.scroll?t.scrollLeft:0),"scroll-with-animation":t._$s(1,"a-scroll-with-animation",t.scroll),_i:1}},[a("view",{staticClass:t._$s(2,"sc","v-tabs__container"),style:t._$s(2,"s",{display:t.scroll?"inline-flex":"flex",whiteSpace:t.scroll?"nowrap":"normal",background:t.bgColor,height:t.height,padding:t.padding}),attrs:{_i:2}},[t._l(t._$s(3,"f",{forItems:t.tabs}),(function(e,i,r,n){return a("view",{key:t._$s(3,"f",{forIndex:r,key:i}),staticClass:t._$s("3-"+n,"sc","v-tabs__container-item"),style:t._$s("3-"+n,"s",{color:t.current==i?t.activeColor:t.color,fontSize:(t.current,t.fontSize),fontWeight:t.bold&&t.current==i?"bold":"",justifyContent:t.scroll?"":"center",flex:t.scroll?"":1,padding:t.paddingItem}),attrs:{_i:"3-"+n},on:{click:function(e){return t.change(i)}}},[t._v(t._$s("3-"+n,"t0-0",t._s(t.field?e[t.field]:e)))])})),t._$s(4,"i",!t.pills)?a("view",{staticClass:t._$s(4,"sc","v-tabs__container-line"),style:t._$s(4,"s",{background:t.lineColor,width:t.lineWidth+"px",height:t.lineHeight,borderRadius:t.lineRadius,left:t.lineLeft+"px",transform:"translateX(-"+t.lineWidth/2+"px)"}),attrs:{_i:4}}):a("view",{staticClass:t._$s(5,"sc","v-tabs__container-pills"),style:t._$s(5,"s",{background:t.pillsColor,borderRadius:t.pillsBorderRadius,left:t.pillsLeft+"px",width:t.currentWidth+"px",height:t.height}),attrs:{_i:5}})],2)]),a("view",{staticClass:t._$s(6,"sc","v-tabs__placeholder"),style:t._$s(6,"s",{height:t.fixed?t.height:"0",padding:t.padding}),attrs:{_i:6}})])},n=[]},e7d4:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","uni-popup-message"),class:t._$s(0,"c","uni-popup__"+[t.type]),attrs:{_i:0}},[a("text",{staticClass:t._$s(1,"sc","uni-popup-message-text"),class:t._$s(1,"c","uni-popup__"+[t.type]+"-text"),attrs:{_i:1}},[t._v(t._$s(1,"t0-0",t._s(t.message)))])])},n=[]},e822:function(t,e){var a=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],i=function(t,e){var a=new Date;a.setTime(1e3*t);var i=a.getFullYear(),r=a.getMonth()+1;r=r<10?"0"+r:r;var n=a.getDate();n=n<10?"0"+n:n;var s=a.getHours();s=s<10?"0"+s:s;var o=a.getMinutes(),h=a.getSeconds();return o=o<10?"0"+o:o,h=h<10?"0"+h:h,"full"==e?i+"-"+r+"-"+n+" "+s+":"+o+":"+h:"y-m-d"==e?i+"-"+r+"-"+n:"h:m"==e?s+":"+o:"h:m:s"==e?s+":"+o+":"+h:[i,r,n,s,o,h]};t.exports={type:["pie","ring","rose","word","funnel","map","arcbar","line","column","bar","area","radar","gauge","candle","mix","tline","tarea","scatter","bubble","demotype"],range:["\u997c\u72b6\u56fe","\u5706\u73af\u56fe","\u73ab\u7470\u56fe","\u8bcd\u4e91\u56fe","\u6f0f\u6597\u56fe","\u5730\u56fe","\u5706\u5f27\u8fdb\u5ea6\u6761","\u6298\u7ebf\u56fe","\u67f1\u72b6\u56fe","\u6761\u72b6\u56fe","\u533a\u57df\u56fe","\u96f7\u8fbe\u56fe","\u4eea\u8868\u76d8","K\u7ebf\u56fe","\u6df7\u5408\u56fe","\u65f6\u95f4\u8f74\u6298\u7ebf","\u65f6\u95f4\u8f74\u533a\u57df","\u6563\u70b9\u56fe","\u6c14\u6ce1\u56fe","\u81ea\u5b9a\u4e49\u7c7b\u578b"],categories:["line","column","bar","area","radar","gauge","candle","mix","demotype"],instance:{},option:{},formatter:{yAxisDemo1:function(t){return t+"\u5143"},yAxisDemo2:function(t){return t.toFixed(2)},xAxisDemo1:function(t){return t+"\u5e74"},xAxisDemo2:function(t){return i(t,"h:m")},seriesDemo1:function(t){return t+"\u5143"},tooltipDemo1:function(t,e,a,i){return 0==a?"\u968f\u4fbf\u7528"+t.data+"\u5e74":"\u5176\u4ed6\u6211\u6ca1\u6539"+t.data+"\u5929"},pieDemo:function(t,e,a){if(void 0!==e)return a[e].name+"\uff1a"+a[e].data+"\u5143"}},demotype:{type:"line",color:a,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"curve",width:2}}},pie:{type:"pie",color:a,padding:[5,5,5,5],extra:{pie:{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},ring:{type:"ring",color:a,padding:[5,5,5,5],rotate:!1,dataLabel:!0,legend:{show:!0,position:"right",lineHeight:25},title:{name:"\u6536\u76ca\u7387",fontSize:15,color:"#666666"},subtitle:{name:"70%",fontSize:25,color:"#7cb5ec"},extra:{ring:{ringWidth:30,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},rose:{type:"rose",color:a,padding:[5,5,5,5],legend:{show:!0,position:"left",lineHeight:25},extra:{rose:{type:"area",minRadius:50,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF"}}},word:{type:"word",color:a,extra:{word:{type:"normal",autoColors:!1}}},funnel:{type:"funnel",color:a,padding:[15,15,0,15],extra:{funnel:{activeOpacity:.3,activeWidth:10,border:!0,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,labelAlign:"right"}}},map:{type:"map",color:a,padding:[0,0,0,0],dataLabel:!0,extra:{map:{border:!0,borderWidth:1,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#F04864",activeFillColor:"#FACC14",activeFillOpacity:1}}},arcbar:{type:"arcbar",color:a,title:{name:"\u767e\u5206\u6bd4",fontSize:25,color:"#00FF00"},subtitle:{name:"\u9ed8\u8ba4\u6807\u9898",fontSize:15,color:"#666666"},extra:{arcbar:{type:"default",width:12,backgroundColor:"#E9E9E9",startAngle:.75,endAngle:.25,gap:2}}},line:{type:"line",color:a,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"straight",width:2}}},tline:{type:"line",color:a,padding:[15,10,0,15],xAxis:{disableGrid:!1,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{line:{type:"curve",width:2}}},tarea:{type:"area",color:a,padding:[15,10,0,15],xAxis:{disableGrid:!0,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{area:{type:"curve",opacity:.2,addLine:!0,width:2,gradient:!0}}},column:{type:"column",color:a,padding:[15,15,0,5],xAxis:{disableGrid:!0},yAxis:{data:[{min:0}]},legend:{},extra:{column:{type:"group",width:30,meterBorde:1,meterFillColor:"#FFFFFF",activeBgColor:"#000000",activeBgOpacity:.08}}},bar:{type:"bar",color:a,padding:[15,30,0,5],xAxis:{boundaryGap:"justify",disableGrid:!1,min:0,axisLine:!1},yAxis:{},legend:{},extra:{bar:{type:"group",width:30,meterBorde:1,meterFillColor:"#FFFFFF",activeBgColor:"#000000",activeBgOpacity:.08}}},area:{type:"area",color:a,padding:[15,15,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{area:{type:"straight",opacity:.2,addLine:!0,width:2,gradient:!1}}},radar:{type:"radar",color:a,padding:[5,5,5,5],legend:{show:!0,position:"right",lineHeight:25},extra:{radar:{gridType:"radar",gridColor:"#CCCCCC",gridCount:3,opacity:.2,max:200}}},gauge:{type:"gauge",color:a,title:{name:"66Km/H",fontSize:25,color:"#2fc25b",offsetY:50},subtitle:{name:"\u5b9e\u65f6\u901f\u5ea6",fontSize:15,color:"#1890ff",offsetY:-50},extra:{gauge:{type:"default",width:30,labelColor:"#666666",startAngle:.75,endAngle:.25,startNumber:0,endNumber:100,labelFormat:"",splitLine:{fixRadius:0,splitNumber:10,width:30,color:"#FFFFFF",childNumber:5,childWidth:12},pointer:{width:24,color:"auto"}}}},candle:{type:"candle",color:a,padding:[15,15,0,15],enableScroll:!0,enableMarkLine:!0,dataLabel:!1,xAxis:{labelCount:4,itemCount:40,disableGrid:!0,gridColor:"#CCCCCC",gridType:"solid",dashLength:4,scrollShow:!0,scrollAlign:"left",scrollColor:"#A6A6A6",scrollBackgroundColor:"#EFEBEF"},yAxis:{},legend:{},extra:{candle:{color:{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},average:{show:!0,name:["MA5","MA10","MA30"],day:[5,10,20],color:["#1890ff","#2fc25b","#facc14"]}},markLine:{type:"dash",dashLength:5,data:[{value:2150,lineColor:"#f04864",showLabel:!0},{value:2350,lineColor:"#f04864",showLabel:!0}]}}},mix:{type:"mix",color:a,padding:[15,15,0,15],xAxis:{disableGrid:!0},yAxis:{disabled:!1,disableGrid:!1,splitNumber:5,gridType:"dash",dashLength:4,gridColor:"#CCCCCC",padding:10,showTitle:!0,data:[]},legend:{},extra:{mix:{column:{width:20}}}},scatter:{type:"scatter",color:a,padding:[15,15,0,15],dataLabel:!1,xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0},yAxis:{disableGrid:!1,gridType:"dash"},legend:{},extra:{scatter:{}}},bubble:{type:"bubble",color:a,padding:[15,15,0,15],xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0,max:250},yAxis:{disableGrid:!1,gridType:"dash",data:[{min:0,max:150}]},legend:{},extra:{bubble:{border:2,opacity:.5}}}}},ed4e:function(t,e,a){"use strict";a.r(e);var i=a("43d0"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},eff7:function(t,e,a){"use strict";(function(t){function a(t,e){return o(t)||s(t,e)||r(t,e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return n(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function s(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],i=!0,r=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done);i=!0)if(a.push(s.value),e&&a.length===e)break}catch(h){r=!0,n=h}finally{try{i||null==o["return"]||o["return"]()}finally{if(r)throw n}}return a}}function o(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.baseURL=void 0;var h="http://192.168.31.120:8000";e.baseURL=h;var l={},u=function(e,i,r,n){return new Promise((function(s,o){uni.request({method:i,url:h+e,data:r,dataType:"json",header:l}).then((function(e){var i=a(e,2),r=(i[0],i[1]);s(r),t("log","--",n,"--\u8fd4\u56de\u5305\uff1a",r," at src/request.js:21")}))}))},c=u;e.default=c}).call(this,a("0de9")["default"])},f0c5:function(t,e,a){"use strict";function i(t,e,a,i,r,n,s,o,h,l){var u,c="function"===typeof t?t.options:t;if(h){c.components||(c.components={});var C=Object.prototype.hasOwnProperty;for(var m in h)C.call(h,m)&&!C.call(c.components,m)&&(c.components[m]=h[m])}if(l&&((l.beforeCreate||(l.beforeCreate=[])).unshift((function(){this[l.__module]=this})),(c.mixins||(c.mixins=[])).push(l)),e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),i&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),s?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):r&&(u=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(t,e){return u.call(e),f(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:t,options:c}}a.d(e,"a",(function(){return i}))},f19e:function(t,e){function a(t){if("number"===typeof t){var e=new Date,a=e.getTime(),i=6e4*e.getTimezoneOffset(),r=a+i;return new Date(r+36e5*t)}}var i={SH:".SH",SZ:".SZ",SHSZ_C_Index:".CI",SHO:".SHO",HK:".HK",FHK:".FHK",SHFE:".SHF",SHFE2:".SHFE",CFFEX:".CFE",DCE:".DCE",CZCE:".CZC",USA:".USA",FTSE:".FTSE",BIT:".BIT",BIZ:".BIZ",NYMEX:".NYMEX",COMEX:".COMEX",NYBOT:".NYBOT",CBOT:".CBOT",LME:".LME",ET:".ET",IsET:function(t){return!!t&&t.indexOf(this.ET)>0},IsETShowAvPrice:function(t){return!1},IsNYMEX:function(t){return!!t&&t.indexOf(this.NYMEX)>0},IsCOMEX:function(t){return!!t&&t.indexOf(this.COMEX)>0},IsNYBOT:function(t){return!!t&&t.indexOf(this.NYBOT)>0},IsCBOT:function(t){return!!t&&t.indexOf(this.CBOT)>0},IsLME:function(t){return!!t&&t.indexOf(this.LME)>0},IsFTSE:function(t){return!!t&&t.indexOf(this.FTSE)>0},IsFHK:function(t){return!!t&&t.indexOf(this.FHK)>0},IsBIT:function(t){return!!t&&(t.indexOf(this.BIT)>0||t.indexOf(this.BIZ)>0)},IsUSA:function(t){return!!t&&t.indexOf(this.USA)>0},IsSH:function(t){var e=t.length-this.SH.length,a=t.indexOf(this.SH);return a==e},IsSZ:function(t){var e=t.length-this.SZ.length,a=t.indexOf(this.SZ);return a==e},IsSHSZCustomIndex:function(t){var e=t.length-this.SHSZ_C_Index.length,a=t.indexOf(this.SHSZ_C_Index);return a==e},IsSHO:function(t){var e=t.length-this.SHO.length,a=t.indexOf(this.SHO);return a==e},IsHK:function(t){var e=t.length-this.HK.length,a=t.indexOf(this.HK);return a==e},IsSHFE:function(t){return!!t&&(t.indexOf(this.SHFE)>0||t.indexOf(this.SHFE2)>0)},IsCFFEX:function(t){return!!t&&t.indexOf(this.CFFEX)>0},IsDCE:function(t){return!!t&&t.indexOf(this.DCE)>0},IsCZCE:function(t){return!!t&&t.indexOf(this.CZCE)>0},IsChinaFutures:function(t){return this.IsCFFEX(t)||this.IsCZCE(t)||this.IsDCE(t)||this.IsSHFE(t)},IsFutures:function(t){return this.IsChinaFutures(t)||this.IsNYMEX(t)||this.IsCOMEX(t)||this.IsNYBOT(t)||this.IsCBOT(t)||this.IsLME(t)},IsSHSZ:function(t){return this.IsSZ(t)||this.IsSH(t)||this.IsSHSZCustomIndex(t)},IsSHSZFund:function(t){if(!t)return!1;if(this.IsSH(t)){if("5"==t.charAt(0)&&"1"==t.charAt(1))return!0}else if(this.IsSZ(t)&&"1"==t.charAt(0)&&("5"==t.charAt(1)||"6"==t.charAt(1)||"7"==t.charAt(1)||"8"==t.charAt(1)))return!0;return!1},IsSHSZIndex:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){var a=e.replace(".SH","");if("0"==e.charAt(0)&&parseInt(a)<=3e3)return!0}else if(this.IsSZ(e)){if("3"==e.charAt(0)&&"9"==e.charAt(1))return!0}else if(this.IsSHSZCustomIndex(e))return!0;return!1},IsSHSZStockA:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){e.replace(".SH","");if("6"==e.charAt(0))return!0}else if(this.IsSZ(e)&&"0"==e.charAt(0)){if("0"==e.charAt(1)&&"2"==e.charAt(2))return!0;if("7"!=e.charAt(1)&&"8"!=e.charAt(1))return!0}return!1},IsSHStockSTAR:function(t){if(!t)return!1;var e=t.toUpperCase();return!!this.IsSH(e)&&("6"==e.charAt(0)&&"8"==e.charAt(1)&&"8"==e.charAt(2))},GetMarketStatus:function(t){if(!t)return 0;var e=t.toUpperCase(),i=new Date,r=i.getDay(),n=100*i.getHours()+i.getMinutes();if(this.IsUSA(e)){var s=a(-4);r=s.getDay(),n=100*s.getHours()+s.getMinutes();return 6==r||0==r?0:n>1730?3:n<930?1:2}return this.IsBIT(e)?2:this.IsFTSE(e)?6==r||0==r?0:n>=830&&n<=2359||n>=0&&n<=500?2:0:this.IsFHK(e)?6==r||0==r?0:n>=900&&n<=2359||n>=0&&n<=120?2:0:this.IsET(e)?this.GetETMarketStatus(t):this.IsHK(e)?6==r||0==r?0:n>1630?3:n<925?1:2:this.IsNYMEX(e)?this.GetNYMEXMarketStatus(e):this.IsCOMEX(e)?this.GetCOMEXMarketStatus(e):this.IsNYBOT(e)?this.GetNYBOTMarketStatus(e):this.IsCBOT(e)?this.GetCBOTMarketStatus(e):this.IsChinaFutures(e)?6==r||0==r?0:n>=2100||n<=240||n>=830&&n<=1510?2:1:6==r||0==r?0:n>1540?3:n<925?1:2},GetDefaultDecimal:function(t){return 2},GetFHKDecimal:function(t){return 0},GetFTSEDecimal:function(t){return 0},GetBITDecimal:function(t){return 2},GetETDecimal:function(t){return 2},GetSHODecimal:function(t){return 4},GetNYMEXDecimal:function(t){return d.GetDecimal(t)},GetCOMEXDecimal:function(t){return D.GetDecimal(t)},GetNYBOTDecimal:function(t){return p.GetDecimal(t)},GetCBOTDecimal:function(t){return S.GetDecimal(t)},GetLMEDecimal:function(t){return v.GetDecimal(t)},GetETMarketStatus:function(t){return 2},GetCOMEXMarketStatus:function(t){return D.GetMarketStatus(t)},GetNYBOTMarketStatus:function(t){return p.GetMarketStatus(t)},GetCBOTMarketStatus:function(t){return S.GetMarketStatus(t)},GetNYMEXMarketStatus:function(t){return d.GetMarketStatus(t)}};function r(){this.SHSZ=null,this.HK=null,this.Futures=new Map,this.USA=null,this.FTSE=null,this.FHK=null,this.BIT=null,this.Initialize=function(){},this.GetET=function(t){throw{Name:"MinuteTimeStringData::GetET",Error:"not implement"}},this.GetSHSZ=function(){return this.SHSZ||(this.SHSZ=this.CreateSHSZData()),this.SHSZ},this.GetSHO=function(){return this.SHO||(this.SHO=this.CreateSHOData()),this.SHO},this.GetHK=function(){return this.HK||(this.HK=this.CreateHKData()),this.HK},this.GetFutures=function(t){if(!this.Futures.has(t.Name)){var e=this.CreateTimeData(t.Data);this.Futures.set(t.Name,e)}return this.Futures.get(t.Name)},this.GetUSA=function(){return this.USA||(this.USA=this.CreateUSAData()),this.USA},this.GetFTSE=function(){return this.FTSE||(this.FTSE=this.CreateFTSEData()),this.FTSE},this.GetFHK=function(){return this.FHK||(this.FHK=this.CreateFHKData()),this.FHK},this.GetBIT=function(t){return this.BIT||(this.BIT=this.CreateBITData()),this.BIT},this.CreateSHSZData=function(){var t=[{Start:925,End:925},{Start:930,End:1130},{Start:1300,End:1500}];return this.CreateTimeData(t)},this.CreateSHOData=function(){var t=[{Start:930,End:1129},{Start:1300,End:1500}];return this.CreateTimeData(t)},this.CreateHKData=function(){var t=[{Start:930,End:1200},{Start:1300,End:1600}];return this.CreateTimeData(t)},this.CreateUSAData=function(){var t=[{Start:930,End:1600}];return this.CreateTimeData(t)},this.CreateFTSEData=function(){var t=[{Start:1700,End:2359},{Start:0,End:445},{Start:900,End:1630}];return this.CreateTimeData(t)},this.CreateFHKData=function(){var t=[{Start:1715,End:2359},{Start:0,End:100},{Start:915,End:1200},{Start:1300,End:1630}];return this.CreateTimeData(t)},this.CreateBITData=function(){var t=[{Start:600,End:2359},{Start:0,End:559}];return this.CreateTimeData(t)},this.CreateTimeData=function(t){var e=[];for(var a in t)for(var i=t[a],r=i.Start;r<=i.End;++r)r%100>=60||e.push(r);return e},this.GetTimeData=function(t){if(!t)return this.SHSZ;var e=t.toLocaleUpperCase();if(i.IsSH(e)||i.IsSZ(e)||i.IsSHSZIndex(e))return this.GetSHSZ();if(i.IsHK(e))return this.GetHK();if(i.IsCFFEX(e)||i.IsCZCE(e)||i.IsDCE(e)||i.IsSHFE(e)){var a=f.GetSplitData(e);return a?this.GetFutures(a):null}if(i.IsFTSE(e))return this.GetFTSE();if(i.IsFHK(e))return this.GetFHK();if(i.IsET(e))return this.GetET(e);if(i.IsBIT(e))return this.GetBIT(e);if(i.IsNYMEX(e)){a=d.GetSplitData(e);return a?this.GetFutures(a):null}if(i.IsCOMEX(e)){a=D.GetSplitData(e);return a?this.GetFutures(a):null}if(i.IsNYBOT(e)){a=p.GetSplitData(e);return a?this.GetFutures(a):null}if(i.IsCBOT(e)){a=S.GetSplitData(e);return a?this.GetFutures(a):null}if(i.IsLME(e)){a=v.GetSplitData(e);return a?this.GetFutures(a):null}}}function n(){var t={Full:[[0,0,"rgb(200,200,200)","09:30"],[31,0,"RGB(200,200,200)","10:00"],[61,0,"RGB(200,200,200)","10:30"],[91,0,"RGB(200,200,200)","11:00"],[122,1,"RGB(200,200,200)","13:00"],[152,0,"RGB(200,200,200)","13:30"],[182,0,"RGB(200,200,200)","14:00"],[212,0,"RGB(200,200,200)","14:30"],[242,1,"RGB(200,200,200)","15:00"]],Simple:[[0,0,"rgb(200,200,200)","09:30"],[61,0,"RGB(200,200,200)","10:30"],[122,1,"RGB(200,200,200)","13:00"],[182,0,"RGB(200,200,200)","14:00"],[242,1,"RGB(200,200,200)","15:00"]],Min:[[0,0,"rgb(200,200,200)","09:30"],[122,1,"RGB(200,200,200)","13:00"],[242,1,"RGB(200,200,200)","15:00"]],Count:243,MiddleCount:122,GetData:function(t){return t<200?this.Min:t<400?this.Simple:this.Full}},e={Full:[[0,0,"rgb(200,200,200)","09:30"],[30,0,"RGB(200,200,200)","10:00"],[60,0,"RGB(200,200,200)","10:30"],[90,0,"RGB(200,200,200)","11:00"],[120,1,"RGB(200,200,200)","13:00"],[150,0,"RGB(200,200,200)","13:30"],[180,0,"RGB(200,200,200)","14:00"],[210,0,"RGB(200,200,200)","14:30"],[240,1,"RGB(200,200,200)","15:00"]],Simple:[[0,0,"rgb(200,200,200)","09:30"],[60,0,"RGB(200,200,200)","10:30"],[120,1,"RGB(200,200,200)","13:00"],[180,0,"RGB(200,200,200)","14:00"],[240,1,"RGB(200,200,200)","15:00"]],Min:[[0,0,"rgb(200,200,200)","09:30"],[120,1,"RGB(200,200,200)","13:00"],[240,1,"RGB(200,200,200)","15:00"]],Count:241,MiddleCount:120,GetData:function(t){return t<200?this.Min:t<400?this.Simple:this.Full}},a={Full:[[0,1,"RGB(200,200,200)","09:30"],[30,0,"RGB(200,200,200)","10:00"],[60,1,"RGB(200,200,200)","10:30"],[90,0,"RGB(200,200,200)","11:00"],[120,1,"RGB(200,200,200)","11:30"],[151,0,"RGB(200,200,200)","13:00"],[181,1,"RGB(200,200,200)","13:30"],[211,0,"RGB(200,200,200)","14:00"],[241,1,"RGB(200,200,200)","14:30"],[271,0,"RGB(200,200,200)","15:00"],[301,1,"RGB(200,200,200)","15:30"],[331,1,"RGB(200,200,200)","16:00"]],Simple:[[0,1,"RGB(200,200,200)","09:30"],[60,1,"RGB(200,200,200)","10:30"],[120,1,"RGB(200,200,200)","11:30"],[211,0,"RGB(200,200,200)","14:00"],[271,0,"RGB(200,200,200)","15:00"],[331,1,"RGB(200,200,200)","16:00"]],Min:[[0,1,"RGB(200,200,200)","09:30"],[151,0,"RGB(200,200,200)","13:00"],[331,1,"RGB(200,200,200)","16:00"]],Count:332,MiddleCount:151,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},r={Full:[[0,1,"RGB(200,200,200)","17:00"],[120,1,"RGB(200,200,200)","19:00"],[240,1,"RGB(200,200,200)","21:00"],[360,1,"RGB(200,200,200)","23:00"],[480,1,"RGB(200,200,200)","01:00"],[600,1,"RGB(200,200,200)","03:00"],[706,1,"RGB(200,200,200)","09:00"],[826,1,"RGB(200,200,200)","11:00"],[946,1,"RGB(200,200,200)","13:00"],[1066,1,"RGB(200,200,200)","15:00"],[1156,1,"RGB(200,200,200)","16:30"]],Simple:[[0,1,"RGB(200,200,200)","17:00"],[240,1,"RGB(200,200,200)","21:00"],[480,1,"RGB(200,200,200)","01:00"],[706,1,"RGB(200,200,200)","09:00"],[946,1,"RGB(200,200,200)","13:00"],[1156,1,"RGB(200,200,200)","16:30"]],Min:[[0,1,"RGB(200,200,200)","17:00"],[706,1,"RGB(200,200,200)","09:00"],[1156,1,"RGB(200,200,200)","16:30"]],Count:1157,MiddleCount:707,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},n={Full:[[0,1,"RGB(200,200,200)","17:15"],[105,1,"RGB(200,200,200)","19:00"],[225,1,"RGB(200,200,200)","21:00"],[345,1,"RGB(200,200,200)","23:00"],[466,0,"RGB(200,200,200)","09:15"],[571,1,"RGB(200,200,200)","11:00"],[692,1,"RGB(200,200,200)","14:00"],[843,1,"RGB(200,200,200)","16:30"]],Simple:[[0,1,"RGB(200,200,200)","17:15"],[225,1,"RGB(200,200,200)","21:00"],[466,0,"RGB(200,200,200)","09:15"],[632,1,"RGB(200,200,200)","13:00"],[843,1,"RGB(200,200,200)","16:30"]],Min:[[0,1,"RGB(200,200,200)","17:15"],[466,0,"RGB(200,200,200)","09:15"],[843,1,"RGB(200,200,200)","16:30"]],Count:843,MiddleCount:466,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}};this.GetCoordinateData=function(e,r){var n=null;if(e){var s=e.toLocaleUpperCase();if(i.IsSH(s)||i.IsSZ(s))n=this.GetSHSZData(s,r);else if(i.IsSHO(s))n=this.GetSHOData(s,r);else if(i.IsHK(s))n=a;else{if(i.IsCFFEX(s)||i.IsCZCE(s)||i.IsDCE(s)||i.IsSHFE(s))return this.GetChinatFuturesData(s,r);if(i.IsUSA(s))n=this.GetUSAData(s,r);else if(i.IsFTSE(s,r))n=this.GetFTSEData(s,r);else if(i.IsFHK(s,r))n=this.GetFHKData(s,r);else if(i.IsET(s))n=this.GetETData(s,r);else{if(i.IsNYMEX(s,r))return this.GetNYMEXData(s,r);if(i.IsCOMEX(s,r))return this.GetCOMEXData(s,r);if(i.IsNYBOT(s,r))return this.GetNYBOTData(s,r);if(i.IsCBOT(s,r))return this.GetCBOTData(s,r);if(i.IsLME(s,r))return this.GetLMEData(s,r);i.IsBIT(s,r)&&(n=this.GetBITData(s,r))}}}else n=t;var o={Count:n.Count,MiddleCount:n.MiddleCount,Data:n.GetData(r)};return o},this.GetSHSZData=function(e,a){var i=t;return i},this.GetFuturesData=function(t,e,a){var i=a.GetSplitData(t);if(!i)return null;var r=C.GetFutures(i);if(!r)return null;var n={Count:r.length},s=null,o=200,h=480;s=e<o?i.Coordinate.Min:e<h?i.Coordinate.Simple:i.Coordinate.Full;for(var l=[],u=0;u<r.length;++u)for(var c=r[u],m=0;m<s.length;++m){var f=s[m];if(c==f.Value){var d=[u,0,"RGB(200,200,200)",f.Text];l.push(d);break}}return n.Data=l,n},this.GetChinatFuturesData=function(t,e){return this.GetFuturesData(t,e,f)},this.GetNYMEXData=function(t,e){return this.GetFuturesData(t,e,d)},this.GetCOMEXData=function(t,e){return this.GetFuturesData(t,e,D)},this.GetNYBOTData=function(t,e){return this.GetFuturesData(t,e,p)},this.GetCBOTData=function(t,e){return this.GetFuturesData(t,e,S)},this.GetLMEData=function(t,e){return this.GetFuturesData(t,e,v)},this.GetFTSEData=function(t,e){var a=r;return a},this.GetFHKData=function(t,e){var a=n;return a},this.GetETData=function(t,e){throw{Name:"MinuteCoordinateData::GetETData",Error:"not implement"}},this.GetBITData=function(t,e){throw{Name:"MinuteCoordinateData::GetBITData",Error:"not implement"}},this.GetUSAData=function(t,e){var a=USA_MINUTE_X_COORDINATE;return a},this.GetSHOData=function(t,a){var i=e;return i}}function s(){this.TIME_SPLIT=[{Name:"9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:900,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1031,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1331,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1e3,Text:"10:00"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Min:[{Value:900,Text:"9:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}]}},{Name:"9:15-11:30,13:00-15:15",Data:[{Start:915,End:1130},{Start:1301,End:1515}],Coordinate:{Full:[{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1301,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1515,Text:"15:15"}],Simple:[{Value:930,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1301,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1515,Text:"15:15"}],Min:[{Value:930,Text:"9:30"},{Value:1301,Text:"13:00"},{Value:1515,Text:"15:15"}]}},{Name:"9:30-11:30,13:00-15:00",Data:[{Start:930,End:1130},{Start:1301,End:1500}],Coordinate:{Full:[{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1301,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:930,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1301,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1500,Text:"15:00"}],Min:[{Value:930,Text:"9:30"},{Value:1301,Text:"13:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-23:30,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2330},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-1:00,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2359},{Start:0,End:100},{Start:901,End:1015},{Start:1031,End:1130},{Start:1301,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1030,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-2:30,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2359},{Start:0,End:230},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-23:00,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2300},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1500,Text:"15:00"}]}}],this.MAP_TWOWORDS=new Map([[i.DCE+"-JD",{Time:0,Decimal:0,Name:"\u9e21\u86cb"}],[i.DCE+"-FB",{Time:0,Decimal:2,Name:"\u7ea4\u677f"}],[i.DCE+"-BB",{Time:0,Decimal:2,Name:"\u80f6\u677f"}],[i.DCE+"-PP",{Time:6,Decimal:0,Name:"\u4e19\u70ef"}],[i.DCE+"-JM",{Time:6,Decimal:1,Name:"\u7126\u7164"}],[i.DCE+"-EG",{Time:6,Decimal:0,Name:"\u4e59\u4e8c\u9187"}],[i.DCE+"-EB",{Time:6,Decimal:0,Name:"\u82ef\u4e59\u70ef"}],[i.DCE+"-CS",{Time:6,Decimal:0,Name:"\u6dc0\u7c89"}],[i.DCE+"-PG",{Time:6,Decimal:0,Name:"\u6db2\u5316\u6c14"}],[i.DCE+"-RR",{Time:6,Decimal:0,Name:"\u6897\u7c73"}],[i.SHFE+"-CU",{Time:4,Decimal:0}],[i.SHFE+"-AL",{Time:4,Decimal:0}],[i.SHFE+"-NI",{Time:4,Decimal:0}],[i.SHFE+"-SN",{Time:4,Decimal:0}],[i.SHFE+"-ZN",{Time:4,Decimal:0}],[i.SHFE+"-PB",{Time:4,Decimal:0}],[i.SHFE+"-RU",{Time:6,Decimal:0}],[i.SHFE+"-FU",{Time:6,Decimal:0}],[i.SHFE+"-RB",{Time:6,Decimal:0}],[i.SHFE+"-BU",{Time:6,Decimal:0}],[i.SHFE+"-HC",{Time:6,Decimal:0}],[i.SHFE+"-WR",{Time:0,Decimal:0}],[i.SHFE+"-AG",{Time:5,Decimal:0}],[i.SHFE+"-AU",{Time:5,Decimal:2}],[i.SHFE+"-NR",{Time:6,Decimal:1,Name:"20\u53f7\u80f6"}],[i.SHFE+"-SC",{Time:6,Decimal:1,Name:"\u4e2d\u8d28\u542b\u786b\u539f\u6cb9"}],[i.SHFE+"-LU",{Time:6,Decimal:0,Name:"\u4f4e\u786b\u71c3\u6599\u6cb9"}],[i.CZCE+"-CF",{Time:3,Decimal:0}],[i.CZCE+"-SR",{Time:3,Decimal:0}],[i.CZCE+"-MA",{Time:3,Decimal:0}],[i.CZCE+"-ZC",{Time:3,Decimal:1}],[i.CZCE+"-TA",{Time:3,Decimal:0}],[i.CZCE+"-RM",{Time:3,Decimal:0}],[i.CZCE+"-OI",{Time:3,Decimal:0}],[i.CZCE+"-ME",{Time:3,Decimal:0}],[i.CZCE+"-FG",{Time:3,Decimal:0}],[i.CZCE+"-WS",{Time:0,Decimal:0}],[i.CZCE+"-WT",{Time:0,Decimal:0}],[i.CZCE+"-GN",{Time:0,Decimal:0}],[i.CZCE+"-RO",{Time:0,Decimal:0}],[i.CZCE+"-RS",{Time:0,Decimal:0}],[i.CZCE+"-ER",{Time:0,Decimal:0}],[i.CZCE+"-RI",{Time:0,Decimal:0}],[i.CZCE+"-WH",{Time:0,Decimal:0}],[i.CZCE+"-AP",{Time:0,Decimal:0}],[i.CZCE+"-PM",{Time:0,Decimal:0}],[i.CZCE+"-QM",{Time:0,Decimal:0}],[i.CZCE+"-TC",{Time:0,Decimal:0}],[i.CZCE+"-JR",{Time:0,Decimal:0}],[i.CZCE+"-LR",{Time:0,Decimal:0}],[i.CZCE+"-SF",{Time:0,Decimal:0}],[i.CZCE+"-SM",{Time:0,Decimal:0}],[i.CFFEX+"-TF",{Time:1,Decimal:3,Name:"\u4e8c\u503a"}],[i.CFFEX+"-TS",{Time:1,Decimal:3,Name:"\u4e94\u503a"}],[i.CFFEX+"-IH",{Time:2,Decimal:1,Name:"\u4e0a\u8bc1\u80a1\u6307\u671f\u8d27"}],[i.CFFEX+"-IC",{Time:2,Decimal:1,Name:"\u4e2d\u8bc1\u80a1\u6307\u671f\u8d27"}],[i.CFFEX+"-IF",{Time:2,Decimal:1,Name:"\u6caa\u6df1\u80a1\u6307\u671f\u8d27"}]]),this.MAP_ONEWORD=new Map([[i.DCE+"-C",{Time:6,Decimal:0,Name:"\u7389\u7c73"}],[i.DCE+"-L",{Time:6,Decimal:0,Name:"\u4e59\u70ef"}],[i.DCE+"-V",{Time:6,Decimal:0,Name:"PVC"}],[i.DCE+"-A",{Time:6,Decimal:0,Name:"\u8c46\u4e00"}],[i.DCE+"-B",{Time:6,Decimal:0,Name:"\u8c46\u4e8c"}],[i.DCE+"-M",{Time:6,Decimal:0,Name:"\u8c46\u7c95"}],[i.DCE+"-Y",{Time:6,Decimal:0,Name:"\u8c46\u6cb9"}],[i.DCE+"-P",{Time:6,Decimal:0,Name:"\u68d5\u6988"}],[i.DCE+"-J",{Time:6,Decimal:1,Name:"\u7126\u70ad"}],[i.DCE+"-I",{Time:6,Decimal:1,Name:"\u94c1\u77ff"}],[i.CFFEX+"-T",{Time:1,Decimal:3,Name:"\u5341\u503a"}]]),this.GetData=function(t){var e=t.charAt(0),a=t.substr(0,2),r=null,n=null;return i.IsDCE(t)?(r=i.DCE+"-"+e,n=i.DCE+"-"+a):i.IsSHFE(t)?(r=i.SHFE+"-"+e,n=i.SHFE+"-"+a):i.IsCFFEX(t)?(r=i.CFFEX+"-"+e,n=i.CFFEX+"-"+a):i.IsCZCE(t)&&(r=i.CZCE+"-"+e,n=i.CZCE+"-"+a),this.MAP_TWOWORDS.has(n)?this.MAP_TWOWORDS.get(n):this.MAP_ONEWORD.has(r)?this.MAP_ONEWORD.get(r):null},this.GetSplitData=function(t){var e=this.GetData(t);return e?this.TIME_SPLIT[e.Time]:null},this.GetDecimal=function(t){var e=this.GetData(t);return e?e.Decimal:2},this.AddNewFutures=function(t){if(t){var e=t.Suffix+"-"+t.Symbol,a={Time:t.Time,Decimal:t.Decimal,Name:t.Name};1==t.Symbol.length?this.MAP_ONEWORD.set(e,a):2==t.Symbol.length&&this.MAP_TWOWORDS.set(e,a)}}}function o(){this.MarketSuffix=".NYMEX",this.TimeType=0,this.TIME_SPLIT=[{Name:"6:00-5:00",Data:[{Start:600,End:2359},{Start:0,End:500}],Coordinate:{Full:[{Value:600,Text:"6:00"},{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"}],Simple:[{Value:600,Text:"6:00"},{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:600,Text:"6:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.TIME_SPLIT2=[{Name:"7:00-6:00",Data:[{Start:700,End:2359},{Start:0,End:600}],Coordinate:{Full:[{Value:700,Text:"7:00"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"}],Simple:[{Value:700,Text:"7:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:300,Text:"3:00"}],Min:[{Value:700,Text:"7:00"},{Value:1900,Text:"19:00"},{Value:500,Text:"5:00"}]}}],this.FUTURES_LIST=[{Symbol:"CL",Decimal:2,Time:0},{Symbol:"NG",Decimal:3,Time:0},{Symbol:"RB",Decimal:4,Time:0},{Symbol:"PL",Decimal:1,Time:0},{Symbol:"PA",Decimal:2,Time:0},{Symbol:"HR",Decimal:0,Time:0},{Symbol:"QM",Decimal:3,Time:0},{Symbol:"HO",Decimal:4,Time:0}],this.GetFuturesInfo=function(t){if(t.indexOf(this.MarketSuffix)<=0)return null;for(var e in this.FUTURES_LIST){var a=this.FUTURES_LIST[e];if(0==t.indexOf(a.Symbol))return a}return null},this.GetSplitData=function(t){var e=0==this.TimeType?this.TIME_SPLIT:this.TIME_SPLIT2,a=this.GetFuturesInfo(t);return a?e[a.Time]:e[0]},this.GetDecimal=function(t){var e=this.GetFuturesInfo(t);return e?e.Decimal:3},this.GetMarketStatus=function(t){var e=a(-4),i=new Date,r=e.getDay(),n=100*i.getHours()+i.getMinutes();return 6==r||0==r?0:n>430&&n<730?1:2}}function h(){this.newMethod=o,this.newMethod(),delete this.newMethod,this.FUTURES_LIST=[{Symbol:"GC",Decimal:1,Time:0},{Symbol:"QO",Decimal:2,Time:0},{Symbol:"MG",Decimal:1,Time:0},{Symbol:"QI",Decimal:4,Time:0},{Symbol:"SI",Decimal:3,Time:0},{Symbol:"QI",Decimal:4,Time:0},{Symbol:"HG",Decimal:4,Time:0}],this.MarketSuffix=".COMEX"}function l(){this.newMethod=o,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"9:00-2:20",Data:[{Start:900,End:2359},{Start:0,End:220}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1700,Text:"17:00"},{Value:100,Text:"1:00"}]}},{Name:"15:30-1:00",Data:[{Start:1530,End:2359},{Start:0,End:100}],Coordinate:{Full:[{Value:1600,Text:"16:00"},{Value:1700,Text:"17:00"},{Value:1800,Text:"18:00"},{Value:1900,Text:"19:00"},{Value:2e3,Text:"20:00"},{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:0,Text:"0:00"},{Value:100,Text:"1:00"}],Simple:[{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"}],Min:[{Value:1600,Text:"16:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}]}}],this.TIME_SPLIT2=[{Name:"10:00-3:20",Data:[{Start:1e3,End:2359},{Start:0,End:320}],Coordinate:{Full:[{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:1e3,Text:"10:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"16:30-2:00",Data:[{Start:1630,End:2359},{Start:0,End:200}],Coordinate:{Full:[{Value:1700,Text:"17:00"},{Value:1800,Text:"18:00"},{Value:1900,Text:"19:00"},{Value:2e3,Text:"20:00"},{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:0,Text:"0:00"},{Value:100,Text:"1:00"},{Value:200,Text:"2:00"}],Simple:[{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"}],Min:[{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:200,Text:"2:00"}]}}],this.FUTURES_LIST=[{Symbol:"SB",Decimal:2,Time:1},{Symbol:"CT",Decimal:2,Time:0}],this.MarketSuffix=".NYBOT",this.GetMarketStatus=function(t){var e=a(-4),i=e.getDay(),r=100*e.getHours()+e.getMinutes();if(6==i||0==i)return 0;var n=this.GetFuturesInfo(t);if(!n)return 2;if("SB"==n.Symbol){if(r>300&&r<1400)return 2}else if("CT"==n.Symbol)return r>=0&&r<=1500||r>=2e3&&r<=2359?2:1;return 0}}function u(){this.newMethod=o,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"8:00-2:20",Data:[{Start:800,End:2359},{Start:0,End:220}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"8:00-2:45",Data:[{Start:800,End:2359},{Start:0,End:245}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"6:00-5:00",Data:[{Start:600,End:2359},{Start:0,End:500}],Coordinate:{Full:[{Value:600,Text:"6:00"},{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"}],Simple:[{Value:600,Text:"6:00"},{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:600,Text:"6:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.TIME_SPLIT2=[{Name:"9:00-3:20",Data:[{Start:900,End:2359},{Start:0,End:320}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"9:00-3:45",Data:[{Start:900,End:2359},{Start:0,End:345}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"7:00-6:00",Data:[{Start:700,End:2359},{Start:0,End:600}],Coordinate:{Full:[{Value:700,Text:"7:00"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"}],Simple:[{Value:700,Text:"7:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:300,Text:"3:00"}],Min:[{Value:700,Text:"7:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.FUTURES_LIST=[{Symbol:"ZC",Decimal:2,Time:0},{Symbol:"XC",Decimal:2,Time:1},{Symbol:"ZS",Decimal:2,Time:0},{Symbol:"XK",Decimal:2,Time:1},{Symbol:"ZL",Decimal:2,Time:0},{Symbol:"ZR",Decimal:2,Time:0},{Symbol:"ZO",Decimal:2,Time:0},{Symbol:"ZW",Decimal:2,Time:0},{Symbol:"XW",Decimal:2,Time:1},{Symbol:"ZM",Decimal:1,Time:0},{Symbol:"EH",Decimal:3,Time:2},{Symbol:"YM",Decimal:0,Time:2},{Symbol:"ES",Decimal:2,Time:2},{Symbol:"NQ",Decimal:2,Time:2},{Symbol:"TY",Decimal:4,Time:2},{Symbol:"TU",Decimal:4,Time:2},{Symbol:"FV",Decimal:4,Time:2},{Symbol:"US",Decimal:4,Time:2},{Symbol:"UL",Decimal:4,Time:2}],this.MarketSuffix=".CBOT"}function c(){this.newMethod=o,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"LME 9:00-3:00",Data:[{Start:900,End:2359},{Start:0,End:300}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1800,Text:"18:00"},{Value:300,Text:"3:00"}]}}],this.TIME_SPLIT=[{Name:"LME 8:00-2:00",Data:[{Start:800,End:2359},{Start:0,End:200}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}}],this.FUTURES_LIST=[{Symbol:"SND",Decimal:0,Time:0},{Symbol:"AHD",Decimal:2,Time:0},{Symbol:"PBD",Decimal:2,Time:0},{Symbol:"ZSD",Decimal:2,Time:0},{Symbol:"CAD",Decimal:2,Time:0},{Symbol:"NID",Decimal:0,Time:0}],this.MarketSuffix=".LME"}var C=new r,m=new n,f=new s,d=new o,D=new h,p=new l,S=new u,v=new c;function g(t){var e=2;if(!t)return e;var a=t.toUpperCase();return"function"==typeof i.GetCustomDecimal?i.GetCustomDecimal(a):(e=i.IsSHSZFund(a)?3:i.IsSHO(a)?i.GetSHODecimal(a):i.IsChinaFutures(a)?f.GetDecimal(a):i.IsFHK(a)?i.GetFHKDecimal(a):i.IsFTSE(a)?i.GetFTSEDecimal(a):i.IsBIT(a)?i.GetBITDecimal(a):i.IsET(a)?i.GetETDecimal(a):i.IsNYMEX(a)?d.GetDecimal(a):i.IsCOMEX(a)?D.GetDecimal(a):i.IsNYBOT(a)?p.GetDecimal(a):i.IsCBOT(a)?S.GetDecimal(a):i.GetDefaultDecimal(a),e)}t.exports={JSCommonCoordinateData:{MinuteCoordinateData:m,MinuteTimeStringData:C,MARKET_SUFFIX_NAME:i,GetfloatPrecision:g},JSCommonCoordinateData_MARKET_SUFFIX_NAME:i,JSCommonCoordinateData_Global_FuturesTimeData:f,JSCommonCoordinateData_Global_NYMEXTimeData:d,JSCommonCoordinateData_Global_COMEXTimeData:D,JSCommonCoordinateData_Global_NYBOTTimeData:p,JSCommonCoordinateData_Global_LMETimeData:v,JSCommonCoordinateData_Global_CBOTTimeData:S}},f3ee:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=h(a("75dd")),r=h(a("5fe6")),n=h(a("1e22")),s=h(a("f74c")),o=h(a("bb06"));function h(t){return t&&t.__esModule?t:{default:t}}var l={components:{Loading1:i.default,Loading2:r.default,Loading3:n.default,Loading4:s.default,Loading5:o.default},name:"qiun-loading",props:{loadingType:{type:Number,default:2}},data:function(){return{}}};e.default=l},f5df:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"loading3",data:function(){return{}}};e.default=i},f621:function(t,e){function a(){}a.EMA=function(t,e){var a=[],i=0;if(i>=t.length)return a;for(;i<t.length;++i)if(null!=t[i]&&!isNaN(t[i]))break;var r=i,n=i+1;a[r]=t[r];for(var s=i+1;s<t.length;++s,++r,++n)a[n]=(2*t[n]+(e-1)*a[r])/(e+1);return a},a.SMA=function(t,e,a){for(var i=[],r=0,n=null;r<t.length;++r)if(null!=t[r]&&!isNaN(t[r])){n=t[r],i[r]=n;break}for(++r;r<t.length;++r)i[r]=(a*t[r]+(e-a)*n)/e,n=i[r];return i},a.DMA=function(t,e){var a=[];if(t.length<0||t.length!=e.length)return a;for(var i=0;i<t.length;++i)if(null!=t[i]&&!isNaN(t[i])&&null!=e[i]&&!isNaN(e[i])){a[i]=t[i];break}for(i+=1;i<t.length;++i)null==t[i]||null==e[i]?a[i]=null:t[i]<1?a[i]=e[i]*t[i]+(1-e[i])*a[i-1]:a[i]=t[i];return a},a.HHV=function(t,e){var a=[];if(e>t.length)return a;for(var i=-1e4,r=e,n=0;r<t.length;++r,++n){if(r<e+i)i=t[r]<t[i]?i:r;else for(n=1+(i=r-e+1);n<=r;++n)t[n]>t[i]&&(i=n);a[r]=t[i]}return a},a.LLV=function(t,e){var a=[];if(e>t.length)return a;for(var i=-1e4,r=e;r<t.length;++r,++n){if(r<e+i)i=t[r]>t[i]?i:r;else for(var n=1+(i=r-e+1);n<=r;++n)t[n]<t[i]&&(i=n);a[r]=t[i]}return a},a.REF=function(t,e){var a=[];if(t.length<=0)return a;if(e>=t.length)return a;a=t.slice(0,t.length-e);for(var i=0;i<e;++i)a.unshift(null);return a},a.REFDATE=function(t,e){var a=[];if(t.length<=0)return a;for(var i in e=t.length-1,t)a[i]=t[e];return a},a.SUM=function(t,e){var a=[];if(0==e){a[0]=t[0];for(var i=1;i<t.length;++i)a[i]=a[i-1]+t[i]}else{i=e-1;for(var r=0;i<t.length;++i,++r)for(var n=0;n<e;++n)0==n?a[i]=t[n+r]:a[i]+=t[n+r]}return a},a.ARRAY_SUBTRACT=function(t,e){var a=[],i="number"==typeof e;if(i)for(var r in t)null==t[r]||isNaN(t[r])?a[r]=null:a[r]=t[r]-e;else{var n=Math.max(t.length,e.length);for(r=0;r<n;++r)r<t.length&&r<e.length?null==t[r]||null==e[r]?a[r]=null:a[r]=t[r]-e[r]:a[r]=null}return a},a.ARRAY_GT=function(t,e){var a=[],i="number"==typeof e;if(i)for(var r in t)a[r]=t[r]>e?1:0;else{var n=Math.max(t.length,e.length);for(r=0;r<n;++r)r<t.length&&r<e.length?a[r]=t[r]>e[r]?1:0:a[r]=null}return a},a.ARRAY_GTE=function(t,e){var a=[],i="number"==typeof e;if(i)for(var r in t)a[r]=t[r]>=e?1:0;else{var n=Math.max(t.length,e.length);for(r=0;r<n;++r)r<t.length&&r<e.length?a[r]=t[r]>=e[r]?1:0:a[r]=null}return a},a.ARRAY_LT=function(t,e){var a=[],i="number"==typeof e;if(i)for(var r in t)a[r]=t[r]<e?1:0;else{var n=Math.max(t.length,e.length);for(r=0;r<n;++r)r<t.length&&r<e.length?a[r]=t[r]<e[r]?1:0:a[r]=null}return a},a.ARRAY_LTE=function(t,e){var a=[],i="number"==typeof e;if(i)for(var r in t)a[r]=t[r]<=e?1:0;else{var n=Math.max(t.length,e.length);for(r=0;r<n;++r)r<t.length&&r<e.length?a[r]=t[r]<=e[r]?1:0:a[r]=null}return a},a.ARRAY_EQ=function(t,e){var a=[],i="number"==typeof e;if(i)for(var r in t)a[r]=t[r]==e?1:0;else{var n=Math.max(t.length,e.length);for(r=0;r<n;++r)r<t.length&&r<e.length?a[r]=t[r]==e[r]?1:0:a[r]=null}return a},a.ARRAY_IF=function(t,e,a){var i=[],r=["number"==typeof e,"number"==typeof a];for(var n in t)t[n]?r[0]?i[n]=e:i[n]=e[n]:r[1]?i[n]=a:i[n]=a[n];return i},a.ARRAY_AND=function(t,e){var a=[],i="number"==typeof trueData;if(i)for(var r in t)a[r]=t[r]&&e?1:0;else{var n=Math.max(t.length,e.length);for(r=0;r<n;++r)r<t.length&&r<e.length?a[r]=t[r]&&e[r]?1:0:a[r]=0}return a},a.ARRAY_OR=function(t,e){var a=[],i="number"==typeof e;if(i)for(var r in t)a[r]=t[r]||e?1:0;else{var n=Math.max(t.length,e.length);for(r=0;r<n;++r)r<t.length&&t[r]||r<e.length&&e[r]?a[r]=1:a[r]=0}return a},a.ARRAY_MULTIPLY=function(t,e){if(2==arguments.length){var i=[],r="number"==typeof e;if(r)for(var n in t)null==t[n]||isNaN(t[n])?i[n]=null:i[n]=t[n]*e;else{var s=Math.max(t.length,e.length);for(n=0;n<s;++n)n<t.length&&n<e.length?i[n]=t[n]*e[n]:i[n]=null}return i}for(i=a.ARRAY_MULTIPLY(arguments[0],arguments[1]),n=2;n<arguments.length;++n)i=a.ARRAY_MULTIPLY(i,arguments[n]);return i},a.ARRAY_DIVIDE=function(t,e){var a=[],i="number"==typeof e;if(i)for(var r in t)a[r]=t[r]/e;else{var n=Math.max(t.length,e.length);for(r=0;r<n;++r)r<t.length&&r<e.length?null==t[r]||null==e[r]||isNaN(t[r])||isNaN(e[r])||0==e[r]?a[r]=null:a[r]=t[r]/e[r]:a[r]=null}return a},a.ARRAY_ADD=function(t,e){if(2==arguments.length){var i=[],r="number"==typeof e;if(r)for(var n in t)i[n]=t[n]+e;else{var s=Math.max(t.length,e.length);for(n=0;n<s;++n)n<t.length&&n<e.length?null==t[n]||null==e[n]||isNaN(t[n])||isNaN(e[n])?i[n]=null:i[n]=t[n]+e[n]:i[n]=null}return i}for(i=a.ARRAY_ADD(arguments[0],arguments[1]),n=2;n<arguments.length;++n)i=a.ARRAY_ADD(i,arguments[n]);return i},a.MAX=function(t,e){var a=[],i="number"==typeof e;if(i)for(var r in t)null==t[r]?a[r]=null:a[r]=Math.max(t[r],e);else{var n=Math.max(t.length,e.length);for(r=0;r<n;++r)r<t.length&&r<e.length?null==t[r]||null==e[r]?a[r]=null:a[r]=Math.max(t[r],e[r]):a[r]=null}return a},a.MIN=function(t,e){var a=[],i="number"==typeof e;if(i)for(var r in t)null==t[r]?a[r]=null:a[r]=Math.min(t[r],e);else{var n=Math.max(t.length,e.length);for(r=0;r<n;++r)r<t.length&&r<e.length?null==t[r]||null==e[r]?a[r]=null:a[r]=Math.min(t[r],e[r]):a[r]=null}return a},a.ABS=function(t){var e=[];for(var a in t)null==t[a]?e[a]=null:e[a]=Math.abs(t[a]);return e},a.MA=function(t,e){for(var a=[],i=0,r=t.length;i<r;i++)if(i<e)a[i]=null;else{for(var n=0,s=0;s<e;s++)n+=t[i-s];a[i]=n/e}return a},a.EXPMA=function(t,e){var a=[];if(e>=t.length)return a;for(var i=e;i<t.length;++i)if(null!=t[i]){a[i]=t[i];break}for(i+=1;i<t.length;++i)null!=a[i-1]&&null!=t[i]?a[i]=(2*t[i]+(e-1)*a[i-1])/(e+1):null!=a[i-1]&&(a[i]=a[i-1]);return a},a.EXPMEMA=function(t,e){var a=[];if(e>=t.length)return a;for(var i=0;i<t.length;++i)if(t[i]&&!isNaN(t[i]))break;for(var r=0,n=0;i<t.length&&n<e;++n,++i)t[i]&&!isNaN(t[i])?r+=t[i]:r+=t[i-1];for(a[i-1]=r/e;i<t.length;++i)null!=a[i-1]&&null!=t[i]?a[i]=(2*t[i]+(e-1)*a[i-1])/(e+1):null!=a[i-1]&&(a[i]=a[i-1]);return a},a.STD=function(t,e){for(var a=[],i=0,r=[],n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=t[n-s];r[n]=i/e}for(n=e-1;n<t.length;++n){i=0;for(s=0;s<e;++s)i+=Math.pow(t[n-s]-r[n],2);a[n]=Math.sqrt(i/e)}return a},a.AVEDEV=function(t,e){for(var a=[],i=0,r=[],n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=t[n-s];r[n]=i/e}for(n=e-1;n<t.length;++n){i=0;for(s=0;s<e;++s)i+=Math.abs(t[n-s]-r[n]);a[n]=i/e}return a},a.COUNT=function(t,e){for(var a=[],i=e-1;i<t.length;++i){for(var r=0,n=0;n<e;++n)t[i-n]&&++r;a[i]=r}return a},a.CROSS=function(t,e){var a=[];if(t.length!=e.length)return[];for(var i=0;i<t.length;++i)if(null!=t[i]&&!isNaN(t[i])&&null!=e[i]&&isNaN(e[i]))break;for(++i;i<t.length;++i)a[i]=t[i]>e[i]&&t[i-1]<e[i-1]?1:0;return a},a.MULAR=function(t,e){var a=[];if(t.length<e)return a;for(var i=e;i<t.length;++i)if(null!=t[i]&&!isNaN(t[i])){a[i]=t[i];break}for(++i;i<t.length;++i)a[i]=a[i-1]*t[i];return a},a.STICKLINE=function(t,e,a){var i=[];if(t.length<=0)return i;var r="number"==typeof e,n="number"==typeof a;for(var s in t)if(i[s]=null,!isNaN(t[s])&&t[s])if(r&&n)i[s]={Value:e,Value2:a};else if(r&&!n){if(isNaN(a[s]))continue;i[s]={Value:e,Value2:a[s]}}else if(!r&&n){if(isNaN(e[s]))continue;i[s]={Value:e[s],Value2:a}}else{if(isNaN(e[s])||isNaN(a[s]))continue;i[s]={Value:e[s],Value2:a[s]}}return i},t.exports={JSCommon_HQIndexFormula:a}},f74c:function(t,e,a){"use strict";a.r(e);var i=a("6352"),r=a("a83c");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);var s,o=a("f0c5"),h=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"33929875",null,!1,i["a"],s);e["default"]=h.exports},fb15:function(t,e){t.exports="/static/head.jpg"},fe07:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Behavior=Et,e.Component=Mt,e.Page=yt,e.nextTick=e.default=void 0;var i,r=n(a("8bbf"));function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t,e){return C(t)||c(t,e)||l(t,e)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function c(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],i=!0,r=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done);i=!0)if(a.push(s.value),e&&a.length===e)break}catch(h){r=!0,n=h}finally{try{i||null==o["return"]||o["return"]()}finally{if(r)throw n}}return a}}function C(t){if(Array.isArray(t))return t}function m(t,e){t&&(e.mpOptions.data=t)}function f(e){e.components=t.__wxVueOptions.components}var d=Object.prototype.toString,D=Object.prototype.hasOwnProperty;function p(t){return"function"===typeof t}function S(t){return"[object Object]"===d.call(t)}function v(t,e){return D.call(t,e)}function g(){}function T(t){var e=Object.create(null);return function(a){var i=e[a];return i||(e[a]=t(a))}}var I=/-(\w)/g,x=T((function(t){return t.replace(I,(function(t,e){return e?e.toUpperCase():""}))})),A="__data__",F={created:"onServiceCreated",attached:"onServiceAttached",ready:"mounted",moved:"moved",detached:"destroyed"},y=Object.keys(F),L={show:"onPageShow",hide:"onPageHide",resize:"onPageResize"},M=Object.keys(L),E=["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function N(t,e){var a=Object.create(null);Object.keys(t).forEach((function(e){var i=t[e];p(i)&&-1===E.indexOf(e)&&(a[e]=i)})),e.methods=a}function _(t,e){Object.keys(t).forEach((function(a){-1!==E.indexOf(a)&&(e[a]=t[a])}))}function w(t){var e={mixins:[],mpOptions:{}};return f(e),m(t.data,e),N(t,e),_(t,e),e}function b(t,e){t&&(e.mpOptions.properties=t)}function O(t,e){t&&(e.mpOptions.options=t)}function R(t,e){t&&(t.$emit&&(console.warn('Method "$emit" conflicts with an existing Vue instance method'),delete t.$emit),e.methods=t)}function P(t,e){y.forEach((function(a){v(t,a)&&(e[F[a]]||(e[F[a]]=[])).push(t[a])}))}var B={"wx://form-field":{},"wx://component-export":{}};function G(t){var e=t.behaviors,a=t.definitionFilter,i=[];if(Array.isArray(e)&&e.forEach((function(e){e="string"===typeof e?B[e]:e,e.definitionFilter&&(i.push(e.definitionFilter),e.definitionFilter.call(null,t,[]))})),p(a))return function(t){a(t,i)}}function k(t,e){G(t)}function V(t){var e=t.data,a=t.methods,i=t.behaviors,r=t.properties,n={watch:{},mpOptions:{mpObservers:[]}};return m(e,n),R(a,n),J(i,n),b(r,n),P(t,n),k(t),n}var H={"wx://form-field":{beforeCreate:function(){var t=this.$options.mpOptions;t.properties||(t.properties=Object.create(null));var e=t.properties;v(e,"name")||(e.name={type:String}),v(e,"value")||(e.value={type:String})}}};function J(t,e){t&&t.forEach((function(t){"string"===typeof t?H[t]&&e.mixins.push(H[t]):e.mixins.push(V(t))}))}function U(t){return t.split(".")}function W(t){return t.split(",").map((function(t){return U(t)}))}function Y(t,e){if(t){var a=e.mpOptions.mpObservers;Object.keys(t).forEach((function(e){a.push({paths:W(e),observer:t[e]})}))}}function X(t,e){0===e.indexOf("/")&&(t="");var a=t.split("/"),i=e.split("/");a.pop();while(i.length){var r=i.shift();""!==r&&"."!==r&&(".."!==r?a.push(r):a.pop())}return a.join("/")}function K(e,a){e&&(Object.keys(e).forEach((function(a){var i=e[a];i.name=a,i.target=i.target?String(i.target):X(t.__wxRoute,a)})),a.mpOptions.relations=e)}function z(t,e){t&&(Array.isArray(t)||(t=[t]),e.mpOptions.externalClasses=t,e.mpOptions.properties||(e.mpOptions.properties=Object.create(null)),t.forEach((function(t){e.mpOptions.properties[x(t)]={type:String,value:""}})))}function $(t,e){t&&P(t,e)}function q(t,e){t&&M.forEach((function(a){var i=t[a];p(i)&&(e[L[a]]=i)}))}function j(t){var e=t.data,a=t.options,i=t.methods,r=t.behaviors,n=t.lifetimes,s=t.observers,o=t.relations,h=t.properties,l=t.pageLifetimes,u=t.externalClasses,c={mixins:[],props:{},watch:{},mpOptions:{mpObservers:[]}};return f(c),m(e,c),O(a,c),R(i,c),J(r,c),$(n,c),Y(s,c),K(o,c),b(h,c),q(l,c),z(u,c),P(t,c),k(t),c}function Z(t,e,a,i){if(e){var r="_$".concat(t,"Handlers");(i[r]||(i[r]=[])).push((function(){e.call(i,a)}))}}function Q(t,e,a){var i="linked",r=t.name,n=a._$relationNodes||(a._$relationNodes=Object.create(null));(n[r]||(n[r]=[])).push(e),Z(i,t[i],e,a)}function tt(t,e,a){var i="unlinked";Z(i,t[i],e,a)}function et(t,e,a){var i=t&&t.$options.mpOptions&&t.$options.mpOptions.relations;if(!i)return[];var r=Object.keys(i).find((function(t){var r=i[t];return r.target===e&&r.type===a}));return r?[i[r],t]:[]}function at(t,e,a){var i=a(t,t.$options.mpOptions.path),r=o(i,2),n=r[0],s=r[1];n&&(Q(n,t,s),Q(e,s,t),tt(n,t,s),tt(e,s,t))}function it(t,e){var a=t.type;"parent"===a?at(e,t,(function(t,e){return et(t.$parent,e,"child")})):"ancestor"===a&&at(e,t,(function(t,e){var a=t.$parent;while(a){var i=et(a,e,"descendant");if(i.length)return i;a=a.$parent}return[]}))}function rt(t){var e=t.$options.mpOptions||{},a=e.relations;a&&Object.keys(a).forEach((function(e){it(a[e],t)}))}function nt(t,e){var a=t["_$".concat(e,"Handlers")];a&&a.forEach((function(t){return t()}))}var st={enumerable:!0,configurable:!0,get:g,set:g};function ot(t,e,a){st.get=function(){return this[e][a]},st.set=function(t){this[e][a]=t},Object.defineProperty(t,a,st)}function ht(t,e,a){var i=t.replace(/\[(\d+?)\]/g,".$1").split(".");return i.reduce((function(t,a,r){if(r!==i.length-1)return"undefined"===typeof t[a]&&(t[a]={}),t[a];t[a]=e}),a),1===i.length}function lt(t,e){var a=this;S(t)&&(Object.keys(t).forEach((function(e){ht(e,t[e],a.data)&&!v(a,e)&&ot(a,A,e)})),this.$forceUpdate(),p(e)&&this.$nextTick(e))}var ut=Object.prototype.toString,ct=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,i=ut.call(a);if("[object Array]"===i)return e=a.slice(0),e;if("[object Object]"===i){for(var r in a)e[r]=t(e[r],a[r]);return e}if("[object Date]"===i)return new Date(a.getTime());if("[object RegExp]"===i){var n=String(a),s=n.lastIndexOf("/");return new RegExp(n.slice(1,s),n.slice(s+1))}return a},Ct=function(t){return ct("[object Array]"===ut.call(t)?[]:{},t)},mt=(i={},s(i,String,""),s(i,Number,0),s(i,Boolean,!1),s(i,Object,null),s(i,Array,[]),s(i,null,null),i);function ft(t){return mt[t]}function dt(t){return S(t)?v(t,"value")?t.value:ft(t.type):ft(t)}function Dt(t){return S(t)?t.type:t}function pt(t,e,a,i){var r=a[t];if(void 0!==r){var n=e[t],s=Dt(n);r=St(r,s);var o=n&&n.observer;return o&&setTimeout((function(){vt(o,i,r)}),4),r}return dt(e[t])}function St(t,e){return e===Boolean?!!t:e===String?String(t):t}function vt(t,e,a,i){try{"function"===typeof t?t.call(e,a,i):"string"===typeof t&&"function"===typeof e[t]&&e[t](a,i)}catch(r){console.error("execute observer ".concat(t," callback fail! err: ").concat(r))}}function gt(t,e){var a=t.$options.mpOptions.properties;if(a){var i=Ct(t.$options.propsData)||{},r=function(r){var n=!!S(a[r])&&a[r].observer,s=pt(r,a,i,t);Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){var a=s;e===s||e!==e&&s!==s||(s=Array.isArray(e)?e.slice(0):e,n&&vt(n,t,e,a),t.$forceUpdate())}})};for(var n in a)r(n)}}function Tt(t){var e=t.$options.mpOptions&&t.$options.mpOptions.properties,a=t.$options.propsData;a&&e&&Object.keys(e).forEach((function(i){v(a,i)&&(t[i]=St(a[i],Dt(e[i])))}))}function It(t){var e=JSON.parse(JSON.stringify(t.$options.mpOptions.data||{}));t[A]=e;var a={get:function(){return t[A]},set:function(e){t[A]=e}};Object.defineProperties(t,{data:a,properties:a}),t.setData=lt,gt(t,e),Object.keys(e).forEach((function(e){ot(t,A,e)}))}function xt(t){var e=t.$emit;t.triggerEvent=function(a,i,r){var n={dataset:t.$el.dataset},s={target:n,currentTarget:n,detail:i,preventDefault:g,stopPropagation:g};e.call(t,a,s)},t.$emit=function(){t.triggerEvent.apply(t,arguments)},t.getRelationNodes=function(e){return(t._$relationNodes&&t._$relationNodes[e]||[]).filter((function(t){return!t._isDestroyed}))},t._$updateProperties=Tt}function At(t){var e=t.$options.watch;e&&Object.keys(e).forEach((function(a){var i=e[a];if(i.mounted){var r=t[a],n=i.handler;"string"===typeof n&&(n=t[n]),n&&n.call(t,r,r)}}))}var Ft={beforeCreate:function(){this._renderProxy=this,this._$self=this,this._$noop=g},created:function(){It(this),xt(this),rt(this)},mounted:function(){At(this)},destroyed:function(){nt(this,"unlinked")}};function yt(e){var a=w(e);a.mixins.unshift(Ft),a.mpOptions.path=t.__wxRoute,t.__wxComponents[t.__wxRoute]=a}function Lt(t){t.onServiceAttached||(t.onServiceAttached=[]),t.onServiceAttached.push((function(){nt(this,"linked")}))}function Mt(e){var a=j(e);a.mixins.unshift(Ft),a.mpOptions.path=t.__wxRoute,Lt(a),t.__wxComponents[t.__wxRoute]=a}function Et(t){return t}t.__wxRoute="",t.__wxComponents=Object.create(null),t.__wxVueOptions=Object.create(null);var Nt=r.default.nextTick;e.nextTick=Nt;var _t=uni.__$wx__,wt=_t;e.default=wt}).call(this,a("c8ba"))},ff8b:function(t,e,a){"use strict";a.r(e);var i=a("2608"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a}},[["c7fb","app-config"]]]);